function GE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L7={exports:{}},hd={},z7={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),KE=Symbol.for("react.portal"),YE=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),XE=Symbol.for("react.profiler"),JE=Symbol.for("react.provider"),ZE=Symbol.for("react.context"),eS=Symbol.for("react.forward_ref"),tS=Symbol.for("react.suspense"),nS=Symbol.for("react.memo"),rS=Symbol.for("react.lazy"),M2=Symbol.iterator;function iS(t){return t===null||typeof t!="object"?null:(t=M2&&t[M2]||t["@@iterator"],typeof t=="function"?t:null)}var F7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V7=Object.assign,B7={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=B7,this.updater=n||F7}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U7(){}U7.prototype=Jo.prototype;function $1(t,e,n){this.props=t,this.context=e,this.refs=B7,this.updater=n||F7}var W1=$1.prototype=new U7;W1.constructor=$1;V7(W1,Jo.prototype);W1.isPureReactComponent=!0;var D2=Array.isArray,j7=Object.prototype.hasOwnProperty,G1={current:null},q7={key:!0,ref:!0,__self:!0,__source:!0};function H7(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)j7.call(e,r)&&!q7.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sc,type:t,key:s,ref:a,props:i,_owner:G1.current}}function sS(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K1(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function aS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O2=/\/+/g;function Rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aS(""+t.key):e.toString(36)}function O0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sc:case KE:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Rf(a,0):r,D2(i)?(n="",t!=null&&(n=t.replace(O2,"$&/")+"/"),O0(i,e,n,"",function(u){return u})):i!=null&&(K1(i)&&(i=sS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(O2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",D2(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Rf(s,o);a+=O0(s,e,n,l,i)}else if(l=iS(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Rf(s,o++),a+=O0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yc(t,e,n){if(t==null)return t;var r=[],i=0;return O0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},L0={transition:null},lS={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:L0,ReactCurrentOwner:G1};function $7(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Yc,forEach:function(t,e,n){Yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yc(t,function(){e++}),e},toArray:function(t){return Yc(t,function(e){return e})||[]},only:function(t){if(!K1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Jo;Ne.Fragment=YE;Ne.Profiler=XE;Ne.PureComponent=$1;Ne.StrictMode=QE;Ne.Suspense=tS;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;Ne.act=$7;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V7({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=G1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)j7.call(e,l)&&!q7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:ZE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JE,_context:t},t.Consumer=t};Ne.createElement=H7;Ne.createFactory=function(t){var e=H7.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:eS,render:t}};Ne.isValidElement=K1;Ne.lazy=function(t){return{$$typeof:rS,_payload:{_status:-1,_result:t},_init:oS}};Ne.memo=function(t,e){return{$$typeof:nS,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=L0.transition;L0.transition={};try{t()}finally{L0.transition=e}};Ne.unstable_act=$7;Ne.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ne.useContext=function(t){return vn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ne.useId=function(){return vn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ne.useRef=function(t){return vn.current.useRef(t)};Ne.useState=function(t){return vn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return vn.current.useTransition()};Ne.version="18.3.1";z7.exports=Ne;var W=z7.exports;const Y1=H1(W),uS=GE({__proto__:null,default:Y1},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=W,hS=Symbol.for("react.element"),dS=Symbol.for("react.fragment"),fS=Object.prototype.hasOwnProperty,mS=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pS={key:!0,ref:!0,__self:!0,__source:!0};function W7(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fS.call(e,r)&&!pS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hS,type:t,key:s,ref:a,props:i,_owner:mS.current}}hd.Fragment=dS;hd.jsx=W7;hd.jsxs=W7;L7.exports=hd;var C=L7.exports,Qm={},G7={exports:{}},Qn={},K7={exports:{}},Y7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,he){var O=re.length;re.push(he);e:for(;0<O;){var Ee=O-1>>>1,ve=re[Ee];if(0<i(ve,he))re[Ee]=he,re[O]=ve,O=Ee;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var he=re[0],O=re.pop();if(O!==he){re[0]=O;e:for(var Ee=0,ve=re.length,B=ve>>>1;Ee<B;){var tt=2*(Ee+1)-1,lt=re[tt],je=tt+1,wt=re[je];if(0>i(lt,O))je<ve&&0>i(wt,lt)?(re[Ee]=wt,re[je]=O,Ee=je):(re[Ee]=lt,re[tt]=O,Ee=tt);else if(je<ve&&0>i(wt,O))re[Ee]=wt,re[je]=O,Ee=je;else break e}}return he}function i(re,he){var O=re.sortIndex-he.sortIndex;return O!==0?O:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(re){for(var he=n(u);he!==null;){if(he.callback===null)r(u);else if(he.startTime<=re)r(u),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(u)}}function U(re){if(w=!1,E(re),!y)if(n(l)!==null)y=!0,Ue(q);else{var he=n(u);he!==null&&Oe(U,he.startTime-re)}}function q(re,he){y=!1,w&&(w=!1,x(I),I=-1),m=!0;var O=f;try{for(E(he),d=n(l);d!==null&&(!(d.expirationTime>he)||re&&!M());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,f=d.priorityLevel;var ve=Ee(d.expirationTime<=he);he=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(l)&&r(l),E(he)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var tt=n(u);tt!==null&&Oe(U,tt.startTime-he),B=!1}return B}finally{d=null,f=O,m=!1}}var z=!1,N=null,I=-1,P=5,T=-1;function M(){return!(t.unstable_now()-T<P)}function V(){if(N!==null){var re=t.unstable_now();T=re;var he=!0;try{he=N(!0,re)}finally{he?D():(z=!1,N=null)}}else z=!1}var D;if(typeof b=="function")D=function(){b(V)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,me=ye.port2;ye.port1.onmessage=V,D=function(){me.postMessage(null)}}else D=function(){S(V,0)};function Ue(re){N=re,z||(z=!0,D())}function Oe(re,he){I=S(function(){re(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Ue(q))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(re){switch(f){case 1:case 2:case 3:var he=3;break;default:he=f}var O=f;f=he;try{return re()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var O=f;f=re;try{return he()}finally{f=O}},t.unstable_scheduleCallback=function(re,he,O){var Ee=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Ee+O:Ee):O=Ee,re){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=O+ve,re={id:h++,callback:he,priorityLevel:re,startTime:O,expirationTime:ve,sortIndex:-1},O>Ee?(re.sortIndex=O,e(u,re),n(l)===null&&re===n(u)&&(w?(x(I),I=-1):w=!0,Oe(U,O-Ee))):(re.sortIndex=ve,e(l,re),y||m||(y=!0,Ue(q))),re},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(re){var he=f;return function(){var O=f;f=he;try{return re.apply(this,arguments)}finally{f=O}}}})(Y7);K7.exports=Y7;var gS=K7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS=W,Yn=gS;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q7=new Set,_u={};function Fa(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(_u[t]=e,t=0;t<e.length;t++)Q7.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,vS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L2={},z2={};function wS(t){return Xm.call(z2,t)?!0:Xm.call(L2,t)?!1:vS.test(t)?z2[t]=!0:(L2[t]=!0,!1)}function _S(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xS(t,e,n,r){if(e===null||typeof e>"u"||_S(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q1=/[\-:]([a-z])/g;function X1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q1,X1);Kt[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q1,X1);Kt[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q1,X1);Kt[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J1(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xS(e,n,i,r)&&(n=null),r||i===null?wS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=yS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),fo=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),Z1=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),X7=Symbol.for("react.provider"),J7=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),Z7=Symbol.for("react.offscreen"),F2=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=F2&&t[F2]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Pf;function ql(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Nf=!1;function Mf(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function bS(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=Mf(t.type,!1),t;case 11:return t=Mf(t.type.render,!1),t;case 1:return t=Mf(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case fo:return"Portal";case Jm:return"Profiler";case Z1:return"StrictMode";case Zm:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J7:return(t.displayName||"Context")+".Consumer";case X7:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tg:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function kS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===Z1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ew(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ES(t){var e=ew(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=ES(t))}function tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ew(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&J1(t,"checked",e,!1)}function rp(t,e){nw(t,e);var n=Es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&ip(t,e.type,Es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ip(t,e,n){(e!=="number"||uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Hl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Es(n)}}function rw(t,e){var n=Es(e.value),r=Es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SS=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){SS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function aw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TS=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(t,e){if(e){if(TS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,Io=null,Ao=null;function q2(t){if(t=lc(t)){if(typeof cp!="function")throw Error(te(280));var e=t.stateNode;e&&(e=gd(e),cp(t.stateNode,t.type,e))}}function lw(t){Io?Ao?Ao.push(t):Ao=[t]:Io=t}function uw(){if(Io){var t=Io,e=Ao;if(Ao=Io=null,q2(t),e)for(t=0;t<e.length;t++)q2(e[t])}}function cw(t,e){return t(e)}function hw(){}var Df=!1;function dw(t,e,n){if(Df)return t(e,n);Df=!0;try{return cw(t,e,n)}finally{Df=!1,(Io!==null||Ao!==null)&&(hw(),uw())}}function bu(t,e){var n=t.stateNode;if(n===null)return null;var r=gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var hp=!1;if(_i)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{hp=!1}function IS(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var tu=!1,ch=null,hh=!1,dp=null,AS={onError:function(t){tu=!0,ch=t}};function CS(t,e,n,r,i,s,a,o,l){tu=!1,ch=null,IS.apply(AS,arguments)}function RS(t,e,n,r,i,s,a,o,l){if(CS.apply(this,arguments),tu){if(tu){var u=ch;tu=!1,ch=null}else throw Error(te(198));hh||(hh=!0,dp=u)}}function Va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H2(t){if(Va(t)!==t)throw Error(te(188))}function PS(t){var e=t.alternate;if(!e){if(e=Va(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return H2(i),t;if(s===r)return H2(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function mw(t){return t=PS(t),t!==null?pw(t):null}function pw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pw(t);if(e!==null)return e;t=t.sibling}return null}var gw=Yn.unstable_scheduleCallback,$2=Yn.unstable_cancelCallback,NS=Yn.unstable_shouldYield,MS=Yn.unstable_requestPaint,Et=Yn.unstable_now,DS=Yn.unstable_getCurrentPriorityLevel,rg=Yn.unstable_ImmediatePriority,yw=Yn.unstable_UserBlockingPriority,dh=Yn.unstable_NormalPriority,OS=Yn.unstable_LowPriority,vw=Yn.unstable_IdlePriority,dd=null,Vr=null;function LS(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(dd,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:VS,zS=Math.log,FS=Math.LN2;function VS(t){return t>>>=0,t===0?32:31-(zS(t)/FS|0)|0}var Zc=64,e0=4194304;function $l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=$l(o):(s&=a,s!==0&&(r=$l(s)))}else a=n&~i,a!==0?r=$l(a):s!==0&&(r=$l(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function BS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function US(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-xr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=BS(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=Zc;return Zc<<=1,!(Zc&4194240)&&(Zc=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function jS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function _w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xw,sg,bw,kw,Ew,mp=!1,t0=[],hs=null,ds=null,fs=null,ku=new Map,Eu=new Map,Zi=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W2(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Nl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HS(t,e,n,r,i){switch(e){case"focusin":return hs=Nl(hs,t,e,n,r,i),!0;case"dragenter":return ds=Nl(ds,t,e,n,r,i),!0;case"mouseover":return fs=Nl(fs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ku.set(s,Nl(ku.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eu.set(s,Nl(Eu.get(s)||null,t,e,n,r,i)),!0}return!1}function Sw(t){var e=pa(t.target);if(e!==null){var n=Va(e);if(n!==null){if(e=n.tag,e===13){if(e=fw(n),e!==null){t.blockedOn=e,Ew(t.priority,function(){bw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function z0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return e=lc(n),e!==null&&sg(e),t.blockedOn=n,!1;e.shift()}return!0}function G2(t,e,n){z0(t)&&n.delete(e)}function $S(){mp=!1,hs!==null&&z0(hs)&&(hs=null),ds!==null&&z0(ds)&&(ds=null),fs!==null&&z0(fs)&&(fs=null),ku.forEach(G2),Eu.forEach(G2)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,mp||(mp=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,$S)))}function Su(t){function e(i){return Ml(i,t)}if(0<t0.length){Ml(t0[0],t);for(var n=1;n<t0.length;n++){var r=t0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&Ml(hs,t),ds!==null&&Ml(ds,t),fs!==null&&Ml(fs,t),ku.forEach(e),Eu.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)Sw(n),n.blockedOn===null&&Zi.shift()}var Co=Mi.ReactCurrentBatchConfig,mh=!0;function WS(t,e,n,r){var i=We,s=Co.transition;Co.transition=null;try{We=1,ag(t,e,n,r)}finally{We=i,Co.transition=s}}function GS(t,e,n,r){var i=We,s=Co.transition;Co.transition=null;try{We=4,ag(t,e,n,r)}finally{We=i,Co.transition=s}}function ag(t,e,n,r){if(mh){var i=pp(t,e,n,r);if(i===null)$f(t,e,r,ph,n),W2(t,r);else if(HS(i,t,e,n,r))r.stopPropagation();else if(W2(t,r),e&4&&-1<qS.indexOf(t)){for(;i!==null;){var s=lc(i);if(s!==null&&xw(s),s=pp(t,e,n,r),s===null&&$f(t,e,r,ph,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var ph=null;function pp(t,e,n,r){if(ph=null,t=ng(r),t=pa(t),t!==null)if(e=Va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function Tw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DS()){case rg:return 1;case yw:return 4;case dh:case OS:return 16;case vw:return 536870912;default:return 16}default:return 16}}var as=null,og=null,F0=null;function Iw(){if(F0)return F0;var t,e=og,n=e.length,r,i="value"in as?as.value:as.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return F0=i.slice(t,1<r?1-r:void 0)}function V0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function n0(){return!0}function K2(){return!1}function Xn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?n0:K2,this.isPropagationStopped=K2,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=n0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=n0)},persist:function(){},isPersistent:n0}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=Xn(Zo),oc=gt({},Zo,{view:0,detail:0}),KS=Xn(oc),Lf,zf,Dl,fd=gt({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(Lf=t.screenX-Dl.screenX,zf=t.screenY-Dl.screenY):zf=Lf=0,Dl=t),Lf)},movementY:function(t){return"movementY"in t?t.movementY:zf}}),Y2=Xn(fd),YS=gt({},fd,{dataTransfer:0}),QS=Xn(YS),XS=gt({},oc,{relatedTarget:0}),Ff=Xn(XS),JS=gt({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=Xn(JS),eT=gt({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tT=Xn(eT),nT=gt({},Zo,{data:0}),Q2=Xn(nT),rT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sT[t])?!!e[t]:!1}function ug(){return aT}var oT=gt({},oc,{key:function(t){if(t.key){var e=rT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=V0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?V0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?V0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lT=Xn(oT),uT=gt({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X2=Xn(uT),cT=gt({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),hT=Xn(cT),dT=gt({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fT=Xn(dT),mT=gt({},fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=Xn(mT),gT=[9,13,27,32],cg=_i&&"CompositionEvent"in window,nu=null;_i&&"documentMode"in document&&(nu=document.documentMode);var yT=_i&&"TextEvent"in window&&!nu,Aw=_i&&(!cg||nu&&8<nu&&11>=nu),J2=" ",Z2=!1;function Cw(t,e){switch(t){case"keyup":return gT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function vT(t,e){switch(t){case"compositionend":return Rw(e);case"keypress":return e.which!==32?null:(Z2=!0,J2);case"textInput":return t=e.data,t===J2&&Z2?null:t;default:return null}}function wT(t,e){if(po)return t==="compositionend"||!cg&&Cw(t,e)?(t=Iw(),F0=og=as=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Aw&&e.locale!=="ko"?null:e.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_T[t.type]:e==="textarea"}function Pw(t,e,n,r){lw(r),e=gh(e,"onChange"),0<e.length&&(n=new lg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Tu=null;function xT(t){jw(t,0)}function md(t){var e=vo(t);if(tw(e))return t}function bT(t,e){if(t==="change")return e}var Nw=!1;if(_i){var Vf;if(_i){var Bf="oninput"in document;if(!Bf){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Bf=typeof tv.oninput=="function"}Vf=Bf}else Vf=!1;Nw=Vf&&(!document.documentMode||9<document.documentMode)}function nv(){ru&&(ru.detachEvent("onpropertychange",Mw),Tu=ru=null)}function Mw(t){if(t.propertyName==="value"&&md(Tu)){var e=[];Pw(e,Tu,t,ng(t)),dw(xT,e)}}function kT(t,e,n){t==="focusin"?(nv(),ru=e,Tu=n,ru.attachEvent("onpropertychange",Mw)):t==="focusout"&&nv()}function ET(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return md(Tu)}function ST(t,e){if(t==="click")return md(e)}function TT(t,e){if(t==="input"||t==="change")return md(e)}function IT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:IT;function Iu(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xm.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function Dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ow(){for(var t=window,e=uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uh(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AT(t){var e=Ow(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dw(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iv(n,s);var a=iv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CT=_i&&"documentMode"in document&&11>=document.documentMode,go=null,gp=null,iu=null,yp=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||go==null||go!==uh(r)||(r=go,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Iu(iu,r)||(iu=r,r=gh(gp,"onSelect"),0<r.length&&(e=new lg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function r0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yo={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},Uf={},Lw={};_i&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function pd(t){if(Uf[t])return Uf[t];if(!yo[t])return t;var e=yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lw)return Uf[t]=e[n];return t}var zw=pd("animationend"),Fw=pd("animationiteration"),Vw=pd("animationstart"),Bw=pd("transitionend"),Uw=new Map,av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(t,e){Uw.set(t,e),Fa(e,[t])}for(var jf=0;jf<av.length;jf++){var qf=av[jf],RT=qf.toLowerCase(),PT=qf[0].toUpperCase()+qf.slice(1);Vs(RT,"on"+PT)}Vs(zw,"onAnimationEnd");Vs(Fw,"onAnimationIteration");Vs(Vw,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(Bw,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function ov(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RS(r,e,void 0,t),t.currentTarget=null}function jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ov(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ov(i,o,u),s=l}}}if(hh)throw t=dp,hh=!1,dp=null,t}function rt(t,e){var n=e[bp];n===void 0&&(n=e[bp]=new Set);var r=t+"__bubble";n.has(r)||(qw(e,t,2,!1),n.add(r))}function Hf(t,e,n){var r=0;e&&(r|=4),qw(n,t,r,e)}var i0="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[i0]){t[i0]=!0,Q7.forEach(function(n){n!=="selectionchange"&&(NT.has(n)||Hf(n,!1,t),Hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[i0]||(e[i0]=!0,Hf("selectionchange",!1,e))}}function qw(t,e,n,r){switch(Tw(e)){case 1:var i=WS;break;case 4:i=GS;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=pa(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}dw(function(){var u=s,h=ng(n),d=[];e:{var f=Uw.get(t);if(f!==void 0){var m=lg,y=t;switch(t){case"keypress":if(V0(n)===0)break e;case"keydown":case"keyup":m=lT;break;case"focusin":y="focus",m=Ff;break;case"focusout":y="blur",m=Ff;break;case"beforeblur":case"afterblur":m=Ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hT;break;case zw:case Fw:case Vw:m=ZS;break;case Bw:m=fT;break;case"scroll":m=KS;break;case"wheel":m=pT;break;case"copy":case"cut":case"paste":m=tT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=X2}var w=(e&4)!==0,S=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var b=u,E;b!==null;){E=b;var U=E.stateNode;if(E.tag===5&&U!==null&&(E=U,x!==null&&(U=bu(b,x),U!=null&&w.push(Cu(b,U,E)))),S)break;b=b.return}0<w.length&&(f=new m(f,y,null,n,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==up&&(y=n.relatedTarget||n.fromElement)&&(pa(y)||y[xi]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?pa(y):null,y!==null&&(S=Va(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Y2,U="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=X2,U="onPointerLeave",x="onPointerEnter",b="pointer"),S=m==null?f:vo(m),E=y==null?f:vo(y),f=new w(U,b+"leave",m,n,h),f.target=S,f.relatedTarget=E,U=null,pa(h)===u&&(w=new w(x,b+"enter",y,n,h),w.target=E,w.relatedTarget=S,U=w),S=U,m&&y)t:{for(w=m,x=y,b=0,E=w;E;E=to(E))b++;for(E=0,U=x;U;U=to(U))E++;for(;0<b-E;)w=to(w),b--;for(;0<E-b;)x=to(x),E--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=to(w),x=to(x)}w=null}else w=null;m!==null&&lv(d,f,m,w,!1),y!==null&&S!==null&&lv(d,S,y,w,!0)}}e:{if(f=u?vo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var q=bT;else if(ev(f))if(Nw)q=TT;else{q=ET;var z=kT}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(q=ST);if(q&&(q=q(t,u))){Pw(d,q,n,h);break e}z&&z(t,f,u),t==="focusout"&&(z=f._wrapperState)&&z.controlled&&f.type==="number"&&ip(f,"number",f.value)}switch(z=u?vo(u):window,t){case"focusin":(ev(z)||z.contentEditable==="true")&&(go=z,gp=u,iu=null);break;case"focusout":iu=gp=go=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,sv(d,n,h);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":sv(d,n,h)}var N;if(cg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else po?Cw(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Aw&&n.locale!=="ko"&&(po||I!=="onCompositionStart"?I==="onCompositionEnd"&&po&&(N=Iw()):(as=h,og="value"in as?as.value:as.textContent,po=!0)),z=gh(u,I),0<z.length&&(I=new Q2(I,t,null,n,h),d.push({event:I,listeners:z}),N?I.data=N:(N=Rw(n),N!==null&&(I.data=N)))),(N=yT?vT(t,n):wT(t,n))&&(u=gh(u,"onBeforeInput"),0<u.length&&(h=new Q2("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=N))}jw(d,e)})}function Cu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bu(t,n),s!=null&&r.unshift(Cu(t,s,i)),s=bu(t,e),s!=null&&r.push(Cu(t,s,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=bu(n,s),l!=null&&a.unshift(Cu(n,l,o))):i||(l=bu(n,s),l!=null&&a.push(Cu(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var MT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(MT,`
`).replace(DT,"")}function s0(t,e,n){if(e=uv(e),uv(t)!==e&&n)throw Error(te(425))}function yh(){}var vp=null,wp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(zT)}:xp;function zT(t){setTimeout(function(){throw t})}function Wf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var el=Math.random().toString(36).slice(2),Or="__reactFiber$"+el,Ru="__reactProps$"+el,xi="__reactContainer$"+el,bp="__reactEvents$"+el,FT="__reactListeners$"+el,VT="__reactHandles$"+el;function pa(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hv(t);t!==null;){if(n=t[Or])return n;t=hv(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[Or]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function gd(t){return t[Ru]||null}var kp=[],wo=-1;function Bs(t){return{current:t}}function at(t){0>wo||(t.current=kp[wo],kp[wo]=null,wo--)}function Ze(t,e){wo++,kp[wo]=t.current,t.current=e}var Ss={},on=Bs(Ss),Cn=Bs(!1),Ea=Ss;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function vh(){at(Cn),at(on)}function dv(t,e,n){if(on.current!==Ss)throw Error(te(168));Ze(on,e),Ze(Cn,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,kS(t)||"Unknown",i));return gt({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,Ea=on.current,Ze(on,t),Ze(Cn,Cn.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=Hw(t,e,Ea),r.__reactInternalMemoizedMergedChildContext=t,at(Cn),at(on),Ze(on,t)):at(Cn),Ze(Cn,n)}var li=null,yd=!1,Gf=!1;function $w(t){li===null?li=[t]:li.push(t)}function BT(t){yd=!0,$w(t)}function Us(){if(!Gf&&li!==null){Gf=!0;var t=0,e=We;try{var n=li;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}li=null,yd=!1}catch(i){throw li!==null&&(li=li.slice(t+1)),gw(rg,Us),i}finally{We=e,Gf=!1}}return null}var _o=[],xo=0,_h=null,xh=0,er=[],tr=0,Sa=null,ci=1,hi="";function la(t,e){_o[xo++]=xh,_o[xo++]=_h,_h=t,xh=e}function Ww(t,e,n){er[tr++]=ci,er[tr++]=hi,er[tr++]=Sa,Sa=t;var r=ci;t=hi;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var s=32-xr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ci=1<<32-xr(e)+i|n<<i|r,hi=s+t}else ci=1<<s|n<<i|r,hi=t}function dg(t){t.return!==null&&(la(t,1),Ww(t,1,0))}function fg(t){for(;t===_h;)_h=_o[--xo],_o[xo]=null,xh=_o[--xo],_o[xo]=null;for(;t===Sa;)Sa=er[--tr],er[tr]=null,hi=er[--tr],er[tr]=null,ci=er[--tr],er[tr]=null}var Wn=null,qn=null,ut=!1,wr=null;function Gw(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,qn=ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sa!==null?{id:ci,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,qn=null,!0):!1;default:return!1}}function Ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sp(t){if(ut){var e=qn;if(e){var n=e;if(!mv(t,e)){if(Ep(t))throw Error(te(418));e=ms(n.nextSibling);var r=Wn;e&&mv(t,e)?Gw(r,n):(t.flags=t.flags&-4097|2,ut=!1,Wn=t)}}else{if(Ep(t))throw Error(te(418));t.flags=t.flags&-4097|2,ut=!1,Wn=t}}}function pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function a0(t){if(t!==Wn)return!1;if(!ut)return pv(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=qn)){if(Ep(t))throw Kw(),Error(te(418));for(;e;)Gw(t,e),e=ms(e.nextSibling)}if(pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Wn?ms(t.stateNode.nextSibling):null;return!0}function Kw(){for(var t=qn;t;)t=ms(t.nextSibling)}function Bo(){qn=Wn=null,ut=!1}function mg(t){wr===null?wr=[t]:wr.push(t)}var UT=Mi.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function o0(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gv(t){var e=t._init;return e(t._payload)}function Yw(t){function e(x,b){if(t){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=vs(x,b),x.index=0,x.sibling=null,x}function s(x,b,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,b,E,U){return b===null||b.tag!==6?(b=em(E,x.mode,U),b.return=x,b):(b=i(b,E),b.return=x,b)}function l(x,b,E,U){var q=E.type;return q===mo?h(x,b,E.props.children,U,E.key):b!==null&&(b.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Xi&&gv(q)===b.type)?(U=i(b,E.props),U.ref=Ol(x,b,E),U.return=x,U):(U=W0(E.type,E.key,E.props,null,x.mode,U),U.ref=Ol(x,b,E),U.return=x,U)}function u(x,b,E,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=tm(E,x.mode,U),b.return=x,b):(b=i(b,E.children||[]),b.return=x,b)}function h(x,b,E,U,q){return b===null||b.tag!==7?(b=_a(E,x.mode,U,q),b.return=x,b):(b=i(b,E),b.return=x,b)}function d(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=em(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:return E=W0(b.type,b.key,b.props,null,x.mode,E),E.ref=Ol(x,null,b),E.return=x,E;case fo:return b=tm(b,x.mode,E),b.return=x,b;case Xi:var U=b._init;return d(x,U(b._payload),E)}if(Hl(b)||Rl(b))return b=_a(b,x.mode,E,null),b.return=x,b;o0(x,b)}return null}function f(x,b,E,U){var q=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return q!==null?null:o(x,b,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qc:return E.key===q?l(x,b,E,U):null;case fo:return E.key===q?u(x,b,E,U):null;case Xi:return q=E._init,f(x,b,q(E._payload),U)}if(Hl(E)||Rl(E))return q!==null?null:h(x,b,E,U,null);o0(x,E)}return null}function m(x,b,E,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(E)||null,o(b,x,""+U,q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Qc:return x=x.get(U.key===null?E:U.key)||null,l(b,x,U,q);case fo:return x=x.get(U.key===null?E:U.key)||null,u(b,x,U,q);case Xi:var z=U._init;return m(x,b,E,z(U._payload),q)}if(Hl(U)||Rl(U))return x=x.get(E)||null,h(b,x,U,q,null);o0(b,U)}return null}function y(x,b,E,U){for(var q=null,z=null,N=b,I=b=0,P=null;N!==null&&I<E.length;I++){N.index>I?(P=N,N=null):P=N.sibling;var T=f(x,N,E[I],U);if(T===null){N===null&&(N=P);break}t&&N&&T.alternate===null&&e(x,N),b=s(T,b,I),z===null?q=T:z.sibling=T,z=T,N=P}if(I===E.length)return n(x,N),ut&&la(x,I),q;if(N===null){for(;I<E.length;I++)N=d(x,E[I],U),N!==null&&(b=s(N,b,I),z===null?q=N:z.sibling=N,z=N);return ut&&la(x,I),q}for(N=r(x,N);I<E.length;I++)P=m(N,x,I,E[I],U),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?I:P.key),b=s(P,b,I),z===null?q=P:z.sibling=P,z=P);return t&&N.forEach(function(M){return e(x,M)}),ut&&la(x,I),q}function w(x,b,E,U){var q=Rl(E);if(typeof q!="function")throw Error(te(150));if(E=q.call(E),E==null)throw Error(te(151));for(var z=q=null,N=b,I=b=0,P=null,T=E.next();N!==null&&!T.done;I++,T=E.next()){N.index>I?(P=N,N=null):P=N.sibling;var M=f(x,N,T.value,U);if(M===null){N===null&&(N=P);break}t&&N&&M.alternate===null&&e(x,N),b=s(M,b,I),z===null?q=M:z.sibling=M,z=M,N=P}if(T.done)return n(x,N),ut&&la(x,I),q;if(N===null){for(;!T.done;I++,T=E.next())T=d(x,T.value,U),T!==null&&(b=s(T,b,I),z===null?q=T:z.sibling=T,z=T);return ut&&la(x,I),q}for(N=r(x,N);!T.done;I++,T=E.next())T=m(N,x,I,T.value,U),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?I:T.key),b=s(T,b,I),z===null?q=T:z.sibling=T,z=T);return t&&N.forEach(function(V){return e(x,V)}),ut&&la(x,I),q}function S(x,b,E,U){if(typeof E=="object"&&E!==null&&E.type===mo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qc:e:{for(var q=E.key,z=b;z!==null;){if(z.key===q){if(q=E.type,q===mo){if(z.tag===7){n(x,z.sibling),b=i(z,E.props.children),b.return=x,x=b;break e}}else if(z.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Xi&&gv(q)===z.type){n(x,z.sibling),b=i(z,E.props),b.ref=Ol(x,z,E),b.return=x,x=b;break e}n(x,z);break}else e(x,z);z=z.sibling}E.type===mo?(b=_a(E.props.children,x.mode,U,E.key),b.return=x,x=b):(U=W0(E.type,E.key,E.props,null,x.mode,U),U.ref=Ol(x,b,E),U.return=x,x=U)}return a(x);case fo:e:{for(z=E.key;b!==null;){if(b.key===z)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(x,b.sibling),b=i(b,E.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=tm(E,x.mode,U),b.return=x,x=b}return a(x);case Xi:return z=E._init,S(x,b,z(E._payload),U)}if(Hl(E))return y(x,b,E,U);if(Rl(E))return w(x,b,E,U);o0(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,E),b.return=x,x=b):(n(x,b),b=em(E,x.mode,U),b.return=x,x=b),a(x)):n(x,b)}return S}var Uo=Yw(!0),Qw=Yw(!1),bh=Bs(null),kh=null,bo=null,pg=null;function gg(){pg=bo=kh=null}function yg(t){var e=bh.current;at(bh),t._currentValue=e}function Tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){kh=t,pg=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(pg!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(kh===null)throw Error(te(308));bo=t,kh.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var ga=null;function vg(t){ga===null?ga=[t]:ga.push(t)}function Xw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vg(e)):(n.next=i.next,i.next=n),e.interleaved=n,bi(t,r)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bi(t,n)}return i=r.interleaved,i===null?(e.next=e,vg(r)):(e.next=i.next,i.next=e),r.interleaved=e,bi(t,n)}function B0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eh(t,e,n,r){var i=t.updateQueue;Ji=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,w=o;switch(f=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=gt({},d,f);break e;case 2:Ji=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ia|=a,t.lanes=a,t.memoizedState=d}}function vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var uc={},Br=Bs(uc),Pu=Bs(uc),Nu=Bs(uc);function ya(t){if(t===uc)throw Error(te(174));return t}function _g(t,e){switch(Ze(Nu,e),Ze(Pu,t),Ze(Br,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ap(e,t)}at(Br),Ze(Br,e)}function jo(){at(Br),at(Pu),at(Nu)}function Zw(t){ya(Nu.current);var e=ya(Br.current),n=ap(e,t.type);e!==n&&(Ze(Pu,t),Ze(Br,n))}function xg(t){Pu.current===t&&(at(Br),at(Pu))}var ft=Bs(0);function Sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kf=[];function bg(){for(var t=0;t<Kf.length;t++)Kf[t]._workInProgressVersionPrimary=null;Kf.length=0}var U0=Mi.ReactCurrentDispatcher,Yf=Mi.ReactCurrentBatchConfig,Ta=0,pt=null,Dt=null,Vt=null,Th=!1,su=!1,Mu=0,jT=0;function Zt(){throw Error(te(321))}function kg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function Eg(t,e,n,r,i,s){if(Ta=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U0.current=t===null||t.memoizedState===null?WT:GT,t=n(r,i),su){s=0;do{if(su=!1,Mu=0,25<=s)throw Error(te(301));s+=1,Vt=Dt=null,e.updateQueue=null,U0.current=KT,t=n(r,i)}while(su)}if(U0.current=Ih,e=Dt!==null&&Dt.next!==null,Ta=0,Vt=Dt=pt=null,Th=!1,e)throw Error(te(300));return t}function Sg(){var t=Mu!==0;return Mu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?pt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function ur(){if(Dt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Vt===null?pt.memoizedState:Vt.next;if(e!==null)Vt=e,Dt=t;else{if(t===null)throw Error(te(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Vt===null?pt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Du(t,e){return typeof e=="function"?e(t):e}function Qf(t){var e=ur(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Ta&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,pt.lanes|=h,Ia|=h}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Sr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,Ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xf(t){var e=ur(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Sr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function e8(){}function t8(t,e){var n=pt,r=ur(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,Tg(i8.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Ou(9,r8.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(te(349));Ta&30||n8(n,e,i)}return i}function n8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r8(t,e,n,r){e.value=n,e.getSnapshot=r,s8(e)&&a8(t)}function i8(t,e,n){return n(function(){s8(e)&&a8(t)})}function s8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function a8(t){var e=bi(t,1);e!==null&&br(e,t,1,-1)}function wv(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=$T.bind(null,pt,t),[e.memoizedState,t]}function Ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function o8(){return ur().memoizedState}function j0(t,e,n,r){var i=Pr();pt.flags|=t,i.memoizedState=Ou(1|e,n,void 0,r===void 0?null:r)}function vd(t,e,n,r){var i=ur();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var a=Dt.memoizedState;if(s=a.destroy,r!==null&&kg(r,a.deps)){i.memoizedState=Ou(e,n,s,r);return}}pt.flags|=t,i.memoizedState=Ou(1|e,n,s,r)}function _v(t,e){return j0(8390656,8,t,e)}function Tg(t,e){return vd(2048,8,t,e)}function l8(t,e){return vd(4,2,t,e)}function u8(t,e){return vd(4,4,t,e)}function c8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h8(t,e,n){return n=n!=null?n.concat([t]):null,vd(4,4,c8.bind(null,e,t),n)}function Ig(){}function d8(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f8(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m8(t,e,n){return Ta&21?(Sr(n,e)||(n=ww(),pt.lanes|=n,Ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function qT(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Yf.transition;Yf.transition={};try{t(!1),e()}finally{We=n,Yf.transition=r}}function p8(){return ur().memoizedState}function HT(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g8(t))y8(e,n);else if(n=Xw(t,e,n,r),n!==null){var i=yn();br(n,t,r,i),v8(n,e,r)}}function $T(t,e,n){var r=ys(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g8(t))y8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Sr(o,a)){var l=e.interleaved;l===null?(i.next=i,vg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Xw(t,e,i,r),n!==null&&(i=yn(),br(n,t,r,i),v8(n,e,r))}}function g8(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function y8(t,e){su=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}var Ih={readContext:lr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},WT={readContext:lr,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:_v,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,j0(4194308,4,c8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return j0(4194308,4,t,e)},useInsertionEffect:function(t,e){return j0(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HT.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:wv,useDebugValue:Ig,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=wv(!1),e=t[0];return t=qT.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Pr();if(ut){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Bt===null)throw Error(te(349));Ta&30||n8(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_v(i8.bind(null,r,s,t),[t]),r.flags|=2048,Ou(9,r8.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Bt.identifierPrefix;if(ut){var n=hi,r=ci;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GT={readContext:lr,useCallback:d8,useContext:lr,useEffect:Tg,useImperativeHandle:h8,useInsertionEffect:l8,useLayoutEffect:u8,useMemo:f8,useReducer:Qf,useRef:o8,useState:function(){return Qf(Du)},useDebugValue:Ig,useDeferredValue:function(t){var e=ur();return m8(e,Dt.memoizedState,t)},useTransition:function(){var t=Qf(Du)[0],e=ur().memoizedState;return[t,e]},useMutableSource:e8,useSyncExternalStore:t8,useId:p8,unstable_isNewReconciler:!1},KT={readContext:lr,useCallback:d8,useContext:lr,useEffect:Tg,useImperativeHandle:h8,useInsertionEffect:l8,useLayoutEffect:u8,useMemo:f8,useReducer:Xf,useRef:o8,useState:function(){return Xf(Du)},useDebugValue:Ig,useDeferredValue:function(t){var e=ur();return Dt===null?e.memoizedState=t:m8(e,Dt.memoizedState,t)},useTransition:function(){var t=Xf(Du)[0],e=ur().memoizedState;return[t,e]},useMutableSource:e8,useSyncExternalStore:t8,useId:p8,unstable_isNewReconciler:!1};function gr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wd={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ys(t),s=mi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(br(e,t,i,r),B0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=ys(t),s=mi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(br(e,t,i,r),B0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=ys(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ps(t,i,r),e!==null&&(br(e,t,r,n),B0(e,t,r))}};function xv(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Iu(n,r)||!Iu(i,s):!0}function w8(t,e,n){var r=!1,i=Ss,s=e.contextType;return typeof s=="object"&&s!==null?s=lr(s):(i=Rn(e)?Ea:on.current,r=e.contextTypes,s=(r=r!=null)?Vo(t,i):Ss),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wd.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=lr(s):(s=Rn(e)?Ea:on.current,i.context=Vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wd.enqueueReplaceState(i,i.state,null),Eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=bS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YT=typeof WeakMap=="function"?WeakMap:Map;function _8(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ch||(Ch=!0,Vp=r),Cp(t,e)},n}function x8(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cp(t,e),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uI.bind(null,t,e,n),e.then(t,t))}function Ev(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var QT=Mi.ReactCurrentOwner,An=!1;function mn(t,e,n,r){e.child=t===null?Qw(e,null,n,r):Uo(e,t.child,n,r)}function Tv(t,e,n,r,i){n=n.render;var s=e.ref;return Ro(e,i),r=Eg(t,e,n,r,s,i),n=Sg(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(ut&&n&&dg(e),e.flags|=1,mn(t,e,r,i),e.child)}function Iv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Og(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,b8(t,e,s,r,i)):(t=W0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Iu,n(a,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=vs(s,r),t.ref=e.ref,t.return=e,e.child=t}function b8(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Iu(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,ki(t,e,i)}return Rp(t,e,n,r,i)}function k8(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Eo,Bn),Bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Eo,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(Eo,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(Eo,Bn),Bn|=r;return mn(t,e,i,n),e.child}function E8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,n,r,i){var s=Rn(n)?Ea:on.current;return s=Vo(e,s),Ro(e,i),n=Eg(t,e,n,r,s,i),r=Sg(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(ut&&r&&dg(e),e.flags|=1,mn(t,e,n,i),e.child)}function Av(t,e,n,r,i){if(Rn(n)){var s=!0;wh(e)}else s=!1;if(Ro(e,i),e.stateNode===null)q0(t,e),w8(e,n,r),Ap(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Rn(n)?Ea:on.current,u=Vo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&bv(e,a,r,u),Ji=!1;var f=e.memoizedState;a.state=f,Eh(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Cn.current||Ji?(typeof h=="function"&&(Ip(e,n,h,r),l=e.memoizedState),(o=Ji||xv(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Jw(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:gr(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=Rn(n)?Ea:on.current,l=Vo(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&bv(e,a,r,l),Ji=!1,f=e.memoizedState,a.state=f,Eh(e,r,a,i);var y=e.memoizedState;o!==d||f!==y||Cn.current||Ji?(typeof m=="function"&&(Ip(e,n,m,r),y=e.memoizedState),(u=Ji||xv(e,n,u,r,f,y,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pp(t,e,n,r,s,i)}function Pp(t,e,n,r,i,s){E8(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&fv(e,n,!1),ki(t,e,s);r=e.stateNode,QT.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,o,s)):mn(t,e,o,s),e.memoizedState=r.state,i&&fv(e,n,!0),e.child}function S8(t){var e=t.stateNode;e.pendingContext?dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dv(t,e.context,!1),_g(t,e.containerInfo)}function Cv(t,e,n,r,i){return Bo(),mg(i),e.flags|=256,mn(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function T8(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return Sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=bd(a,r,0,null),t=_a(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mp(n),e.memoizedState=Np,t):Ag(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return XT(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=vs(o,s):(s=_a(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Mp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return s=t.child,t=s.sibling,r=vs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ag(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function l0(t,e,n,r){return r!==null&&mg(r),Uo(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XT(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Jf(Error(te(422))),l0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bd({mode:"visible",children:r.children},i,0,null),s=_a(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,a),e.child.memoizedState=Mp(a),e.memoizedState=Np,s);if(!(e.mode&1))return l0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(te(419)),r=Jf(s,r,void 0),l0(t,e,a,r)}if(o=(a&t.childLanes)!==0,An||o){if(r=Bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bi(t,i),br(r,t,i,-1))}return Dg(),r=Jf(Error(te(421))),l0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qn=ms(i.nextSibling),Wn=e,ut=!0,wr=null,t!==null&&(er[tr++]=ci,er[tr++]=hi,er[tr++]=Sa,ci=t.id,hi=t.overflow,Sa=e),e=Ag(e,r.children),e.flags|=4096,e)}function Rv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tp(t.return,e,n)}function Zf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function I8(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rv(t,n,e);else if(t.tag===19)Rv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zf(e,!0,n,null,s);break;case"together":Zf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function q0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JT(t,e,n){switch(e.tag){case 3:S8(e),Bo();break;case 5:Zw(e);break;case 1:Rn(e.type)&&wh(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?T8(t,e,n):(Ze(ft,ft.current&1),t=ki(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,k8(t,e,n)}return ki(t,e,n)}var A8,Dp,C8,R8;A8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dp=function(){};C8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ya(Br.current);var s=null;switch(n){case"input":i=np(t,i),r=np(t,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=sp(t,i),r=sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yh)}op(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_u.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_u.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};R8=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZT(t,e,n){var r=e.pendingProps;switch(fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Rn(e.type)&&vh(),en(e),null;case 3:return r=e.stateNode,jo(),at(Cn),at(on),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(a0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(jp(wr),wr=null))),Dp(t,e),en(e),null;case 5:xg(e);var i=ya(Nu.current);if(n=e.type,t!==null&&e.stateNode!=null)C8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return en(e),null}if(t=ya(Br.current),a0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Wl.length;i++)rt(Wl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":V2(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":U2(r,s),rt("invalid",r)}op(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&s0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&s0(r.textContent,o,t),i=["children",""+o]):_u.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Xc(r),B2(r,s,!0);break;case"textarea":Xc(r),j2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Or]=e,t[Ru]=r,A8(t,e,!1,!1),e.stateNode=t;e:{switch(a=lp(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wl.length;i++)rt(Wl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":V2(t,r),i=np(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":U2(t,r),i=sp(t,r),rt("invalid",t);break;default:i=r}op(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?ow(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xu(t,l):typeof l=="number"&&xu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_u.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&J1(t,s,l,a))}switch(n){case"input":Xc(t),B2(t,r,!1);break;case"textarea":Xc(t),j2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Es(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?To(t,!!r.multiple,s,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)R8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=ya(Nu.current),ya(Br.current),a0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:s0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&s0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return en(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&qn!==null&&e.mode&1&&!(e.flags&128))Kw(),Bo(),e.flags|=98560,s=!1;else if(s=a0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Or]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else wr!==null&&(jp(wr),wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ot===0&&(Ot=3):Dg())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return jo(),Dp(t,e),t===null&&Au(e.stateNode.containerInfo),en(e),null;case 10:return yg(e.type._context),en(e),null;case 17:return Rn(e.type)&&vh(),en(e),null;case 19:if(at(ft),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ll(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sh(t),a!==null){for(e.flags|=128,Ll(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Et()>Ho&&(e.flags|=128,r=!0,Ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ut)return en(e),null}else 2*Et()-s.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Ll(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function eI(t,e){switch(fg(e),e.tag){case 1:return Rn(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),at(Cn),at(on),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xg(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return jo(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var u0=!1,rn=!1,tI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Op(t,e,n){try{n()}catch(r){bt(t,e,r)}}var Pv=!1;function nI(t,e){if(vp=mh,t=Ow(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++h===r&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:t,selectionRange:n},mh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:gr(e.type,w),S);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(U){bt(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=Pv,Pv=!1,y}function au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Op(e,n,s)}i=i.next}while(i!==r)}}function _d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function P8(t){var e=t.alternate;e!==null&&(t.alternate=null,P8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[Ru],delete e[bp],delete e[FT],delete e[VT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N8(t){return t.tag===5||t.tag===3||t.tag===4}function Nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yh));else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}var qt=null,yr=!1;function $i(t,e,n){for(n=n.child;n!==null;)M8(t,e,n),n=n.sibling}function M8(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(dd,n)}catch{}switch(n.tag){case 5:rn||ko(n,e);case 6:var r=qt,i=yr;qt=null,$i(t,e,n),qt=r,yr=i,qt!==null&&(yr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(yr?(t=qt,n=n.stateNode,t.nodeType===8?Wf(t.parentNode,n):t.nodeType===1&&Wf(t,n),Su(t)):Wf(qt,n.stateNode));break;case 4:r=qt,i=yr,qt=n.stateNode.containerInfo,yr=!0,$i(t,e,n),qt=r,yr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Op(n,e,a),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!rn&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bt(n,e,o)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,$i(t,e,n),rn=r):$i(t,e,n);break;default:$i(t,e,n)}}function Mv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tI),e.forEach(function(r){var i=hI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:qt=o.stateNode,yr=!1;break e;case 3:qt=o.stateNode.containerInfo,yr=!0;break e;case 4:qt=o.stateNode.containerInfo,yr=!0;break e}o=o.return}if(qt===null)throw Error(te(160));M8(s,a,i),qt=null,yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D8(e,t),e=e.sibling}function D8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),Rr(t),r&4){try{au(3,t,t.return),_d(3,t)}catch(w){bt(t,t.return,w)}try{au(5,t,t.return)}catch(w){bt(t,t.return,w)}}break;case 1:pr(e,t),Rr(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(pr(e,t),Rr(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var i=t.stateNode;try{xu(i,"")}catch(w){bt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),lp(o,a);var u=lp(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?ow(i,d):h==="dangerouslySetInnerHTML"?sw(i,d):h==="children"?xu(i,d):J1(i,h,d,u)}switch(o){case"input":rp(i,s);break;case"textarea":rw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?To(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?To(i,!!s.multiple,s.defaultValue,!0):To(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(w){bt(t,t.return,w)}}break;case 6:if(pr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){bt(t,t.return,w)}}break;case 3:if(pr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(w){bt(t,t.return,w)}break;case 4:pr(e,t),Rr(t);break;case 13:pr(e,t),Rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pg=Et())),r&4&&Mv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||h,pr(e,t),rn=u):pr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ce=t,h=t.child;h!==null;){for(d=ce=h;ce!==null;){switch(f=ce,m=f.child,f.tag){case 0:case 11:case 14:case 15:au(4,f,f.return);break;case 1:ko(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){bt(r,n,w)}}break;case 5:ko(f,f.return);break;case 22:if(f.memoizedState!==null){Ov(d);continue}}m!==null?(m.return=f,ce=m):Ov(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aw("display",a))}catch(w){bt(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){bt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pr(e,t),Rr(t),r&4&&Mv(t);break;case 21:break;default:pr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N8(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xu(i,""),r.flags&=-33);var s=Nv(t);Fp(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Nv(t);zp(t,o,a);break;default:throw Error(te(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rI(t,e,n){ce=t,O8(t)}function O8(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||u0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||rn;o=u0;var u=rn;if(u0=a,(rn=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?Lv(i):l!==null?(l.return=a,ce=l):Lv(i);for(;s!==null;)ce=s,O8(s),s=s.sibling;ce=i,u0=o,rn=u}Dv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):Dv(t)}}function Dv(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||_d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vv(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vv(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Su(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}rn||e.flags&512&&Lp(e)}catch(f){bt(e,e.return,f)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Ov(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Lv(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_d(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var s=e.return;try{Lp(e)}catch(l){bt(e,s,l)}break;case 5:var a=e.return;try{Lp(e)}catch(l){bt(e,a,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var iI=Math.ceil,Ah=Mi.ReactCurrentDispatcher,Cg=Mi.ReactCurrentOwner,ar=Mi.ReactCurrentBatchConfig,ze=0,Bt=null,Rt=null,Gt=0,Bn=0,Eo=Bs(0),Ot=0,Lu=null,Ia=0,xd=0,Rg=0,ou=null,Tn=null,Pg=0,Ho=1/0,oi=null,Ch=!1,Vp=null,gs=null,c0=!1,os=null,Rh=0,lu=0,Bp=null,H0=-1,$0=0;function yn(){return ze&6?Et():H0!==-1?H0:H0=Et()}function ys(t){return t.mode&1?ze&2&&Gt!==0?Gt&-Gt:UT.transition!==null?($0===0&&($0=ww()),$0):(t=We,t!==0||(t=window.event,t=t===void 0?16:Tw(t.type)),t):1}function br(t,e,n,r){if(50<lu)throw lu=0,Bp=null,Error(te(185));ac(t,n,r),(!(ze&2)||t!==Bt)&&(t===Bt&&(!(ze&2)&&(xd|=n),Ot===4&&es(t,Gt)),Pn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Ho=Et()+500,yd&&Us()))}function Pn(t,e){var n=t.callbackNode;US(t,e);var r=fh(t,t===Bt?Gt:0);if(r===0)n!==null&&$2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$2(n),e===1)t.tag===0?BT(zv.bind(null,t)):$w(zv.bind(null,t)),LT(function(){!(ze&6)&&Us()}),n=null;else{switch(_w(r)){case 1:n=rg;break;case 4:n=yw;break;case 16:n=dh;break;case 536870912:n=vw;break;default:n=dh}n=q8(n,L8.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L8(t,e){if(H0=-1,$0=0,ze&6)throw Error(te(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=fh(t,t===Bt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ph(t,r);else{e=r;var i=ze;ze|=2;var s=F8();(Bt!==t||Gt!==e)&&(oi=null,Ho=Et()+500,wa(t,e));do try{oI();break}catch(o){z8(t,o)}while(!0);gg(),Ah.current=s,ze=i,Rt!==null?e=0:(Bt=null,Gt=0,e=Ot)}if(e!==0){if(e===2&&(i=fp(t),i!==0&&(r=i,e=Up(t,i))),e===1)throw n=Lu,wa(t,0),es(t,r),Pn(t,Et()),n;if(e===6)es(t,r);else{if(i=t.current.alternate,!(r&30)&&!sI(i)&&(e=Ph(t,r),e===2&&(s=fp(t),s!==0&&(r=s,e=Up(t,s))),e===1))throw n=Lu,wa(t,0),es(t,r),Pn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ua(t,Tn,oi);break;case 3:if(es(t,r),(r&130023424)===r&&(e=Pg+500-Et(),10<e)){if(fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xp(ua.bind(null,t,Tn,oi),e);break}ua(t,Tn,oi);break;case 4:if(es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-xr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iI(r/1960))-r,10<r){t.timeoutHandle=xp(ua.bind(null,t,Tn,oi),r);break}ua(t,Tn,oi);break;case 5:ua(t,Tn,oi);break;default:throw Error(te(329))}}}return Pn(t,Et()),t.callbackNode===n?L8.bind(null,t):null}function Up(t,e){var n=ou;return t.current.memoizedState.isDehydrated&&(wa(t,e).flags|=256),t=Ph(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&jp(e)),t}function jp(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function sI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function es(t,e){for(e&=~Rg,e&=~xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function zv(t){if(ze&6)throw Error(te(327));Po();var e=fh(t,0);if(!(e&1))return Pn(t,Et()),null;var n=Ph(t,e);if(t.tag!==0&&n===2){var r=fp(t);r!==0&&(e=r,n=Up(t,r))}if(n===1)throw n=Lu,wa(t,0),es(t,e),Pn(t,Et()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,Tn,oi),Pn(t,Et()),null}function Ng(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Ho=Et()+500,yd&&Us())}}function Aa(t){os!==null&&os.tag===0&&!(ze&6)&&Po();var e=ze;ze|=1;var n=ar.transition,r=We;try{if(ar.transition=null,We=1,t)return t()}finally{We=r,ar.transition=n,ze=e,!(ze&6)&&Us()}}function Mg(){Bn=Eo.current,at(Eo)}function wa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OT(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:jo(),at(Cn),at(on),bg();break;case 5:xg(r);break;case 4:jo();break;case 13:at(ft);break;case 19:at(ft);break;case 10:yg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(Bt=t,Rt=t=vs(t.current,null),Gt=Bn=e,Ot=0,Lu=null,Rg=xd=Ia=0,Tn=ou=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ga=null}return t}function z8(t,e){do{var n=Rt;try{if(gg(),U0.current=Ih,Th){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(Ta=0,Vt=Dt=pt=null,su=!1,Mu=0,Cg.current=null,n===null||n.return===null){Ot=1,Lu=e,Rt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Gt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Ev(a);if(m!==null){m.flags&=-257,Sv(m,a,o,s,e),m.mode&1&&kv(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){kv(s,u,e),Dg();break e}l=Error(te(426))}}else if(ut&&o.mode&1){var S=Ev(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Sv(S,a,o,s,e),mg(qo(l,o));break e}}s=l=qo(l,o),Ot!==4&&(Ot=2),ou===null?ou=[s]:ou.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=_8(s,l,e);yv(s,x);break e;case 1:o=l;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gs===null||!gs.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=x8(s,o,e);yv(s,U);break e}}s=s.return}while(s!==null)}B8(n)}catch(q){e=q,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function F8(){var t=Ah.current;return Ah.current=Ih,t===null?Ih:t}function Dg(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||!(Ia&268435455)&&!(xd&268435455)||es(Bt,Gt)}function Ph(t,e){var n=ze;ze|=2;var r=F8();(Bt!==t||Gt!==e)&&(oi=null,wa(t,e));do try{aI();break}catch(i){z8(t,i)}while(!0);if(gg(),ze=n,Ah.current=r,Rt!==null)throw Error(te(261));return Bt=null,Gt=0,Ot}function aI(){for(;Rt!==null;)V8(Rt)}function oI(){for(;Rt!==null&&!NS();)V8(Rt)}function V8(t){var e=j8(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?B8(t):Rt=e,Cg.current=null}function B8(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eI(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Rt=null;return}}else if(n=ZT(n,e,Bn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ot===0&&(Ot=5)}function ua(t,e,n){var r=We,i=ar.transition;try{ar.transition=null,We=1,lI(t,e,n,r)}finally{ar.transition=i,We=r}return null}function lI(t,e,n,r){do Po();while(os!==null);if(ze&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jS(t,s),t===Bt&&(Rt=Bt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||c0||(c0=!0,q8(dh,function(){return Po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var a=We;We=1;var o=ze;ze|=4,Cg.current=null,nI(t,n),D8(n,t),AT(wp),mh=!!vp,wp=vp=null,t.current=n,rI(n),MS(),ze=o,We=a,ar.transition=s}else t.current=n;if(c0&&(c0=!1,os=t,Rh=i),s=t.pendingLanes,s===0&&(gs=null),LS(n.stateNode),Pn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ch)throw Ch=!1,t=Vp,Vp=null,t;return Rh&1&&t.tag!==0&&Po(),s=t.pendingLanes,s&1?t===Bp?lu++:(lu=0,Bp=t):lu=0,Us(),null}function Po(){if(os!==null){var t=_w(Rh),e=ar.transition,n=We;try{if(ar.transition=null,We=16>t?16:t,os===null)var r=!1;else{if(t=os,os=null,Rh=0,ze&6)throw Error(te(331));var i=ze;for(ze|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var h=ce;switch(h.tag){case 0:case 11:case 15:au(8,h,s)}var d=h.child;if(d!==null)d.return=h,ce=d;else for(;ce!==null;){h=ce;var f=h.sibling,m=h.return;if(P8(h),h===u){ce=null;break}if(f!==null){f.return=m,ce=f;break}ce=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:au(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ce=x;break e}ce=s.return}}var b=t.current;for(ce=b;ce!==null;){a=ce;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,ce=E;else e:for(a=b;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_d(9,o)}}catch(q){bt(o,o.return,q)}if(o===a){ce=null;break e}var U=o.sibling;if(U!==null){U.return=o.return,ce=U;break e}ce=o.return}}if(ze=i,Us(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(dd,t)}catch{}r=!0}return r}finally{We=n,ar.transition=e}}return!1}function Fv(t,e,n){e=qo(n,e),e=_8(t,e,1),t=ps(t,e,1),e=yn(),t!==null&&(ac(t,1,e),Pn(t,e))}function bt(t,e,n){if(t.tag===3)Fv(t,t,n);else for(;e!==null;){if(e.tag===3){Fv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){t=qo(n,t),t=x8(e,t,1),e=ps(e,t,1),t=yn(),e!==null&&(ac(e,1,t),Pn(e,t));break}}e=e.return}}function uI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Gt&n)===n&&(Ot===4||Ot===3&&(Gt&130023424)===Gt&&500>Et()-Pg?wa(t,0):Rg|=n),Pn(t,e)}function U8(t,e){e===0&&(t.mode&1?(e=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):e=1);var n=yn();t=bi(t,e),t!==null&&(ac(t,e,n),Pn(t,n))}function cI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U8(t,n)}function hI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),U8(t,n)}var j8;j8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,JT(t,e,n);An=!!(t.flags&131072)}else An=!1,ut&&e.flags&1048576&&Ww(e,xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;q0(t,e),t=e.pendingProps;var i=Vo(e,on.current);Ro(e,n),i=Eg(null,e,r,t,i,n);var s=Sg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,wh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wg(e),i.updater=wd,e.stateNode=i,i._reactInternals=e,Ap(e,r,t,n),e=Pp(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&dg(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(q0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fI(r),t=gr(r,t),i){case 0:e=Rp(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=Tv(null,e,r,t,n);break e;case 14:e=Iv(null,e,r,gr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Rp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Av(t,e,r,i,n);case 3:e:{if(S8(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jw(t,e),Eh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qo(Error(te(423)),e),e=Cv(t,e,r,n,i);break e}else if(r!==i){i=qo(Error(te(424)),e),e=Cv(t,e,r,n,i);break e}else for(qn=ms(e.stateNode.containerInfo.firstChild),Wn=e,ut=!0,wr=null,n=Qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===i){e=ki(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return Zw(e),t===null&&Sp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,_p(r,i)?a=null:s!==null&&_p(r,s)&&(e.flags|=32),E8(t,e),mn(t,e,a,n),e.child;case 6:return t===null&&Sp(e),null;case 13:return T8(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),Tv(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ze(bh,r._currentValue),r._currentValue=a,s!==null)if(Sr(s.value,a)){if(s.children===i.children&&!Cn.current){e=ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=mi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tp(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(te(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Tp(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=lr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),Iv(t,e,r,i,n);case 15:return b8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),q0(t,e),e.tag=1,Rn(r)?(t=!0,wh(e)):t=!1,Ro(e,n),w8(e,r,i),Ap(e,r,i,n),Pp(null,e,r,!0,t,n);case 19:return I8(t,e,n);case 22:return k8(t,e,n)}throw Error(te(156,e.tag))};function q8(t,e){return gw(t,e)}function dI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new dI(t,e,n,r)}function Og(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fI(t){if(typeof t=="function")return Og(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===tg)return 14}return 2}function vs(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function W0(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Og(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case mo:return _a(n.children,i,s,e);case Z1:a=8,i|=8;break;case Jm:return t=ir(12,n,e,i|2),t.elementType=Jm,t.lanes=s,t;case Zm:return t=ir(13,n,e,i),t.elementType=Zm,t.lanes=s,t;case ep:return t=ir(19,n,e,i),t.elementType=ep,t.lanes=s,t;case Z7:return bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X7:a=10;break e;case J7:a=9;break e;case eg:a=11;break e;case tg:a=14;break e;case Xi:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _a(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=ir(22,t,r,e),t.elementType=Z7,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lg(t,e,n,r,i,s,a,o,l){return t=new mI(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ir(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),t}function pI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H8(t){if(!t)return Ss;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Rn(n))return Hw(t,n,e)}return e}function $8(t,e,n,r,i,s,a,o,l){return t=Lg(n,r,!0,t,i,s,a,o,l),t.context=H8(null),n=t.current,r=yn(),i=ys(n),s=mi(r,i),s.callback=e??null,ps(n,s,i),t.current.lanes=i,ac(t,i,r),Pn(t,r),t}function kd(t,e,n,r){var i=e.current,s=yn(),a=ys(i);return n=H8(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(i,e,a),t!==null&&(br(t,i,a,s),B0(t,i,a)),a}function Nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zg(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function gI(){return null}var W8=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fg(t){this._internalRoot=t}Ed.prototype.render=Fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));kd(t,e,null,null)};Ed.prototype.unmount=Fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Aa(function(){kd(null,t,null,null)}),e[xi]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=kw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&Sw(t)}};function Vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function yI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nh(a);s.call(u)}}var a=$8(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=a,t[xi]=a.current,Au(t.nodeType===8?t.parentNode:t),Aa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Nh(l);o.call(u)}}var l=Lg(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=l,t[xi]=l.current,Au(t.nodeType===8?t.parentNode:t),Aa(function(){kd(e,l,n,r)}),l}function Td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Nh(a);o.call(l)}}kd(e,a,t,i)}else a=yI(n,e,t,i,r);return Nh(a)}xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$l(e.pendingLanes);n!==0&&(ig(e,n|1),Pn(e,Et()),!(ze&6)&&(Ho=Et()+500,Us()))}break;case 13:Aa(function(){var r=bi(t,1);if(r!==null){var i=yn();br(r,t,1,i)}}),zg(t,1)}};sg=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=yn();br(e,t,134217728,n)}zg(t,134217728)}};bw=function(t){if(t.tag===13){var e=ys(t),n=bi(t,e);if(n!==null){var r=yn();br(n,t,e,r)}zg(t,e)}};kw=function(){return We};Ew=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};cp=function(t,e,n){switch(e){case"input":if(rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gd(r);if(!i)throw Error(te(90));tw(r),rp(r,i)}}}break;case"textarea":rw(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};cw=Ng;hw=Aa;var vI={usingClientEntryPoint:!1,Events:[lc,vo,gd,lw,uw,Ng]},zl={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mw(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||gI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h0.isDisabled&&h0.supportsFiber)try{dd=h0.inject(wI),Vr=h0}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vg(e))throw Error(te(200));return pI(t,e,null,n)};Qn.createRoot=function(t,e){if(!Vg(t))throw Error(te(299));var n=!1,r="",i=W8;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lg(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,Au(t.nodeType===8?t.parentNode:t),new Fg(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=mw(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return Aa(t)};Qn.hydrate=function(t,e,n){if(!Sd(e))throw Error(te(200));return Td(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Vg(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=W8;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$8(e,null,t,1,n??null,i,!1,s,a),t[xi]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ed(e)};Qn.render=function(t,e,n){if(!Sd(e))throw Error(te(200));return Td(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(te(40));return t._reactRootContainer?(Aa(function(){Td(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};Qn.unstable_batchedUpdates=Ng;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Td(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function G8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G8)}catch(t){console.error(t)}}G8(),G7.exports=Qn;var _I=G7.exports,Uv=_I;Qm.createRoot=Uv.createRoot,Qm.hydrateRoot=Uv.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}var ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ls||(ls={}));const jv="popstate";function xI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return qp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mh(i)}return kI(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bI(){return Math.random().toString(36).substr(2,8)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,n,r){return n===void 0&&(n=null),zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||bI()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ls.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(zu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=ls.Pop;let S=h(),x=S==null?null:S-u;u=S,l&&l({action:o,location:w.location,delta:x})}function f(S,x){o=ls.Push;let b=qp(w.location,S,x);u=h()+1;let E=qv(b,u),U=w.createHref(b);try{a.pushState(E,"",U)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(U)}s&&l&&l({action:o,location:w.location,delta:1})}function m(S,x){o=ls.Replace;let b=qp(w.location,S,x);u=h();let E=qv(b,u),U=w.createHref(b);a.replaceState(E,"",U),s&&l&&l({action:o,location:w.location,delta:0})}function y(S){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:Mh(S);return b=b.replace(/ $/,"%20"),It(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let w={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jv,d),l=S,()=>{i.removeEventListener(jv,d),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let x=y(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(S){return a.go(S)}};return w}var Hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hv||(Hv={}));function EI(t,e,n){return n===void 0&&(n="/"),SI(t,e,n)}function SI(t,e,n,r){let i=typeof e=="string"?tl(e):e,s=Ug(i.pathname||"/",n);if(s==null)return null;let a=K8(t);TI(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=FI(s);o=OI(a[l],u)}return o}function K8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ws([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K8(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:MI(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Y8(s.path))i(s,a,l)}),e}function Y8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Y8(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function TI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const II=/^:[\w-]+$/,AI=3,CI=2,RI=1,PI=10,NI=-2,$v=t=>t==="*";function MI(t,e){let n=t.split("/"),r=n.length;return n.some($v)&&(r+=NI),e&&(r+=CI),n.filter(i=>!$v(i)).reduce((i,s)=>i+(II.test(s)?AI:s===""?RI:PI),r)}function DI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OI(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=LI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:ws([s,d.pathname]),pathnameBase:qI(ws([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ws([s,d.pathnameBase]))}return a}function LI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let w=o[d]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function zI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ug(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BI=t=>VI.test(t);function UI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t,s;if(n)if(BI(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Bg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Wv(n.substring(1),"/"):s=Wv(n,e)}else s=e;return{pathname:s,search:HI(r),hash:$I(i)}}function Wv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jg(t,e){let n=jI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tl(t):(i=zu({},t),It(!i.pathname||!i.pathname.includes("?"),nm("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),nm("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),nm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=UI(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ws=t=>t.join("/").replace(/\/\/+/g,"/"),qI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$I=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q8=["post","put","patch","delete"];new Set(Q8);const GI=["get",...Q8];new Set(GI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}const Hg=W.createContext(null),KI=W.createContext(null),js=W.createContext(null),Id=W.createContext(null),Di=W.createContext({outlet:null,matches:[],isDataRoute:!1}),X8=W.createContext(null);function YI(t,e){let{relative:n}=e===void 0?{}:e;nl()||It(!1);let{basename:r,navigator:i}=W.useContext(js),{hash:s,pathname:a,search:o}=Z8(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:ws([r,a])),i.createHref({pathname:l,search:o,hash:s})}function nl(){return W.useContext(Id)!=null}function Ba(){return nl()||It(!1),W.useContext(Id).location}function J8(t){W.useContext(js).static||W.useLayoutEffect(t)}function qs(){let{isDataRoute:t}=W.useContext(Di);return t?uA():QI()}function QI(){nl()||It(!1);let t=W.useContext(Hg),{basename:e,future:n,navigator:r}=W.useContext(js),{matches:i}=W.useContext(Di),{pathname:s}=Ba(),a=JSON.stringify(jg(i,n.v7_relativeSplatPath)),o=W.useRef(!1);return J8(()=>{o.current=!0}),W.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=qg(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ws([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,a,s,t])}function XI(){let{matches:t}=W.useContext(Di),e=t[t.length-1];return e?e.params:{}}function Z8(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(js),{matches:i}=W.useContext(Di),{pathname:s}=Ba(),a=JSON.stringify(jg(i,r.v7_relativeSplatPath));return W.useMemo(()=>qg(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function JI(t,e){return ZI(t,e)}function ZI(t,e,n,r){nl()||It(!1);let{navigator:i}=W.useContext(js),{matches:s}=W.useContext(Di),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ba(),h;if(e){var d;let S=typeof e=="string"?tl(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||It(!1),h=S}else h=u;let f=h.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=EI(t,{pathname:m}),w=iA(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ws([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ws([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&w?W.createElement(Id.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ls.Pop}},w):w}function eA(){let t=lA(),e=WI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,null)}const tA=W.createElement(eA,null);class nA extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(Di.Provider,{value:this.props.routeContext},W.createElement(X8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rA(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(Hg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Di.Provider,{value:e},r)}function iA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||It(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:m}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let m,y=!1,w=null,S=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||tA,l&&(u<0&&f===0?(cA("route-fallback"),y=!0,S=null):u===f&&(y=!0,S=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),b=()=>{let E;return m?E=w:y?E=S:d.route.Component?E=W.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,W.createElement(rA,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?W.createElement(nA,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var e9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e9||{}),t9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(t9||{});function sA(t){let e=W.useContext(Hg);return e||It(!1),e}function aA(t){let e=W.useContext(KI);return e||It(!1),e}function oA(t){let e=W.useContext(Di);return e||It(!1),e}function n9(t){let e=oA(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function lA(){var t;let e=W.useContext(X8),n=aA(),r=n9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uA(){let{router:t}=sA(e9.UseNavigateStable),e=n9(t9.UseNavigateStable),n=W.useRef(!1);return J8(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fu({fromRouteId:e},s)))},[t,e])}const Gv={};function cA(t,e,n){Gv[t]||(Gv[t]=!0)}function hA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function no(t){let{to:e,replace:n,state:r,relative:i}=t;nl()||It(!1);let{future:s,static:a}=W.useContext(js),{matches:o}=W.useContext(Di),{pathname:l}=Ba(),u=qs(),h=qg(e,jg(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return W.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function ca(t){It(!1)}function dA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ls.Pop,navigator:s,static:a=!1,future:o}=t;nl()&&It(!1);let l=e.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:s,static:a,future:Fu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=tl(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:y="default"}=r,w=W.useMemo(()=>{let S=Ug(h,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:m,key:y},navigationType:i}},[l,h,d,f,m,y,i]);return w==null?null:W.createElement(js.Provider,{value:u},W.createElement(Id.Provider,{children:n,value:w}))}function fA(t){let{children:e,location:n}=t;return JI(Hp(e),n)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,Hp(r.props.children,s));return}r.type!==ca&&It(!1),!r.props.index||!r.props.children||It(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hp(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function mA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gA(t,e){return t.button===0&&(!e||e==="_self")&&!pA(t)}function Wp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function yA(t,e){let n=Wp(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const vA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wA="6";try{window.__reactRouterVersion=wA}catch{}const _A="startTransition",Kv=uS[_A];function xA(t){let{basename:e,children:n,future:r,window:i}=t,s=W.useRef();s.current==null&&(s.current=xI({window:i,v5Compat:!0}));let a=s.current,[o,l]=W.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=W.useCallback(d=>{u&&Kv?Kv(()=>l(d)):l(d)},[l,u]);return W.useLayoutEffect(()=>a.listen(h),[a,h]),W.useEffect(()=>hA(r),[r]),W.createElement(dA,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const bA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:d}=e,f=mA(e,vA),{basename:m}=W.useContext(js),y,w=!1;if(typeof u=="string"&&kA.test(u)&&(y=u,bA))try{let E=new URL(window.location.href),U=u.startsWith("//")?new URL(E.protocol+u):new URL(u),q=Ug(U.pathname,m);U.origin===E.origin&&q!=null?u=q+U.search+U.hash:w=!0}catch{}let S=YI(u,{relative:i}),x=EA(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:d});function b(E){r&&r(E),E.defaultPrevented||x(E)}return W.createElement("a",$p({},f,{href:y||S,onClick:w||s?r:b,ref:n,target:l}))});var Yv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yv||(Yv={}));var Qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qv||(Qv={}));function EA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=qs(),u=Ba(),h=Z8(t,{relative:a});return W.useCallback(d=>{if(gA(d,n)){d.preventDefault();let f=r!==void 0?r:Mh(u)===Mh(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,r,i,n,t,s,a,o])}function SA(t){let e=W.useRef(Wp(t)),n=W.useRef(!1),r=Ba(),i=W.useMemo(()=>yA(r.search,n.current?null:e.current),[r.search]),s=qs(),a=W.useCallback((o,l)=>{const u=Wp(typeof o=="function"?o(i):o);n.current=!0,s("?"+u,l)},[s,i]);return[i,a]}const TA=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},i9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||d==null)throw new AA;const f=s<<2|o>>4;if(r.push(f),u!==64){const m=o<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(t){const e=r9(t);return i9.encodeByteArray(e,!0)},Dh=function(t){return CA(t).replace(/\./g,"")},s9=function(t){try{return i9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>RA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&s9(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return TA()||PA()||NA()||MA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a9=t=>{var e,n;return(n=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o9=t=>{const e=a9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},l9=()=>{var t;return(t=Ad())===null||t===void 0?void 0:t.config},u9=t=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $g(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(a)),""].join(".")}const uu={};function OA(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function LA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Jv=!1;function Wg(t,e){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||uu[t]===e||uu[t]||Jv)return;uu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=OA().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Jv=!0,a()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=LA(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;o(E),h(S,w);const U=u();l(b,x),E.append(b,y,S,U),document.body.appendChild(E)}s?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function FA(){var t;const e=(t=Ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WA,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?GA(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Yr(i,o,r)}}function GA(t,e){return t.replace(KA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KA=/\{\$([^}]+)}/g;function YA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Zv(s)&&Zv(a)){if(!Ca(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QA(t,e){const n=new XA(t,e);return n.subscribe.bind(n)}class XA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rm),i.error===void 0&&(i.error=rm),i.complete===void 0&&(i.complete=rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(t){return t===ha?void 0:t}function tC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const rC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},iC=Me.INFO,sC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},aC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=aC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const oC=(t,e)=>e.some(n=>t instanceof n);let e3,t3;function lC(){return e3||(e3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return t3||(t3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h9=new WeakMap,Gp=new WeakMap,d9=new WeakMap,im=new WeakMap,Kg=new WeakMap;function cC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(_s(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&h9.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function hC(t){if(Gp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Gp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dC(t){Kp=t(Kp)}function fC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return d9.set(r,e.sort?e.sort():[e]),_s(r)}:uC().includes(t)?function(...e){return t.apply(sm(this),e),_s(h9.get(this))}:function(...e){return _s(t.apply(sm(this),e))}}function mC(t){return typeof t=="function"?fC(t):(t instanceof IDBTransaction&&hC(t),oC(t,lC())?new Proxy(t,Kp):t)}function _s(t){if(t instanceof IDBRequest)return cC(t);if(im.has(t))return im.get(t);const e=mC(t);return e!==t&&(im.set(t,e),Kg.set(e,t)),e}const sm=t=>Kg.get(t);function pC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=_s(a);return r&&a.addEventListener("upgradeneeded",l=>{r(_s(a.result),l.oldVersion,l.newVersion,_s(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const gC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],am=new Map;function n3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gC.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return am.set(e,s),s}dC(t=>({...t,get:(e,n,r)=>n3(e,n)||t.get(e,n,r),has:(e,n)=>!!n3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yp="@firebase/app",r3="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Gg("@firebase/app"),_C="@firebase/app-compat",xC="@firebase/analytics-compat",bC="@firebase/analytics",kC="@firebase/app-check-compat",EC="@firebase/app-check",SC="@firebase/auth",TC="@firebase/auth-compat",IC="@firebase/database",AC="@firebase/data-connect",CC="@firebase/database-compat",RC="@firebase/functions",PC="@firebase/functions-compat",NC="@firebase/installations",MC="@firebase/installations-compat",DC="@firebase/messaging",OC="@firebase/messaging-compat",LC="@firebase/performance",zC="@firebase/performance-compat",FC="@firebase/remote-config",VC="@firebase/remote-config-compat",BC="@firebase/storage",UC="@firebase/storage-compat",jC="@firebase/firestore",qC="@firebase/ai",HC="@firebase/firestore-compat",$C="firebase",WC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",GC={[Yp]:"fire-core",[_C]:"fire-core-compat",[bC]:"fire-analytics",[xC]:"fire-analytics-compat",[EC]:"fire-app-check",[kC]:"fire-app-check-compat",[SC]:"fire-auth",[TC]:"fire-auth-compat",[IC]:"fire-rtdb",[AC]:"fire-data-connect",[CC]:"fire-rtdb-compat",[RC]:"fire-fn",[PC]:"fire-fn-compat",[NC]:"fire-iid",[MC]:"fire-iid-compat",[DC]:"fire-fcm",[OC]:"fire-fcm-compat",[LC]:"fire-perf",[zC]:"fire-perf-compat",[FC]:"fire-rc",[VC]:"fire-rc-compat",[BC]:"fire-gcs",[UC]:"fire-gcs-compat",[jC]:"fire-fst",[HC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,KC=new Map,Xp=new Map;function i3(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(Xp.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of Oh.values())i3(n,t);for(const n of KC.values())i3(n,t);return!0}function Cd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new cc("app","Firebase",YC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=WC;function f9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw xs.create("bad-app-name",{appName:String(i)});if(n||(n=l9()),!n)throw xs.create("no-options");const s=Oh.get(i);if(s){if(Ca(n,s.options)&&Ca(r,s.config))return s;throw xs.create("duplicate-app",{appName:i})}const a=new nC(i);for(const l of Xp.values())a.addComponent(l);const o=new QC(n,r,a);return Oh.set(i,o),o}function Yg(t=Qp){const e=Oh.get(t);if(!e&&t===Qp&&l9())return f9();if(!e)throw xs.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=GC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(o.join(" "));return}Ra(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebase-heartbeat-database",JC=1,Bu="firebase-heartbeat-store";let om=null;function m9(){return om||(om=pC(XC,JC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),om}async function ZC(t){try{const n=(await m9()).transaction(Bu),r=await n.objectStore(Bu).get(p9(t));return await n.done,r}catch(e){if(e instanceof Yr)Ei.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function s3(t,e){try{const r=(await m9()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,p9(t)),await r.done}catch(n){if(n instanceof Yr)Ei.warn(n.message);else{const r=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function p9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tR){const a=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a3(),{heartbeatsToSend:r,unsentEntries:i}=rR(this._heartbeatsCache.heartbeats),s=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ei.warn(n),""}}}function a3(){return new Date().toISOString().substring(0,10)}function rR(t,e=eR){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),o3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o3(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function sR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){Ra(new Ts("platform-logger",e=>new vC(e),"PRIVATE")),Ra(new Ts("heartbeat",e=>new nR(e),"PRIVATE")),Ur(Yp,r3,t),Ur(Yp,r3,"esm2017"),Ur("fire-js","")}aR("");function Qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=g9,y9=new cc("auth","Firebase",g9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Gg("@firebase/auth");function lR(t,...e){Lh.logLevel<=Me.WARN&&Lh.warn(`Auth (${Ua}): ${t}`,...e)}function G0(t,...e){Lh.logLevel<=Me.ERROR&&Lh.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Xg(t,...e)}function jr(t,...e){return Xg(t,...e)}function v9(t,e,n){const r=Object.assign(Object.assign({},oR()),{[e]:n});return new cc("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return v9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return y9.create(t,...e)}function we(t,e,...n){if(!t)throw Xg(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G0(e),new Error(e)}function Si(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uR(){return l3()==="http:"||l3()==="https:"}function l3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||BA()||"connection"in navigator)?navigator.onLine:!0}function hR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=zA()||UA()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new dc(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ws(t,e,n,r,i={}){return _9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=hc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return VA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Hs(t.emulatorConfig.host)&&(u.credentials="include"),w9.fetch()(await x9(t,t.config.apiHost,n,o),u)})}async function _9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dR),e);try{const i=new gR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw d0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw d0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw d0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw d0(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw v9(t,h,u);Tr(t,h)}}catch(i){if(i instanceof Yr)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function fc(t,e,n,r,i={}){const s=await Ws(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function x9(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Jg(t.config,i):`${t.config.apiScheme}://${i}`;return fR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function pR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),mR.get())})}}function d0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function u3(t){return t!==void 0&&t.enterprise!==void 0}class yR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vR(t,e){return Ws(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function zh(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _R(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=Zg(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(lm(i.auth_time)),issuedAtTime:cu(lm(i.iat)),expirationTime:cu(lm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lm(t){return Number(t)*1e3}function Zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return G0("JWT malformed, contained fewer than 3 sections"),null;try{const i=s9(n);return i?JSON.parse(i):(G0("Failed to decode base64 JWT payload"),null)}catch(i){return G0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c3(t){const e=Zg(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&xR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uu(t,zh(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b9(s.providerUserInfo):[],o=ER(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function kR(t){const e=ct(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ER(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b9(t){return t.map(e=>{var{providerId:n}=e,r=Qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e){const n=await _9(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await x9(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Hs(t.emulatorConfig.host)&&(l.credentials="include"),w9.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TR(t,e){return Ws(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=c3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new No;return r&&(we(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _R(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Uu(this,wR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(o=n.tenantId)!==null&&o!==void 0?o:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:U,isAnonymous:q,providerData:z,stsTokenManager:N}=n;we(E&&N,e,"internal-error");const I=No.fromJSON(this.name,N);we(typeof E=="string",e,"internal-error"),Wi(d,e.name),Wi(f,e.name),we(typeof U=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Wi(m,e.name),Wi(y,e.name),Wi(w,e.name),Wi(S,e.name),Wi(x,e.name),Wi(b,e.name);const P=new _r({uid:E,auth:e,email:f,emailVerified:U,displayName:d,isAnonymous:q,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:I,createdAt:x,lastLoginAt:b});return z&&Array.isArray(z)&&(P.providerData=z.map(T=>Object.assign({},T))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new _r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?b9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new No;o.updateFromIdToken(r);const l=new _r({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Map;function fi(t){Si(t instanceof Function,"Expected a class definition");let e=h3.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k9.type="NONE";const d3=k9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=K0(this.userKey,i.apiKey,s),this.fullPersistenceKey=K0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?_r._fromGetAccountInfoResponse(this.auth,n,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(fi(d3),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||fi(d3);const a=K0(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const h=await u._get(a);if(h){let d;if(typeof h=="string"){const f=await zh(e,{idToken:h}).catch(()=>{});if(!f)break;d=await _r._fromGetAccountInfoResponse(e,f,h)}else d=_r._fromJSON(e,h);u!==s&&(o=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mo(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C9(e))return"Blackberry";if(R9(e))return"Webos";if(S9(e))return"Safari";if((e.includes("chrome/")||T9(e))&&!e.includes("edge/"))return"Chrome";if(A9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E9(t=ln()){return/firefox\//i.test(t)}function S9(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T9(t=ln()){return/crios\//i.test(t)}function I9(t=ln()){return/iemobile/i.test(t)}function A9(t=ln()){return/android/i.test(t)}function C9(t=ln()){return/blackberry/i.test(t)}function R9(t=ln()){return/webos/i.test(t)}function e4(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IR(t=ln()){var e;return e4(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AR(){return jA()&&document.documentMode===10}function P9(t=ln()){return e4(t)||A9(t)||R9(t)||C9(t)||/windows phone/i.test(t)||I9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e=[]){let n;switch(t){case"Browser":n=f3(ln());break;case"Worker":n=`${f3(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e={}){return Ws(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class NR{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:PR,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m3(this),this.idTokenSubscription=new m3(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),r=await _r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(pi(this));const n=e?ct(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RR(this),n=new NR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ja(t){return ct(t)}class m3{constructor(e){this.auth=e,this.observer=null,this.addObserver=QA(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DR(t){Rd=t}function M9(t){return Rd.loadJS(t)}function OR(){return Rd.recaptchaEnterpriseScript}function LR(){return Rd.gapiScript}function zR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class FR{constructor(){this.enterprise=new VR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BR="recaptcha-enterprise",D9="NO_RECAPTCHA";class UR{constructor(e){this.type=BR,this.auth=ja(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{vR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new yR(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;u3(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(D9)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FR().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&u3(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OR();l.length!==0&&(l+=o),M9(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function p3(t,e,n,r=!1,i=!1){const s=new UR(t);let a;if(i)a=D9;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function e1(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await p3(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await p3(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){const n=Cd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ca(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function qR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HR(t,e,n){const r=ja(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=O9(e),{host:a,port:o}=$R(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Ca(u,r.config.emulator)&&Ca(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Hs(a)?($g(`${s}//${a}${l}`),Wg("Auth",!0)):WR()}function O9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $R(t){const e=O9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:g3(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:g3(a)}}}function g3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function GR(t,e){return Ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function QR(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends t4{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,n,"signInWithPassword",KR);case"emailLink":return YR(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,r,"signUpPassword",GR);case"emailLink":return QR(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="http://localhost";class Pa extends t4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qg(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Pa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:XR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZR(t){const e=Gl(Kl(t)).link,n=e?Gl(Kl(e)).deep_link_id:null,r=Gl(Kl(t)).deep_link_id;return(r?Gl(Kl(r)).link:null)||r||n||e||t}class n4{constructor(e){var n,r,i,s,a,o;const l=Gl(Kl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=JR((i=l.mode)!==null&&i!==void 0?i:null);we(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=ZR(e);try{return new n4(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=n4.parseLink(n);return we(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends L9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends mc{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends mc{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends mc{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e){return fc(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _r._fromIdTokenResponse(e,r,i),a=y3(r);return new Na({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y3(r);return new Na({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vh(e,n,r,i)}}function z9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(t,s,e,r):s})}async function tP(t,e,n=!1){const r=await Uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Na._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const s=await Uu(t,z9(r,i,e,t),n);we(s.idToken,r,"internal-error");const a=Zg(s.idToken);we(a,r,"internal-error");const{sub:o}=a;return we(t.uid===o,r,"user-mismatch"),Na._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e,n=!1){if(Un(t.app))return Promise.reject(pi(t));const r="signIn",i=await z9(t,r,e),s=await Na._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function rP(t,e){return F9(ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t){const e=ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iP(t,e,n){if(Un(t.app))return Promise.reject(pi(t));const r=ja(t),a=await e1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&V9(t),l}),o=await Na._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function sP(t,e,n){return Un(t.app)?Promise.reject(pi(t)):rP(ct(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V9(t),r})}function aP(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function oP(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function lP(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function uP(t){return ct(t).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1e3,hP=10;class U9 extends B9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);AR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U9.type="LOCAL";const dP=U9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends B9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j9.type="SESSION";const q9=j9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await fP(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=r4("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function pP(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function gP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vP(){return H9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="firebaseLocalStorageDb",wP=1,Uh="firebaseLocalStorage",W9="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(t,e){return t.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function _P(){const t=indexedDB.deleteDatabase($9);return new pc(t).toPromise()}function t1(){const t=indexedDB.open($9,wP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uh,{keyPath:W9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await _P(),e(await t1()))})})}async function v3(t,e,n){const r=Nd(t,!0).put({[W9]:e,value:n});return new pc(r).toPromise()}async function xP(t,e){const n=Nd(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function w3(t,e){const n=Nd(t,!0).delete(e);return new pc(n).toPromise()}const bP=800,kP=3;class G9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(vP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gP(),!this.activeServiceWorker)return;this.sender=new mP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t1();return await v3(e,Bh,"1"),await w3(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Nd(i,!1).getAll();return new pc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G9.type="LOCAL";const EP=G9;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e){return e?fi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4 extends t4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TP(t){return F9(t.auth,new i4(t),t.bypassAuthState)}function IP(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),nP(n,new i4(t),t.bypassAuthState)}async function AP(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),tP(n,new i4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TP;case"linkViaPopup":case"linkViaRedirect":return AP;case"reauthViaPopup":case"reauthViaRedirect":return IP;default:Tr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new dc(2e3,1e4);class So extends K9{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=r4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CP.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="pendingRedirect",Y0=new Map;class PP extends K9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Y0.get(this.auth._key());if(!e){try{const r=await NP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Y0.set(this.auth._key(),e)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NP(t,e){const n=OP(e),r=DP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MP(t,e){Y0.set(t._key(),e)}function DP(t){return fi(t._redirectPersistence)}function OP(t){return K0(RP,t.config.apiKey,t.name)}async function LP(t,e,n=!1){if(Un(t.app))return Promise.reject(pi(t));const r=ja(t),i=SP(r,e),a=await new PP(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=10*60*1e3;class FP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y9(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zP&&this.cachedEventUids.clear(),this.cachedEventUids.has(_3(e))}saveEventToCache(e){this.cachedEventUids.add(_3(e)),this.lastProcessedEventTime=Date.now()}}function _3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e={}){return Ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jP=/^https?/;async function qP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BP(t);for(const n of e)try{if(HP(n))return}catch{}Tr(t,"unauthorized-domain")}function HP(t){const e=Jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!jP.test(n))return!1;if(UP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new dc(3e4,6e4);function x3(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WP(t){return new Promise((e,n)=>{var r,i,s;function a(){x3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x3(),n(jr(t,"network-request-failed"))},timeout:$P.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)a();else{const o=zR("iframefcb");return qr()[o]=()=>{gapi.load?a():n(jr(t,"network-request-failed"))},M9(`${LR()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Q0=null,e})}let Q0=null;function GP(t){return Q0=Q0||WP(t),Q0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new dc(5e3,15e3),YP="__/auth/iframe",QP="emulator/auth/iframe",XP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZP(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,QP):`https://${t.config.authDomain}/${YP}`,r={apiKey:e.apiKey,appName:t.name,v:Ua},i=JP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function eN(t){const e=await GP(t),n=qr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:ZP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=jr(t,"network-request-failed"),o=qr().setTimeout(()=>{s(a)},KP.get());function l(){qr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nN=500,rN=600,iN="_blank",sN="http://localhost";class b3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(t,e,n,r=nN,i=rN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},tN),{width:r.toString(),height:i.toString(),top:s,left:a}),u=ln().toLowerCase();n&&(o=T9(u)?iN:n),E9(u)&&(e=e||sN,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(IR(u)&&o!=="_self")return oN(e||"",o),new b3(null);const d=window.open(e||"",o,h);we(d,t,"popup-blocked");try{d.focus()}catch{}return new b3(d)}function oN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="__/auth/handler",uN="emulator/auth/handler",cN=encodeURIComponent("fac");async function k3(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ua,eventId:i};if(e instanceof L9){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",YA(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof mc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),u=l?`#${cN}=${encodeURIComponent(l)}`:"";return`${hN(t)}?${hc(o).slice(1)}${u}`}function hN({config:t}){return t.emulator?Jg(t,uN):`https://${t.authDomain}/${lN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class dN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q9,this._completeRedirectFn=LP,this._overrideRedirectResult=MP}async _openPopup(e,n,r,i){var s;Si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await k3(e,n,r,Jp(),i);return aN(e,a,r4())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await k3(e,n,r,Jp(),i);return pP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eN(e),r=new FP(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[um];a!==void 0&&n(!!a),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P9()||S9()||e4()}}const fN=dN;var E3="@firebase/auth",S3="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gN(t){Ra(new Ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;we(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N9(t)},u=new MR(r,i,s,l);return qR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new Ts("auth-internal",e=>{const n=ja(e.getProvider("auth").getImmediate());return(r=>new mN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(E3,S3,pN(t)),Ur(E3,S3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=5*60,vN=u9("authIdTokenMaxAge")||yN;let T3=null;const wN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vN)return;const i=n==null?void 0:n.token;T3!==i&&(T3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _N(t=Yg()){const e=Cd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jR(t,{popupRedirectResolver:fN,persistence:[EP,dP,q9]}),r=u9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=wN(s.toString());oP(n,a,()=>a(n.currentUser)),aP(n,o=>a(o))}}const i=a9("auth");return i&&HR(n,`http://${i}`),n}function xN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gN("Browser");var bN="firebase",kN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(bN,kN,"app");var I3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,Q9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function P(){}P.prototype=I.prototype,N.D=I.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(T,M,V){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return I.prototype[M].apply(T,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,I,P){P||(P=0);var T=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)T[M]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(M=0;16>M;++M)T[M]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=N.g[0],P=N.g[1],M=N.g[2];var V=N.g[3],D=I+(V^P&(M^V))+T[0]+3614090360&4294967295;I=P+(D<<7&4294967295|D>>>25),D=V+(M^I&(P^M))+T[1]+3905402710&4294967295,V=I+(D<<12&4294967295|D>>>20),D=M+(P^V&(I^P))+T[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(I^M&(V^I))+T[3]+3250441966&4294967295,P=M+(D<<22&4294967295|D>>>10),D=I+(V^P&(M^V))+T[4]+4118548399&4294967295,I=P+(D<<7&4294967295|D>>>25),D=V+(M^I&(P^M))+T[5]+1200080426&4294967295,V=I+(D<<12&4294967295|D>>>20),D=M+(P^V&(I^P))+T[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(I^M&(V^I))+T[7]+4249261313&4294967295,P=M+(D<<22&4294967295|D>>>10),D=I+(V^P&(M^V))+T[8]+1770035416&4294967295,I=P+(D<<7&4294967295|D>>>25),D=V+(M^I&(P^M))+T[9]+2336552879&4294967295,V=I+(D<<12&4294967295|D>>>20),D=M+(P^V&(I^P))+T[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(I^M&(V^I))+T[11]+2304563134&4294967295,P=M+(D<<22&4294967295|D>>>10),D=I+(V^P&(M^V))+T[12]+1804603682&4294967295,I=P+(D<<7&4294967295|D>>>25),D=V+(M^I&(P^M))+T[13]+4254626195&4294967295,V=I+(D<<12&4294967295|D>>>20),D=M+(P^V&(I^P))+T[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(I^M&(V^I))+T[15]+1236535329&4294967295,P=M+(D<<22&4294967295|D>>>10),D=I+(M^V&(P^M))+T[1]+4129170786&4294967295,I=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(I^P))+T[6]+3225465664&4294967295,V=I+(D<<9&4294967295|D>>>23),D=M+(I^P&(V^I))+T[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^I&(M^V))+T[0]+3921069994&4294967295,P=M+(D<<20&4294967295|D>>>12),D=I+(M^V&(P^M))+T[5]+3593408605&4294967295,I=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(I^P))+T[10]+38016083&4294967295,V=I+(D<<9&4294967295|D>>>23),D=M+(I^P&(V^I))+T[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^I&(M^V))+T[4]+3889429448&4294967295,P=M+(D<<20&4294967295|D>>>12),D=I+(M^V&(P^M))+T[9]+568446438&4294967295,I=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(I^P))+T[14]+3275163606&4294967295,V=I+(D<<9&4294967295|D>>>23),D=M+(I^P&(V^I))+T[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^I&(M^V))+T[8]+1163531501&4294967295,P=M+(D<<20&4294967295|D>>>12),D=I+(M^V&(P^M))+T[13]+2850285829&4294967295,I=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(I^P))+T[2]+4243563512&4294967295,V=I+(D<<9&4294967295|D>>>23),D=M+(I^P&(V^I))+T[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^I&(M^V))+T[12]+2368359562&4294967295,P=M+(D<<20&4294967295|D>>>12),D=I+(P^M^V)+T[5]+4294588738&4294967295,I=P+(D<<4&4294967295|D>>>28),D=V+(I^P^M)+T[8]+2272392833&4294967295,V=I+(D<<11&4294967295|D>>>21),D=M+(V^I^P)+T[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^I)+T[14]+4259657740&4294967295,P=M+(D<<23&4294967295|D>>>9),D=I+(P^M^V)+T[1]+2763975236&4294967295,I=P+(D<<4&4294967295|D>>>28),D=V+(I^P^M)+T[4]+1272893353&4294967295,V=I+(D<<11&4294967295|D>>>21),D=M+(V^I^P)+T[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^I)+T[10]+3200236656&4294967295,P=M+(D<<23&4294967295|D>>>9),D=I+(P^M^V)+T[13]+681279174&4294967295,I=P+(D<<4&4294967295|D>>>28),D=V+(I^P^M)+T[0]+3936430074&4294967295,V=I+(D<<11&4294967295|D>>>21),D=M+(V^I^P)+T[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^I)+T[6]+76029189&4294967295,P=M+(D<<23&4294967295|D>>>9),D=I+(P^M^V)+T[9]+3654602809&4294967295,I=P+(D<<4&4294967295|D>>>28),D=V+(I^P^M)+T[12]+3873151461&4294967295,V=I+(D<<11&4294967295|D>>>21),D=M+(V^I^P)+T[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^I)+T[2]+3299628645&4294967295,P=M+(D<<23&4294967295|D>>>9),D=I+(M^(P|~V))+T[0]+4096336452&4294967295,I=P+(D<<6&4294967295|D>>>26),D=V+(P^(I|~M))+T[7]+1126891415&4294967295,V=I+(D<<10&4294967295|D>>>22),D=M+(I^(V|~P))+T[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~I))+T[5]+4237533241&4294967295,P=M+(D<<21&4294967295|D>>>11),D=I+(M^(P|~V))+T[12]+1700485571&4294967295,I=P+(D<<6&4294967295|D>>>26),D=V+(P^(I|~M))+T[3]+2399980690&4294967295,V=I+(D<<10&4294967295|D>>>22),D=M+(I^(V|~P))+T[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~I))+T[1]+2240044497&4294967295,P=M+(D<<21&4294967295|D>>>11),D=I+(M^(P|~V))+T[8]+1873313359&4294967295,I=P+(D<<6&4294967295|D>>>26),D=V+(P^(I|~M))+T[15]+4264355552&4294967295,V=I+(D<<10&4294967295|D>>>22),D=M+(I^(V|~P))+T[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~I))+T[13]+1309151649&4294967295,P=M+(D<<21&4294967295|D>>>11),D=I+(M^(P|~V))+T[4]+4149444226&4294967295,I=P+(D<<6&4294967295|D>>>26),D=V+(P^(I|~M))+T[11]+3174756917&4294967295,V=I+(D<<10&4294967295|D>>>22),D=M+(I^(V|~P))+T[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~I))+T[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var P=I-this.blockSize,T=this.B,M=this.h,V=0;V<I;){if(M==0)for(;V<=P;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<I;)if(T[M++]=N.charCodeAt(V++),M==this.blockSize){i(this,T),M=0;break}}else for(;V<I;)if(T[M++]=N[V++],M==this.blockSize){i(this,T),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var P=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=P&255,P/=256;for(this.u(N),N=Array(16),I=P=0;4>I;++I)for(var T=0;32>T;T+=8)N[P++]=this.g[I]>>>T&255;return N};function s(N,I){var P=o;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=I(N)}function a(N,I){this.h=I;for(var P=[],T=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;T&&V==I||(P[M]=V,T=!1)}this.g=P}var o={};function l(N){return-128<=N&&128>N?s(N,function(I){return new a([I|0],0>I?-1:0)}):new a([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return d;if(0>N)return S(u(-N));for(var I=[],P=1,T=0;N>=P;T++)I[T]=N/P|0,P*=4294967296;return new a(I,0)}function h(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return S(h(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(I,8)),T=d,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),D=parseInt(N.substring(M,M+V),I);8>V?(V=u(Math.pow(I,V)),T=T.j(V).add(u(D))):(T=T.j(P),T=T.add(u(D)))}return T}var d=l(0),f=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-S(this).m();for(var N=0,I=1,P=0;P<this.g.length;P++){var T=this.i(P);N+=(0<=T?T:4294967296+T)*I,I*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(y(this))return"0";if(w(this))return"-"+S(this).toString(N);for(var I=u(Math.pow(N,6)),P=this,T="";;){var M=U(P,I).g;P=x(P,M.j(I));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=M,y(P))return V+T;for(;6>V.length;)V="0"+V;T=V+T}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function y(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=x(this,N),w(N)?-1:y(N)?0:1};function S(N){for(var I=N.g.length,P=[],T=0;T<I;T++)P[T]=~N.g[T];return new a(P,~N.h).add(f)}t.abs=function(){return w(this)?S(this):this},t.add=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],T=0,M=0;M<=I;M++){var V=T+(this.i(M)&65535)+(N.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);T=D>>>16,V&=65535,D&=65535,P[M]=D<<16|V}return new a(P,P[P.length-1]&-2147483648?-1:0)};function x(N,I){return N.add(S(I))}t.j=function(N){if(y(this)||y(N))return d;if(w(this))return w(N)?S(this).j(S(N)):S(S(this).j(N));if(w(N))return S(this.j(S(N)));if(0>this.l(m)&&0>N.l(m))return u(this.m()*N.m());for(var I=this.g.length+N.g.length,P=[],T=0;T<2*I;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var M=0;M<N.g.length;M++){var V=this.i(T)>>>16,D=this.i(T)&65535,ye=N.i(M)>>>16,me=N.i(M)&65535;P[2*T+2*M]+=D*me,b(P,2*T+2*M),P[2*T+2*M+1]+=V*me,b(P,2*T+2*M+1),P[2*T+2*M+1]+=D*ye,b(P,2*T+2*M+1),P[2*T+2*M+2]+=V*ye,b(P,2*T+2*M+2)}for(T=0;T<I;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=I;T<2*I;T++)P[T]=0;return new a(P,0)};function b(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function E(N,I){this.g=N,this.h=I}function U(N,I){if(y(I))throw Error("division by zero");if(y(N))return new E(d,d);if(w(N))return I=U(S(N),I),new E(S(I.g),S(I.h));if(w(I))return I=U(N,S(I)),new E(S(I.g),I.h);if(30<N.g.length){if(w(N)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var P=f,T=I;0>=T.l(N);)P=q(P),T=q(T);var M=z(P,1),V=z(T,1);for(T=z(T,2),P=z(P,2);!y(T);){var D=V.add(T);0>=D.l(N)&&(M=M.add(P),V=D),T=z(T,1),P=z(P,1)}return I=x(N,M.j(I)),new E(M,I)}for(M=d;0<=N.l(I);){for(P=Math.max(1,Math.floor(N.m()/I.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),V=u(P),D=V.j(I);w(D)||0<D.l(N);)P-=T,V=u(P),D=V.j(I);y(V)&&(V=f),M=M.add(V),N=x(N,D)}return new E(M,N)}t.A=function(N){return U(this,N).h},t.and=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],T=0;T<I;T++)P[T]=this.i(T)&N.i(T);return new a(P,this.h&N.h)},t.or=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],T=0;T<I;T++)P[T]=this.i(T)|N.i(T);return new a(P,this.h|N.h)},t.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],T=0;T<I;T++)P[T]=this.i(T)^N.i(T);return new a(P,this.h^N.h)};function q(N){for(var I=N.g.length+1,P=[],T=0;T<I;T++)P[T]=N.i(T)<<1|N.i(T-1)>>>31;return new a(P,N.h)}function z(N,I){var P=I>>5;I%=32;for(var T=N.g.length-P,M=[],V=0;V<T;V++)M[V]=0<I?N.i(V+P)>>>I|N.i(V+P+1)<<32-I:N.i(V+P);return new a(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q9=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,bs=a}).apply(typeof I3<"u"?I3:typeof self<"u"?self:typeof window<"u"?window:{});var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X9,Yl,J9,X0,n1,Z9,e_,t_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof f0=="object"&&f0];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var _=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var H=c[R];if(!(H in _))break e;_=_[H]}c=c[c.length-1],R=_[c],g=g(R),g!=R&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var _=0,R=!1,H={next:function(){if(!R&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function h(c,g,_){return c.call.apply(c.bind,arguments)}function d(c,g,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function f(c,g,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function y(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,H,G){for(var se=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)se[Ge-2]=arguments[Ge];return g.prototype[H].apply(R,se)}}function w(c){const g=c.length;if(0<g){const _=Array(g);for(let R=0;R<g;R++)_[R]=c[R];return _}return[]}function S(c,g){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(l(R)){const H=c.length||0,G=R.length||0;c.length=H+G;for(let se=0;se<G;se++)c[H+se]=R[se]}else c.push(R)}}class x{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function U(c){return U[" "](c),c}U[" "]=function(){};var q=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function z(c,g,_){for(const R in c)g.call(_,c[R],R,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,g){let _,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(_ in R)c[_]=R[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){o.setTimeout(()=>{throw c},0)}function D(){var c=he;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const R=me.get();R.set(g,_),this.h?this.h.next=R:this.g=R,this.h=R}}var me=new x(()=>new Ue,c=>c.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,re=!1,he=new ye,O=()=>{const c=o.Promise.resolve(void 0);Oe=()=>{c.then(Ee)}};var Ee=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){V(_)}var g=me;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,g),o.removeEventListener("test",_,g)}catch{}return c}();function lt(c,g){if(B.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(q){e:{try{U(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&lt.aa.h.call(this)}}y(lt,B);var je={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Dn(c,g,_,R,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!R,this.ha=H,this.key=++Ut,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fr(c){this.src=c,this.g={},this.h=0}fr.prototype.add=function(c,g,_,R,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=ea(c,g,R,H);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new Dn(g,this.src,G,!!R,H),g.fa=_,c.push(g)),g};function Zs(c,g){var _=g.type;if(_ in c.g){var R=c.g[_],H=Array.prototype.indexOf.call(R,g,void 0),G;(G=0<=H)&&Array.prototype.splice.call(R,H,1),G&&(Qt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ea(c,g,_,R){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==R)return H}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),ni={};function zi(c,g,_,R,H){if(Array.isArray(g)){for(var G=0;G<g.length;G++)zi(c,g[G],_,R,H);return null}return _=Mc(_),c&&c[wt]?c.K(g,_,u(R)?!!R.capture:!1,H):Fi(c,g,_,!1,R,H)}function Fi(c,g,_,R,H,G){if(!g)throw Error("Invalid event type");var se=u(H)?!!H.capture:!!H,Ge=gl(c);if(Ge||(c[ti]=Ge=new fr(c)),_=Ge.add(g,_,R,se,G),_.proxy)return _;if(R=Vi(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)tt||(H=se),H===void 0&&(H=!1),c.addEventListener(g.toString(),R,H);else if(c.attachEvent)c.attachEvent(Nc(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vi(){function c(_){return g.call(c.src,c.listener,_)}const g=pf;return c}function Cr(c,g,_,R,H){if(Array.isArray(g))for(var G=0;G<g.length;G++)Cr(c,g[G],_,R,H);else R=u(R)?!!R.capture:!!R,_=Mc(_),c&&c[wt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=ea(G,_,R,H),-1<_&&(Qt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=gl(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ea(g,_,R,H)),(_=-1<c?g[c]:null)&&Qa(_))}function Qa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[wt])Zs(g.i,c);else{var _=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(_,R,c.capture):g.detachEvent?g.detachEvent(Nc(_),R):g.addListener&&g.removeListener&&g.removeListener(R),(_=gl(g))?(Zs(_,c),_.h==0&&(_.src=null,g[ti]=null)):Qt(c)}}}function Nc(c){return c in ni?ni[c]:ni[c]="on"+c}function pf(c,g){if(c.da)c=!0;else{g=new lt(g,this);var _=c.listener,R=c.ha||c.src;c.fa&&Qa(c),c=_.call(R,g)}return c}function gl(c){return c=c[ti],c instanceof fr?c:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mc(c){return typeof c=="function"?c:(c[yl]||(c[yl]=function(g){return c.handleEvent(g)}),c[yl])}function K(){ve.call(this),this.i=new fr(this),this.M=this,this.F=null}y(K,ve),K.prototype[wt]=!0,K.prototype.removeEventListener=function(c,g,_,R){Cr(this,c,g,_,R)};function Z(c,g){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new B(g,c);else if(g instanceof B)g.target=g.target||c;else{var H=g;g=new B(R,c),T(g,H)}if(H=!0,_)for(var G=_.length-1;0<=G;G--){var se=g.g=_[G];H=xe(se,R,!0,g)&&H}if(se=g.g=c,H=xe(se,R,!0,g)&&H,H=xe(se,R,!1,g)&&H,_)for(G=0;G<_.length;G++)se=g.g=_[G],H=xe(se,R,!1,g)&&H}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],R=0;R<_.length;R++)Qt(_[R]);delete c.g[g],c.h--}}this.F=null},K.prototype.K=function(c,g,_,R){return this.i.add(String(c),g,!1,_,R)},K.prototype.L=function(c,g,_,R){return this.i.add(String(c),g,!0,_,R)};function xe(c,g,_,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==_){var Ge=se.listener,jt=se.ha||se.src;se.fa&&Zs(c.i,se),H=Ge.call(jt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Ce(c,g,_){if(typeof c=="function")_&&(c=f(c,_));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:o.setTimeout(c,g||0)}function qe(c){c.g=Ce(()=>{c.g=null,c.i&&(c.i=!1,qe(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class On extends ve{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(c){ve.call(this),this.h=c,this.g={}}y(Ln,ve);var Zn=[];function Bi(c){z(c.g,function(g,_){this.g.hasOwnProperty(_)&&Qa(g)},c),c.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),Bi(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=o.JSON.stringify,cn=o.JSON.parse,Ui=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function zn(){}zn.prototype.h=null;function jy(c){return c.h||(c.h=c.i())}function qy(){}var vl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gf(){B.call(this,"d")}y(gf,B);function yf(){B.call(this,"c")}y(yf,B);var ta={},Hy=null;function Dc(){return Hy=Hy||new K}ta.La="serverreachability";function $y(c){B.call(this,ta.La,c)}y($y,B);function wl(c){const g=Dc();Z(g,new $y(g))}ta.STAT_EVENT="statevent";function Wy(c,g){B.call(this,ta.STAT_EVENT,c),this.stat=g}y(Wy,B);function hn(c){const g=Dc();Z(g,new Wy(g,c))}ta.Ma="timingevent";function Gy(c,g){B.call(this,ta.Ma,c),this.size=g}y(Gy,B);function _l(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},g)}function xl(){this.g=!0}xl.prototype.xa=function(){this.g=!1};function EE(c,g,_,R,H,G){c.info(function(){if(c.g)if(G)for(var se="",Ge=G.split("&"),jt=0;jt<Ge.length;jt++){var Ve=Ge[jt].split("=");if(1<Ve.length){var Xt=Ve[0];Ve=Ve[1];var Jt=Xt.split("_");se=2<=Jt.length&&Jt[1]=="type"?se+(Xt+"="+Ve+"&"):se+(Xt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+g+`
`+_+`
`+se})}function SE(c,g,_,R,H,G,se){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+g+`
`+_+`
`+G+" "+se})}function Xa(c,g,_,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+IE(c,_)+(R?" "+R:"")})}function TE(c,g){c.info(function(){return"TIMEOUT: "+g})}xl.prototype.info=function(){};function IE(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return ri(_)}catch{return g}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ky={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vf;function Lc(){}y(Lc,zn),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},vf=new Lc;function ji(c,g,_,R){this.j=c,this.i=g,this.l=_,this.R=R||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yy}function Yy(){this.i=null,this.g="",this.h=!1}var Qy={},wf={};function _f(c,g,_){c.L=1,c.v=Bc(ii(g)),c.m=_,c.P=!0,Xy(c,null)}function Xy(c,g){c.F=Date.now(),zc(c),c.A=ii(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),h2(_.i,"t",R),c.C=0,_=c.j.J,c.h=new Yy,c.g=C2(c.j,_?g:null,!c.m),0<c.O&&(c.M=new On(f(c.Y,c,c.g),c.O)),g=c.U,_=c.g,R=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Zn[0]=H.toString()),H=Zn);for(var G=0;G<H.length;G++){var se=zi(_,H[G],R||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),wl(),EE(c.i,c.u,c.A,c.l,c.R,c.m)}ji.prototype.ca=function(c){c=c.target;const g=this.M;g&&si(c)==3?g.j():this.Y(c)},ji.prototype.Y=function(c){try{if(c==this.g)e:{const Jt=si(this.g);var g=this.g.Ba();const eo=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||v2(this.g)))){this.J||Jt!=4||g==7||(g==8||0>=eo?wl(3):wl(2)),xf(this);var _=this.g.Z();this.X=_;t:if(Jy(this)){var R=v2(this.g);c="";var H=R.length,G=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),bl(this);var se="";break t}this.h.i=new o.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(R[g],{stream:!(G&&g==H-1)});R.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,SE(this.i,this.u,this.A,this.l,this.R,Jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,jt=this.g;if((Ge=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ge)){var Ve=Ge;break t}}Ve=null}if(_=Ve)Xa(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,_);else{this.o=!1,this.s=3,hn(12),na(this),bl(this);break e}}if(this.P){_=!0;let mr;for(;!this.J&&this.C<se.length;)if(mr=AE(this,se),mr==wf){Jt==4&&(this.s=4,hn(14),_=!1),Xa(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==Qy){this.s=4,hn(15),Xa(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Xa(this.i,this.l,mr,null),bf(this,mr);if(Jy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||se.length!=0||this.h.h||(this.s=1,hn(16),_=!1),this.o=this.o&&_,!_)Xa(this.i,this.l,se,"[Invalid Chunked Response]"),na(this),bl(this);else if(0<se.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Af(Xt),Xt.M=!0,hn(11))}}else Xa(this.i,this.l,se,null),bf(this,se);Jt==4&&na(this),this.o&&!this.J&&(Jt==4?S2(this.j,this):(this.o=!1,zc(this)))}else $E(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),na(this),bl(this)}}}catch{}finally{}};function Jy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AE(c,g){var _=c.C,R=g.indexOf(`
`,_);return R==-1?wf:(_=Number(g.substring(_,R)),isNaN(_)?Qy:(R+=1,R+_>g.length?wf:(g=g.slice(R,R+_),c.C=R+_,g)))}ji.prototype.cancel=function(){this.J=!0,na(this)};function zc(c){c.S=Date.now()+c.I,Zy(c,c.I)}function Zy(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_l(f(c.ba,c),g)}function xf(c){c.B&&(o.clearTimeout(c.B),c.B=null)}ji.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(TE(this.i,this.A),this.L!=2&&(wl(),hn(17)),na(this),this.s=2,bl(this)):Zy(this,this.S-c)};function bl(c){c.j.G==0||c.J||S2(c.j,c)}function na(c){xf(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Bi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bf(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||kf(_.h,c))){if(!c.K&&kf(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Wc(_),Hc(_);else break e;If(_),hn(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=_l(f(_.Za,_),6e3));if(1>=n2(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ia(_,11)}else if((c.K||_.g==c)&&Wc(_),!b(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let Ve=H[g];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Xt=Ve[3];Xt!=null&&(_.la=Xt,_.j.info("VER="+_.la));const Jt=Ve[4];Jt!=null&&(_.Aa=Jt,_.j.info("SVER="+_.Aa));const eo=Ve[5];eo!=null&&typeof eo=="number"&&0<eo&&(R=1.5*eo,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const mr=c.g;if(mr){const Kc=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var G=R.h;G.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ef(G,G.h),G.h=null))}if(R.D){const Cf=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cf&&(R.ya=Cf,nt(R.I,R.D,Cf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var se=c;if(R.qa=A2(R,R.J?R.ia:null,R.W),se.K){r2(R.h,se);var Ge=se,jt=R.L;jt&&(Ge.I=jt),Ge.B&&(xf(Ge),zc(Ge)),R.g=se}else k2(R);0<_.i.length&&$c(_)}else Ve[0]!="stop"&&Ve[0]!="close"||ia(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ia(_,7):Tf(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}wl(4)}catch{}}var CE=class{constructor(c,g){this.g=c,this.map=g}};function e2(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t2(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n2(c){return c.h?1:c.g?c.g.size:0}function kf(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ef(c,g){c.g?c.g.add(g):c.h=g}function r2(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}e2.prototype.cancel=function(){if(this.i=i2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i2(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return w(c.i)}function RE(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],_=c.length,R=0;R<_;R++)g.push(c[R]);return g}g=[],_=0;for(R in c)g[_++]=c[R];return g}function PE(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const R in c)g[_++]=R;return g}}}function s2(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=PE(c),R=RE(c),H=R.length,G=0;G<H;G++)g.call(void 0,R[G],_&&_[G],c)}var a2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NE(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),H=null;if(0<=R){var G=c[_].substring(0,R);H=c[_].substring(R+1)}else G=c[_];g(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ra(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ra){this.h=c.h,Fc(this,c.j),this.o=c.o,this.g=c.g,Vc(this,c.s),this.l=c.l;var g=c.i,_=new Sl;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),o2(this,_),this.m=c.m}else c&&(g=String(c).match(a2))?(this.h=!1,Fc(this,g[1]||"",!0),this.o=kl(g[2]||""),this.g=kl(g[3]||"",!0),Vc(this,g[4]),this.l=kl(g[5]||"",!0),o2(this,g[6]||"",!0),this.m=kl(g[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}ra.prototype.toString=function(){var c=[],g=this.j;g&&c.push(El(g,l2,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(El(g,l2,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(El(_,_.charAt(0)=="/"?OE:DE,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",El(_,zE)),c.join("")};function ii(c){return new ra(c)}function Fc(c,g,_){c.j=_?kl(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Vc(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function o2(c,g,_){g instanceof Sl?(c.i=g,FE(c.i,c.h)):(_||(g=El(g,LE)),c.i=new Sl(g,c.h))}function nt(c,g,_){c.i.set(g,_)}function Bc(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kl(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function El(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ME),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ME(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var l2=/[#\/\?@]/g,DE=/[#\?:]/g,OE=/[#\?]/g,LE=/[#\?@]/g,zE=/#/g;function Sl(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function qi(c){c.g||(c.g=new Map,c.h=0,c.i&&NE(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Sl.prototype,t.add=function(c,g){qi(this),this.i=null,c=Ja(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function u2(c,g){qi(c),g=Ja(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function c2(c,g){return qi(c),g=Ja(c,g),c.g.has(g)}t.forEach=function(c,g){qi(this),this.g.forEach(function(_,R){_.forEach(function(H){c.call(g,H,R,this)},this)},this)},t.na=function(){qi(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let R=0;R<g.length;R++){const H=c[R];for(let G=0;G<H.length;G++)_.push(g[R])}return _},t.V=function(c){qi(this);let g=[];if(typeof c=="string")c2(this,c)&&(g=g.concat(this.g.get(Ja(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return qi(this),this.i=null,c=Ja(this,c),c2(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function h2(c,g,_){u2(c,g),0<_.length&&(c.i=null,c.g.set(Ja(c,g),w(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var R=g[_];const G=encodeURIComponent(String(R)),se=this.V(R);for(R=0;R<se.length;R++){var H=G;se[R]!==""&&(H+="="+encodeURIComponent(String(se[R]))),c.push(H)}}return this.i=c.join("&")};function Ja(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function FE(c,g){g&&!c.j&&(qi(c),c.i=null,c.g.forEach(function(_,R){var H=R.toLowerCase();R!=H&&(u2(this,R),h2(this,H,_))},c)),c.j=g}function VE(c,g){const _=new xl;if(o.Image){const R=new Image;R.onload=m(Hi,_,"TestLoadImage: loaded",!0,g,R),R.onerror=m(Hi,_,"TestLoadImage: error",!1,g,R),R.onabort=m(Hi,_,"TestLoadImage: abort",!1,g,R),R.ontimeout=m(Hi,_,"TestLoadImage: timeout",!1,g,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function BE(c,g){const _=new xl,R=new AbortController,H=setTimeout(()=>{R.abort(),Hi(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then(G=>{clearTimeout(H),G.ok?Hi(_,"TestPingServer: ok",!0,g):Hi(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Hi(_,"TestPingServer: error",!1,g)})}function Hi(c,g,_,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(_)}catch{}}function UE(){this.g=new Ui}function jE(c,g,_){const R=_||"";try{s2(c,function(H,G){let se=H;u(H)&&(se=ri(H)),g.push(R+G+"="+encodeURIComponent(se))})}catch(H){throw g.push(R+"type="+encodeURIComponent("_badmap")),H}}function Uc(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Uc,zn),Uc.prototype.g=function(){return new jc(this.l,this.j)},Uc.prototype.i=function(c){return function(){return c}}({});function jc(c,g){K.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(jc,K),t=jc.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||o).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d2(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function d2(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Tl(this):Il(this),this.readyState==3&&d2(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Tl(this))},t.Qa=function(c){this.g&&(this.response=c,Tl(this))},t.ga=function(){this.g&&Tl(this)};function Tl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Il(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f2(c){let g="";return z(c,function(_,R){g+=R,g+=":",g+=_,g+=`\r
`}),g}function Sf(c,g,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=f2(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):nt(c,g,_))}function _t(c){K.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(_t,K);var qE=/^https?$/i,HE=["POST","PUT"];t=_t.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vf.g(),this.v=this.o?jy(this.o):jy(vf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){m2(this,G);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)_.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const G of R.keys())_.set(G,R.get(G));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),H=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(HE,g,void 0))||R||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y2(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){m2(this,G)}};function m2(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,p2(c),qc(c)}function p2(c){c.A||(c.A=!0,Z(c,"complete"),Z(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Z(this,"complete"),Z(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g2(this):this.bb())},t.bb=function(){g2(this)};function g2(c){if(c.h&&typeof a<"u"&&(!c.v[1]||si(c)!=4||c.Z()!=2)){if(c.u&&si(c)==4)Ce(c.Ea,0,c);else if(Z(c,"readystatechange"),si(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var R;if(R=se===0){var H=String(c.D).match(a2)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),R=!qE.test(H?H.toLowerCase():"")}_=R}if(_)Z(c,"complete"),Z(c,"success");else{c.m=6;try{var G=2<si(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",p2(c)}}finally{qc(c)}}}}function qc(c,g){if(c.g){y2(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Z(c,"ready");try{_.onreadystatechange=R}catch{}}}function y2(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),cn(g)}};function v2(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $E(c){const g={};c=(c.g&&2<=si(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(b(c[R]))continue;var _=M(c[R]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[H]||[];g[H]=G,G.push(_)}N(g,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Al(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function w2(c){this.Aa=0,this.i=[],this.j=new xl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,c),this.cb=Al("retryDelaySeedMs",1e4,c),this.Wa=Al("forwardChannelMaxRetries",2,c),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e2(c&&c.concurrentRequestLimit),this.Da=new UE,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w2.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,R){hn(0),this.W=c,this.H=g||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=A2(this,null,this.W),$c(this)};function Tf(c){if(_2(c),c.G==3){var g=c.U++,_=ii(c.I);if(nt(_,"SID",c.K),nt(_,"RID",g),nt(_,"TYPE","terminate"),Cl(c,_),g=new ji(c,c.j,g),g.L=2,g.v=Bc(ii(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&o.Image&&(new Image().src=g.v,_=!0),_||(g.g=C2(g.j,null),g.g.ea(g.v)),g.F=Date.now(),zc(g)}I2(c)}function Hc(c){c.g&&(Af(c),c.g.cancel(),c.g=null)}function _2(c){Hc(c),c.u&&(o.clearTimeout(c.u),c.u=null),Wc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function $c(c){if(!t2(c.h)&&!c.s){c.s=!0;var g=c.Ga;Oe||O(),re||(Oe(),re=!0),he.add(g,c),c.B=0}}function WE(c,g){return n2(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_l(f(c.Ga,c,g),T2(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ji(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),T(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=b2(this,H,g),_=ii(this.I),nt(_,"RID",c),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Cl(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(f2(G)))+"&"+g:this.m&&Sf(_,this.m,G)),Ef(this.h,H),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",g),nt(_,"SID","null"),H.T=!0,_f(H,_,null)):_f(H,_,g),this.G=2}}else this.G==3&&(c?x2(this,c):this.i.length==0||t2(this.h)||x2(this))};function x2(c,g){var _;g?_=g.l:_=c.U++;const R=ii(c.I);nt(R,"SID",c.K),nt(R,"RID",_),nt(R,"AID",c.T),Cl(c,R),c.m&&c.o&&Sf(R,c.m,c.o),_=new ji(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=b2(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ef(c.h,_),_f(_,R,g)}function Cl(c,g){c.H&&z(c.H,function(_,R){nt(g,R,_)}),c.l&&s2({},function(_,R){nt(g,R,_)})}function b2(c,g,_){_=Math.min(c.i.length,_);var R=c.l?f(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=H[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Ge=!0;for(let jt=0;jt<_;jt++){let Ve=H[jt].g;const Xt=H[jt].map;if(Ve-=G,0>Ve)G=Math.max(0,H[jt].g-100),Ge=!1;else try{jE(Xt,se,"req"+Ve+"_")}catch{R&&R(Xt)}}if(Ge){R=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,R}function k2(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Oe||O(),re||(Oe(),re=!0),he.add(g,c),c.v=0}}function If(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_l(f(c.Fa,c),T2(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,E2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_l(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Hc(this),E2(this))};function Af(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function E2(c){c.g=new ji(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ii(c.qa);nt(g,"RID","rpc"),nt(g,"SID",c.K),nt(g,"AID",c.T),nt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(g,"TO",c.ja),nt(g,"TYPE","xmlhttp"),Cl(c,g),c.m&&c.o&&Sf(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Bc(ii(g)),_.m=null,_.P=!0,Xy(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),If(this),hn(19))};function Wc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function S2(c,g){var _=null;if(c.g==g){Wc(c),Af(c),c.g=null;var R=2}else if(kf(c.h,g))_=g.D,r2(c.h,g),R=1;else return;if(c.G!=0){if(g.o)if(R==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;R=Dc(),Z(R,new Gy(R,_)),$c(c)}else k2(c);else if(H=g.s,H==3||H==0&&0<g.X||!(R==1&&WE(c,g)||R==2&&If(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:ia(c,5);break;case 4:ia(c,10);break;case 3:ia(c,6);break;default:ia(c,2)}}}function T2(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ia(c,g){if(c.j.info("Error code "+g),g==2){var _=f(c.fb,c),R=c.Xa;const H=!R;R=new ra(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fc(R,"https"),Bc(R),H?VE(R.toString(),_):BE(R.toString(),_)}else hn(2);c.G=0,c.l&&c.l.sa(g),I2(c),_2(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function I2(c){if(c.G=0,c.ka=[],c.l){const g=i2(c.h);(g.length!=0||c.i.length!=0)&&(S(c.ka,g),S(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function A2(c,g,_){var R=_ instanceof ra?ii(_):new ra(_);if(R.g!="")g&&(R.g=g+"."+R.g),Vc(R,R.s);else{var H=o.location;R=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var G=new ra(null);R&&Fc(G,R),g&&(G.g=g),H&&Vc(G,H),_&&(G.l=_),R=G}return _=c.D,g=c.ya,_&&g&&nt(R,_,g),nt(R,"VER",c.la),Cl(c,R),R}function C2(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new _t(new Uc({eb:_})):new _t(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R2(){}t=R2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gc(){}Gc.prototype.g=function(c,g){return new Fn(c,g)};function Fn(c,g){K.call(this),this.g=new w2(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!b(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Za(this)}y(Fn,K),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Tf(this.g)},Fn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ri(c),c=_);g.i.push(new CE(g.Ya++,c)),g.G==3&&$c(g)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,Fn.aa.N.call(this)};function P2(c){gf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}y(P2,gf);function N2(){yf.call(this),this.status=1}y(N2,yf);function Za(c){this.g=c}y(Za,R2),Za.prototype.ua=function(){Z(this.g,"a")},Za.prototype.ta=function(c){Z(this.g,new P2(c))},Za.prototype.sa=function(c){Z(this.g,new N2)},Za.prototype.ra=function(){Z(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,t_=function(){return new Gc},e_=function(){return Dc()},Z9=ta,n1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,X0=Oc,Ky.COMPLETE="complete",J9=Ky,qy.EventType=vl,vl.OPEN="a",vl.CLOSE="b",vl.ERROR="c",vl.MESSAGE="d",K.prototype.listen=K.prototype.K,Yl=qy,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,X9=_t}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});const A3="@firebase/firestore",C3="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Gg("@firebase/firestore");function oo(){return Ma.logLevel}function le(t,...e){if(Ma.logLevel<=Me.DEBUG){const n=e.map(s4);Ma.debug(`Firestore (${il}): ${t}`,...n)}}function Ti(t,...e){if(Ma.logLevel<=Me.ERROR){const n=e.map(s4);Ma.error(`Firestore (${il}): ${t}`,...n)}}function Is(t,...e){if(Ma.logLevel<=Me.WARN){const n=e.map(s4);Ma.warn(`Firestore (${il}): ${t}`,...n)}}function s4(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,n_(t,r,n)}function n_(t,e,n){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ti(r),new Error(r)}function He(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||n_(e,i,r)}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class SN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TN{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new r_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class IN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new IN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=RN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function r1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ae(r,i);{const s=i_(),a=PN(s.encode(P3(t,n)),s.encode(P3(e,n)));return a!==0?a:Ae(r,i)}}n+=r>65535?2:1}return Ae(t.length,e.length)}function P3(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function PN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ae(t[n],e[n]);return Ae(t.length,e.length)}function $o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__name__";class Mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ae(e.length,n.length)}static compareSegments(e,n){const r=Mr.isNumericId(e),i=Mr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mr.extractNumericId(e).compare(Mr.extractNumericId(n)):r1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class Je extends Mr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const NN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Mr{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return NN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N3}static keyField(){return new $t([N3])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Je.fromString(e))}static fromName(e){return new fe(Je.fromString(e).popFirst(5))}static empty(){return new fe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MN(t,e,n,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M3(t){if(!fe.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D3(t){if(fe.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function a_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gc(t,e){if(!a_(t))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ae(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=-62135596800,L3=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L3);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O3)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L3}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Nt("string",st._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new st(0,0))}static max(){return new ke(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function DN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new As(i,fe.empty(),e)}function ON(t){return new As(t.readTime,t.key,qu)}class As{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new As(ke.min(),fe.empty(),qu)}static max(){return new As(ke.max(),fe.empty(),qu)}}function LN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==zN)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{a[u]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function VN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Dd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=-1;function Od(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function BN(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="";function UN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z3(e)),e=jN(t.get(n),e);return z3(e)}function jN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case o_:n+="";break;default:n+=s}}return n}function z3(t){return t+o_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new m0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new m0(this.root,e,this.comparator,!1)}getReverseIterator(){return new m0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new m0(this.root,e,this.comparator,!0)}}class m0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V3(this.data.getIterator())}getIteratorFrom(e){return new V3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class V3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Lt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u_("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const qN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=qN.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="server_timestamp",h_="__type__",d_="__previous_value__",f_="__local_write_time__";function l4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[h_])===null||n===void 0?void 0:n.stringValue)===c_}function Ld(t){const e=t.mapValue.fields[d_];return l4(e)?Ld(e):e}function Hu(t){const e=Cs(t.mapValue.fields[f_].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i,s,a,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const qh="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__type__",$N="__max__",p0={mapValue:{}},p_="__vector__",Hh="value";function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l4(t)?4:GN(t)?9007199254740991:WN(t)?10:11:_e(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hu(t).isEqual(Hu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Cs(i.timestampValue),o=Cs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rs(i.bytesValue).isEqual(Rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=kt(i.doubleValue),o=kt(s.doubleValue);return a===o?jh(a)===jh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(F3(a)!==F3(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Kr(a[l],o[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Wu(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=kt(s.integerValue||s.doubleValue),l=kt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return B3(t.timestampValue,e.timestampValue);case 4:return B3(Hu(t),Hu(e));case 5:return r1(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Rs(s),l=Rs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const h=Ae(o[u],l[u]);if(h!==0)return h}return Ae(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ae(kt(s.latitude),kt(a.latitude));return o!==0?o:Ae(kt(s.longitude),kt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U3(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,h;const d=s.fields||{},f=a.fields||{},m=(o=d[Hh])===null||o===void 0?void 0:o.arrayValue,y=(l=f[Hh])===null||l===void 0?void 0:l.arrayValue,w=Ae(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:U3(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===p0.mapValue&&a===p0.mapValue)return 0;if(s===p0.mapValue)return 1;if(a===p0.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=r1(l[d],h[d]);if(f!==0)return f;const m=Wo(o[l[d]],u[h[d]]);if(m!==0)return m}return Ae(l.length,h.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function B3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Cs(t),r=Cs(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function U3(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wo(n[i],r[i]);if(s)return s}return Ae(n.length,r.length)}function Go(t){return i1(t)}function i1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=i1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${i1(n.fields[a])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function J0(t){switch(Ps(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+J0(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+J0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Gs(r.fields,(s,a)=>{i+=s.length+J0(a)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function j3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s1(t){return!!t&&"integerValue"in t}function u4(t){return!!t&&"arrayValue"in t}function q3(t){return!!t&&"nullValue"in t}function H3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Z0(t){return!!t&&"mapValue"in t}function WN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[m_])===null||n===void 0?void 0:n.stringValue)===p_}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Z0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=hu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Z0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Z0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new In(hu(this.value))}}function g_(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new $t([n]);if(Z0(r)){const s=g_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new sn(e,0,ke.min(),ke.min(),ke.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new sn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new sn(e,2,n,ke.min(),ke.min(),In.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,ke.min(),ke.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function $3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=Wo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function W3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{}class Pt extends y_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QN(e,n,r):n==="array-contains"?new ZN(e,r):n==="in"?new eM(e,r):n==="not-in"?new tM(e,r):n==="array-contains-any"?new nM(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XN(e,r):new JN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends y_{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ir(e,n)}matches(e){return v_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v_(t){return t.op==="and"}function w_(t){return YN(t)&&v_(t)}function YN(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function a1(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(w_(t))return t.filters.map(e=>a1(e)).join(",");{const e=t.filters.map(n=>a1(n)).join(",");return`${t.op}(${e})`}}function __(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&__(a,i.filters[o]),!0):!1}(t,e):void _e(19439)}function x_(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(x_).join(" ,")+"}"}(t):"Filter"}class QN extends Pt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class XN extends Pt{constructor(e,n){super(e,"in",n),this.keys=b_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JN extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=b_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class ZN extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u4(n)&&Wu(n.arrayValue,this.value)}}class eM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class tM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wu(this.value.arrayValue,n)}}class nM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function G3(t,e=null,n=[],r=[],i=null,s=null,a=null){return new rM(t,e,n,r,i,s,a)}function c4(t){const e=Se(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),e.Pe=n}return e.Pe}function h4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!__(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W3(t.startAt,e.startAt)&&W3(t.endAt,e.endAt)}function o1(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function iM(t,e,n,r,i,s,a,o){return new ol(t,e,n,r,i,s,a,o)}function zd(t){return new ol(t)}function K3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k_(t){return t.collectionGroup!==null}function du(t){const e=Se(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Lt($t.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Gu(s,r))}),n.has($t.keyField().canonicalString())||e.Te.push(new Gu($t.keyField(),r))}return e.Te}function Hr(t){const e=Se(t);return e.Ie||(e.Ie=sM(e,du(t))),e.Ie}function sM(t,e){if(t.limitType==="F")return G3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gu(i.field,s)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return G3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l1(t,e){const n=t.filters.concat([e]);return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u1(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return h4(Hr(t),Hr(e))&&t.limitType===e.limitType}function E_(t){return`${c4(Hr(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x_(i)).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Go(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=$3(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,du(r),i)||r.endAt&&!function(a,o,l){const u=$3(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,du(r),i))}(t,e)}function aM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S_(t){return(e,n)=>{let r=!1;for(const i of du(t)){const s=oM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oM(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Wo(l,u):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new yt(fe.comparator);function Ii(){return lM}const T_=new yt(fe.comparator);function Ql(...t){let e=T_;for(const n of t)e=e.insert(n.key,n);return e}function I_(t){let e=T_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function va(){return fu()}function A_(){return fu()}function fu(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const uM=new yt(fe.comparator),cM=new Lt(fe.comparator);function De(...t){let e=cM;for(const n of t)e=e.add(n);return e}const hM=new Lt(Ae);function dM(){return hM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function C_(t){return{integerValue:""+t}}function fM(t,e){return BN(e)?C_(e):d4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function mM(t,e,n){return t instanceof Ku?function(i,s){const a={fields:{[h_]:{stringValue:c_},[f_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&l4(s)&&(s=Ld(s)),s&&(a.fields[d_]=s),{mapValue:a}}(n,e):t instanceof Yu?P_(t,e):t instanceof Qu?N_(t,e):function(i,s){const a=R_(i,s),o=Y3(a)+Y3(i.Ee);return s1(a)&&s1(i.Ee)?C_(o):d4(i.serializer,o)}(t,e)}function pM(t,e,n){return t instanceof Yu?P_(t,e):t instanceof Qu?N_(t,e):n}function R_(t,e){return t instanceof Wh?function(r){return s1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ku extends Bd{}class Yu extends Bd{constructor(e){super(),this.elements=e}}function P_(t,e){const n=M_(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends Bd{constructor(e){super(),this.elements=e}}function N_(t,e){let n=M_(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Wh extends Bd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Y3(t){return kt(t.integerValue||t.doubleValue)}function M_(t){return u4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.field=e,this.transform=n}}function yM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yu&&i instanceof Yu||r instanceof Qu&&i instanceof Qu?$o(r.elements,i.elements,Kr):r instanceof Wh&&i instanceof Wh?Kr(r.Ee,i.Ee):r instanceof Ku&&i instanceof Ku}(t.transform,e.transform)}class vM{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function D_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f4(t.key,kr.none()):new yc(t.key,t.data,kr.none());{const n=t.data,r=In.empty();let i=new Lt($t.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ks(t.key,r,new Hn(i.toArray()),kr.none())}}function wM(t,e,n){t instanceof yc?function(i,s,a){const o=i.value.clone(),l=X3(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(i,s,a){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=X3(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(O_(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof yc?function(s,a,o,l){if(!eh(s.precondition,a))return o;const u=s.value.clone(),h=J3(s.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(s,a,o,l){if(!eh(s.precondition,a))return o;const u=J3(s.fieldTransforms,l,a),h=a.data;return h.setAll(O_(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return eh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function _M(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=R_(r.transform,i||null);s!=null&&(n===null&&(n=In.empty()),n.set(r.field,s))}return n||null}function Q3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$o(r,i,(s,a)=>yM(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function O_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X3(t,e,n){const r=new Map;He(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,pM(a,o,n[i]))}return r}function J3(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,mM(s,a,e))}return r}class f4 extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xM extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A_();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=D_(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>Q3(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>Q3(n,r))}}class m4{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return uM}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new m4(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function SM(t){switch(t){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function L_(t){if(t===void 0)return Ti("GRPC error has no .code"),Y.UNKNOWN;switch(t){case At.OK:return Y.OK;case At.CANCELLED:return Y.CANCELLED;case At.UNKNOWN:return Y.UNKNOWN;case At.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case At.INTERNAL:return Y.INTERNAL;case At.UNAVAILABLE:return Y.UNAVAILABLE;case At.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case At.NOT_FOUND:return Y.NOT_FOUND;case At.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case At.ABORTED:return Y.ABORTED;case At.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case At.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:t})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new bs([4294967295,4294967295],0);function Z3(t){const e=i_().encode(t),n=new Q9;return n.update(e),new Uint8Array(n.digest())}function e6(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,s],0)]}class p4{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=bs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(TM)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Z3(e),[r,i]=e6(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new p4(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const n=Z3(e),[r,i]=e6(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jd(ke.min(),i,new yt(Ae),Ii(),De())}}class vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class z_{constructor(e,n){this.targetId=e,this.De=n}}class F_{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t6{constructor(){this.ve=0,this.Ce=n6(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=De(),n=De(),r=De();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:s})}}),new vc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=n6()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class IM{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ii(),this.je=g0(),this.Je=g0(),this.He=new yt(Ae)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(o1(s))if(r===0){const a=new fe(s.path);this.Xe(n,a,sn.newNoDocument(a,ke.min()))}else He(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Rs(r).toUint8Array()}catch(l){if(l instanceof u_)return Is("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new p4(a,i,s)}catch(l){return Is(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&o1(o.target)){const l=new fe(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,sn.newNoDocument(l,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=De();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new jd(e,n,this.He,this.ze,r);return this.ze=Ii(),this.je=g0(),this.Je=g0(),this.He=new yt(Ae),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new t6,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Lt(Ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Lt(Ae),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new t6),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function g0(){return new yt(fe.comparator)}function n6(){return new yt(fe.comparator)}const AM={asc:"ASCENDING",desc:"DESCENDING"},CM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class PM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c1(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function Gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NM(t,e){return Gh(t,e.toTimestamp())}function $r(t){return He(!!t,49232),ke.fromTimestamp(function(n){const r=Cs(n);return new st(r.seconds,r.nanos)}(t))}function g4(t,e){return h1(t,e).canonicalString()}function h1(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function B_(t){const e=Je.fromString(t);return He($_(e),10190,{key:e.toString()}),e}function d1(t,e){return g4(t.databaseId,e.path)}function cm(t,e){const n=B_(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(j_(n))}function U_(t,e){return g4(t.databaseId,e)}function MM(t){const e=B_(t);return e.length===4?Je.emptyPath():j_(e)}function f1(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j_(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r6(t,e,n){return{name:d1(t,e),fields:n.value.mapValue.fields}}function DM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(He(h===void 0||typeof h=="string",58123),Yt.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const h=u.code===void 0?Y.UNKNOWN:L_(u.code);return new ae(h,u.message||"")}(a);n=new F_(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cm(t,r.document.name),s=$r(r.document.updateTime),a=r.document.createTime?$r(r.document.createTime):ke.min(),o=new In({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(i,s,a,o),u=r.targetIds||[],h=r.removedTargetIds||[];n=new th(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cm(t,r.document),s=r.readTime?$r(r.readTime):ke.min(),a=sn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new th([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cm(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new EM(i,s),o=r.targetId;n=new z_(o,a)}}return n}function OM(t,e){let n;if(e instanceof yc)n={update:r6(t,e.key,e.value)};else if(e instanceof f4)n={delete:d1(t,e.key)};else if(e instanceof Ks)n={update:r6(t,e.key,e.data),updateMask:HM(e.fieldMask)};else{if(!(e instanceof xM))return _e(16599,{Rt:e.type});n={verify:d1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Ku)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wh)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw _e(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e(27497)}(t,e.precondition)),n}function LM(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?$r(i.updateTime):$r(s);return a.isEqual(ke.min())&&(a=$r(s)),new vM(a,i.transformResults||[])}(n,e))):[]}function zM(t,e){return{documents:[U_(t,e.path)]}}function FM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U_(t,i);const s=function(u){if(u.length!==0)return H_(Ir.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:uo(f.field),direction:UM(f.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=c1(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function VM(t){let e=MM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=q_(d);return f instanceof Ir&&w_(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(f=>function(y){return new Gu(co(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,Od(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new $h(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new $h(m,f)}(n.endAt)),iM(e,i,a,s,o,"F",l,u)}function BM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=co(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=co(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=co(n.unaryFilter.field);return Pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=co(n.unaryFilter.field);return Pt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>q_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function UM(t){return AM[t]}function jM(t){return CM[t]}function qM(t){return RM[t]}function uo(t){return{fieldPath:t.canonicalString()}}function co(t){return $t.fromServerFormat(t.fieldPath)}function H_(t){return t instanceof Pt?function(n){if(n.op==="=="){if(H3(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(q3(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H3(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(q3(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:jM(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>H_(i));return r.length===1?r[0]:{compositeFilter:{op:qM(n.op),filters:r}}}(t):_e(54877,{filter:t})}function HM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,i,s=ke.min(),a=ke.min(),o=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.gt=e}}function WM(t){const e=VM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Dn=new KM}addToCollectionParentIndex(e,n){return this.Dn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(As.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class KM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W_=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(W_,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ko(0)}static ur(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="LruGarbageCollector",YM=1048576;function a6([t,e],[n,r]){const i=Ae(t,n);return i===0?Ae(e,r):i}class QM{constructor(e){this.Tr=e,this.buffer=new Lt(a6),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();a6(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(s6,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?le(s6,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Rr(3e5)})}}class JM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Dd.ue);const r=new QM(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(i6)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i6):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,o,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),oo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function ZM(t,e){return new JM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mu(r.mutation,i,Hn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Ql();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Ii();const a=fu(),o=function(){return fu()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Ks)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),mu(h.mutation,u,h.mutation.getFieldMask(),st.now())):a.set(u.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var d;return o.set(u,new tD(h,(d=a.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=fu();let i=new yt((a,o)=>a-o),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Hn.empty();h=o.applyToLocalView(u,h),r.set(l,h);const d=(i.get(o.batchId)||De()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,h=l.value,d=A_();h.forEach(f=>{if(!s.has(f)){const m=D_(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(va());let o=qu,l=s;return a.next(u=>Q.forEach(u,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,De())).next(h=>({batchId:o,changes:I_(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Ql();return this.indexManager.getCollectionParents(e,s).next(o=>Q.forEach(o,l=>{const u=function(d,f){return new ol(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,sn.newInvalidDocument(h)))});let o=Ql();return a.forEach((l,u)=>{const h=s.get(l);h!==void 0&&mu(h.mutation,u,Hn.empty(),st.now()),Vd(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:WM(i.bundledQuery),readTime:$r(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.overlays=new yt(fe.comparator),this.kr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=va(),s=n.length+1,a=new fe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=va(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=va(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>o.set(u,h)),!(o.size()>=i)););return Q.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kM(n,r));let s=this.kr.get(n);s===void 0&&(s=De(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.qr=new Lt(Ft.Qr),this.$r=new Lt(Ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ft(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new fe(new Je([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new fe(new Je([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=De();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return fe.comparator(e.key,n.key)||Ae(e.Hr,n.Hr)}static Ur(e,n){return Ae(e.Hr,n.Hr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Lt(Ft.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new bM(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new Ft(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?o4:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ae);return n.forEach(i=>{const s=new Ft(i,0),a=new Ft(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),Q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const a=new Ft(new fe(s),0);let o=new Lt(Ae);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},a),Q.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Q.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Yr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.ni=e,this.docs=function(){return new yt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ii();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():sn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ii();const a=n.path,o=new fe(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||LN(ON(h),r)<=0||(i.has(h.key)||Vd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ri(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lD(this)}getSize(e){return Q.resolve(this.size)}}class lD extends eD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.persistence=e,this.ii=new qa(n=>c4(n),h4),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new y4,this.targetCount=0,this._i=Ko.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Q.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.hr(n),Q.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.ai={},this.overlays={},this.ui=new Dd(0),this.ci=!1,this.ci=!0,this.li=new sD,this.referenceDelegate=e(this),this.hi=new uD(this),this.indexManager=new GM,this.remoteDocumentCache=function(i){return new oD(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $M(n),this.Ti=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new aD(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new cD(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class cD extends FN{constructor(e){super(),this.currentSequenceNumber=e}}class v4{constructor(e){this.persistence=e,this.Ai=new y4,this.Ri=null}static Vi(e){return new v4(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,r=>{const i=fe.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Q.or([()=>Q.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.gi=new qa(r=>UN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZM(this,n)}static Vi(e,n){return new Kh(e,n)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Q.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,ke.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=J0(e.data.value)),n}Sr(e,n,r){return Q.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new w4(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return qA()?8:VN(ln())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new hD;return this.ws(e,n,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,n,a,o.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(oo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(oo()<=Me.DEBUG&&le("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(oo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):Q.resolve())}ps(e,n){if(K3(n))return Q.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=u1(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=De(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,o);return this.Ds(n,u,a,l.readTime)?this.ps(e,u1(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return K3(n)||i.isEqual(ke.min())?Q.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?Q.resolve(null):(oo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lo(n)),this.vs(e,a,n,DN(i,qu)).next(o=>o))})}bs(e,n){let r=new Lt(S_(e));return n.forEach((i,s)=>{Vd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return oo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lo(n)),this.gs.getDocumentsMatchingQuery(e,n,As.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="LocalStore",fD=3e8;class mD{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new yt(Ae),this.Ms=new qa(s=>c4(s),h4),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function pD(t,e,n,r){return new mD(t,e,n,r)}async function K_(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=De();for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:a,addedBatchIds:o}))})})}function gD(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,u,h){const d=u.batch,f=d.keys();let m=Q.resolve();return f.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(w=>{const S=u.docVersions.get(y);He(S!==null,48541),w.version.compareTo(S)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=De();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y_(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function yD(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;o.push(n.hi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Yt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(w,S,x){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=fD?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,h)&&o.push(n.hi.updateTargetData(s,m))});let l=Ii(),u=De();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(vD(s,a,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(ke.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(d=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return Q.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function vD(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ii();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):le(_4,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function wD(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o4),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _D(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new us(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function m1(t,e,n){const r=Se(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!al(a))throw a;le(_4,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function o6(t,e,n){const r=Se(t);let i=ke.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,h){const d=Se(l),f=d.Ms.get(h);return f!==void 0?Q.resolve(d.Fs.get(f)):d.hi.getTargetData(u,h)}(r,a,Hr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:ke.min(),n?s:De())).next(o=>(xD(r,aM(e),o),{documents:o,qs:s})))}function xD(t,e,n){let r=t.xs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class l6{constructor(){this.activeTargetIds=dM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bD{constructor(){this.Fo=new l6,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new l6,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="ConnectivityMonitor";class c6{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(u6,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(u6,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0=null;function p1(){return y0===null?y0=function(){return 268435456+Math.round(2147483648*Math.random())}():y0++,"0x"+y0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",ED={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=p1(),o=this.Go(e,n.toUriEncodedString());le(hm,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(o),h=Hs(u);return this.jo(e,o,l,r,h).then(d=>(le(hm,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Is(hm,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",r),d})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=ED[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class ID extends SD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=p1();return new Promise((o,l)=>{const u=new X9;u.setWithCredentials(!0),u.listenOnce(J9.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case X0.NO_ERROR:const d=u.getResponseJson();le(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case X0.TIMEOUT:le(tn,`RPC '${e}' ${a} timed out`),l(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case X0.HTTP_ERROR:const f=u.getStatus();if(le(tn,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(b)>=0?b:Y.UNKNOWN}(y.status);l(new ae(w,y.message))}else l(new ae(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{le(tn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);le(tn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)})}P_(e,n,r){const i=p1(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=t_(),o=e_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");le(tn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=a.createWebChannel(h,l);this.T_(d);let f=!1,m=!1;const y=new TD({Ho:S=>{m?le(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(le(tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),le(tn,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},Yo:()=>d.close()}),w=(S,x,b)=>{S.listen(x,E=>{try{b(E)}catch(U){setTimeout(()=>{throw U},0)}})};return w(d,Yl.EventType.OPEN,()=>{m||(le(tn,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),w(d,Yl.EventType.CLOSE,()=>{m||(m=!0,le(tn,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(d))}),w(d,Yl.EventType.ERROR,S=>{m||(m=!0,Is(tn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),y.__(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),w(d,Yl.EventType.MESSAGE,S=>{var x;if(!m){const b=S.data[0];He(!!b,16349);const E=b,U=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(U){le(tn,`RPC '${e}' stream ${i} received error:`,U);const q=U.status;let z=function(P){const T=At[P];if(T!==void 0)return L_(T)}(q),N=U.message;z===void 0&&(z=Y.INTERNAL,N="Unknown error status: "+q+" with message "+U.message),m=!0,y.__(new ae(z,N)),d.close()}else le(tn,`RPC '${e}' stream ${i} received:`,b),y.a_(b)}}),w(o,Z9.STAT_EVENT,S=>{S.stat===n1.PROXY?le(tn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===n1.NOPROXY&&le(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new PM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="PersistentStream";class X_{constructor(e,n,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Q_(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return le(h6,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(le(h6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends X_{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=DM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ke.min():a.readTime?$r(a.readTime):ke.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=f1(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=o1(l)?{documents:zM(s,l)}:{query:FM(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=V_(s,a.resumeToken);const u=c1(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ke.min())>0){o.readTime=Gh(s,a.snapshotVersion.toTimestamp());const u=c1(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=BM(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=f1(this.serializer),n.removeTarget=e,this.k_(n)}}class CD extends X_{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=LM(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=f1(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OM(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class PD extends RD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,h1(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(Y.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,h1(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Y.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ND{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ti(n),this._a=!1):le("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class MD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Ha(this)&&(le(Da,"Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.Ia.add(4),await wc(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Hd(u)}(this))})}),this.Aa=new ND(r,i)}}async function Hd(t){if(Ha(t))for(const e of t.da)await e(!0)}async function wc(t){for(const e of t.da)await e(!1)}function J_(t,e){const n=Se(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),E4(n)?k4(n):ll(n).x_()&&b4(n,e))}function x4(t,e){const n=Se(t),r=ll(n);n.Ta.delete(e),r.x_()&&Z_(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ha(n)&&n.Aa.set("Unknown"))}function b4(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).H_(e)}function Z_(t,e){t.Ra.$e(e),ll(t).Y_(e)}function k4(t){t.Ra=new IM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.Aa.aa()}function E4(t){return Ha(t)&&!ll(t).M_()&&t.Ta.size>0}function Ha(t){return Se(t).Ia.size===0}function ex(t){t.Ra=void 0}async function DD(t){t.Aa.set("Online")}async function OD(t){t.Ta.forEach((e,n)=>{b4(t,e)})}async function LD(t,e){ex(t),E4(t)?(t.Aa.la(e),k4(t)):t.Aa.set("Unknown")}async function zD(t,e,n){if(t.Aa.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){le(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yh(t,r)}else if(e instanceof th?t.Ra.Ye(e):e instanceof z_?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ke.min()))try{const r=await Y_(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Yt.EMPTY_BYTE_STRING,h.snapshotVersion)),Z_(s,l);const d=new us(h.target,l,u,h.sequenceNumber);b4(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){le(Da,"Failed to raise snapshot:",r),await Yh(t,r)}}async function Yh(t,e,n){if(!al(e))throw e;t.Ia.add(1),await wc(t),t.Aa.set("Offline"),n||(n=()=>Y_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le(Da,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Hd(t)})}function tx(t,e){return e().catch(n=>Yh(t,n,e))}async function $d(t){const e=Se(t),n=Ns(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:o4;for(;FD(e);)try{const i=await wD(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,VD(e,i)}catch(i){await Yh(e,i)}nx(e)&&rx(e)}function FD(t){return Ha(t)&&t.Pa.length<10}function VD(t,e){t.Pa.push(e);const n=Ns(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function nx(t){return Ha(t)&&!Ns(t).M_()&&t.Pa.length>0}function rx(t){Ns(t).start()}async function BD(t){Ns(t).na()}async function UD(t){const e=Ns(t);for(const n of t.Pa)e.X_(n.mutations)}async function jD(t,e,n){const r=t.Pa.shift(),i=m4.from(r,e,n);await tx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $d(t)}async function qD(t,e){e&&Ns(t).Z_&&await async function(r,i){if(function(a){return SM(a)&&a!==Y.ABORTED}(i.code)){const s=r.Pa.shift();Ns(r).N_(),await tx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $d(r)}}(t,e),nx(t)&&rx(t)}async function d6(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),le(Da,"RemoteStore received new credentials");const r=Ha(n);n.Ia.add(3),await wc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Hd(n)}async function HD(t,e){const n=Se(t);e?(n.Ia.delete(2),await Hd(n)):e||(n.Ia.add(2),await wc(n),n.Aa.set("Unknown"))}function ll(t){return t.Va||(t.Va=function(n,r,i){const s=Se(n);return s.ia(),new AD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:DD.bind(null,t),e_:OD.bind(null,t),n_:LD.bind(null,t),J_:zD.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),E4(t)?k4(t):t.Aa.set("Unknown")):(await t.Va.stop(),ex(t))})),t.Va}function Ns(t){return t.ma||(t.ma=function(n,r,i){const s=Se(n);return s.ia(),new CD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:BD.bind(null,t),n_:qD.bind(null,t),ea:UD.bind(null,t),ta:jD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await $d(t)):(await t.ma.stop(),t.Pa.length>0&&(le(Da,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new S4(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T4(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),al(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Ql(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.fa=new yt(fe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Yo(e,n,Oo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class WD{constructor(){this.queries=m6(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Se(n),s=i.queries;i.queries=m6(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function m6(){return new qa(t=>E_(t),Fd)}async function I4(t,e){const n=Se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new $D,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=T4(a,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&C4(n)}async function A4(t,e){const n=Se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GD(t,e){const n=Se(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&C4(n)}function KD(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function C4(t){t.Da.forEach(e=>{e.next()})}var g1,p6;(p6=g1||(g1={})).Fa="default",p6.Cache="cache";class R4{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==g1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.key=e}}class sx{constructor(e){this.key=e}}class YD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=De(),this.mutatedKeys=De(),this.Xa=S_(e),this.eu=new Oo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new f6,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=Vd(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),S=!0):this.iu(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(o=!0)),S&&(m?(a=a.add(m),s=w?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,d)=>function(m,y){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:S})}};return w(m)-w(y)}(h.type,d.type)||this.Xa(h.doc,d.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,a.length!==0||u?{snapshot:new Yo(this.query,e.eu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new f6,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=De(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new sx(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new ix(r))}),n}uu(e){this.Ha=e.qs,this.Za=De();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const P4="SyncEngine";class QD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XD{constructor(e){this.key=e,this.lu=!1}}class JD{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new qa(o=>E_(o),Fd),this.Tu=new Map,this.Iu=new Set,this.du=new yt(fe.comparator),this.Eu=new Map,this.Au=new y4,this.Ru={},this.Vu=new Map,this.mu=Ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ZD(t,e,n=!0){const r=hx(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await ax(r,e,n,!0),i}async function eO(t,e){const n=hx(t);await ax(n,e,!0,!1)}async function ax(t,e,n,r){const i=await _D(t.localStore,Hr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await tO(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&J_(t.remoteStore,i),o}async function tO(t,e,n,r,i){t.gu=(d,f,m)=>async function(w,S,x,b){let E=S.view.nu(x);E.Ds&&(E=await o6(w.localStore,S.query,!1).then(({documents:N})=>S.view.nu(N,E)));const U=b&&b.targetChanges.get(S.targetId),q=b&&b.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(E,w.isPrimaryClient,U,q);return y6(w,S.targetId,z._u),z.snapshot}(t,d,f,m);const s=await o6(t.localStore,e,!0),a=new YD(e,s.qs),o=a.nu(s.documents),l=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);y6(t,n,u._u);const h=new QD(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function nO(t,e,n){const r=Se(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!Fd(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await m1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x4(r.remoteStore,i.targetId),y1(r,i.targetId)}).catch(sl)):(y1(r,i.targetId),await m1(r.localStore,i.targetId,!0))}async function rO(t,e){const n=Se(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x4(n.remoteStore,r.targetId))}async function iO(t,e,n){const r=hO(t);try{const i=await function(a,o){const l=Se(a),u=st.now(),h=o.reduce((m,y)=>m.add(y.key),De());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Ii(),w=De();return l.Os.getEntries(m,h).next(S=>{y=S,y.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{d=S;const x=[];for(const b of o){const E=_M(b,d.get(b.key).overlayedDocument);E!=null&&x.push(new Ks(b.key,E,g_(E.value.mapValue),kr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(S=>{f=S;const x=S.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:f.batchId,changes:I_(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ru[a.currentUser.toKey()];u||(u=new yt(Ae)),u=u.insert(o,l),a.Ru[a.currentUser.toKey()]=u}(r,i.batchId,n),await _c(r,i.changes),await $d(r.remoteStore)}catch(i){const s=T4(i,"Failed to persist write");n.reject(s)}}async function ox(t,e){const n=Se(t);try{const r=await yD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?He(a.lu,14607):i.removedDocuments.size>0&&(He(a.lu,42227),a.lu=!1))}),await _c(n,r,e)}catch(r){await sl(r)}}function g6(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Se(a);l.onlineState=o;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.wa)f.va(o)&&(u=!0)}),u&&C4(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sO(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new yt(fe.comparator);a=a.insert(s,sn.newNoDocument(s,ke.min()));const o=De().add(s),l=new jd(ke.min(),new Map,new yt(Ae),a,o);await ox(r,l),r.du=r.du.remove(s),r.Eu.delete(e),N4(r)}else await m1(r.localStore,e,!1).then(()=>y1(r,e,n)).catch(sl)}async function aO(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await gD(n.localStore,e);ux(n,r,null),lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _c(n,i)}catch(i){await sl(i)}}async function oO(t,e,n){const r=Se(t);try{const i=await function(a,o){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(He(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);ux(r,e,n),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _c(r,i)}catch(i){await sl(i)}}function lx(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ux(t,e,n){const r=Se(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function y1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||cx(t,r)})}function cx(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x4(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),N4(t))}function y6(t,e,n){for(const r of n)r instanceof ix?(t.Au.addReference(r.key,e),lO(t,r)):r instanceof sx?(le(P4,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||cx(t,r.key)):_e(19791,{yu:r})}function lO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(le(P4,"New document in limbo: "+n),t.Iu.add(r),N4(t))}function N4(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new fe(Je.fromString(e)),r=t.mu.next();t.Eu.set(r,new XD(n)),t.du=t.du.insert(n,r),J_(t.remoteStore,new us(Hr(zd(n.path)),r,"TargetPurposeLimboResolution",Dd.ue))}}async function _c(t,e,n){const r=Se(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=w4.Es(l.targetId,u);s.push(d)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,u){const h=Se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(u,f=>Q.forEach(f.Is,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>Q.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!al(d))throw d;le(_4,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=h.Fs.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);h.Fs=h.Fs.insert(f,w)}}}(r.localStore,s))}async function uO(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){le(P4,"User change. New user:",e.toKey());const r=await K_(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new ae(Y.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _c(n,r.Bs)}}function cO(t,e){const n=Se(t),r=n.Eu.get(e);if(r&&r.lu)return De().add(r.key);{let i=De();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const o=n.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function hx(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sO.bind(null,e),e.hu.J_=GD.bind(null,e.eventManager),e.hu.pu=KD.bind(null,e.eventManager),e}function hO(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return pD(this.persistence,new dD,e.initialUser,this.serializer)}Du(e){return new G_(v4.Vi,this.serializer)}bu(e){return new bD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class dO extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){He(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XM(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new G_(r=>Kh.Vi(r,n),this.serializer)}}class v1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g6(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await HD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),r=function(s){return new ID(s)}(e.databaseInfo);return function(s,a,o,l){return new PD(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new MD(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>g6(this.syncEngine,n,0),function(){return c6.C()?new c6:new kD}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,h){const d=new JD(i,s,a,o,l,u);return h&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Se(i);le(Da,"RemoteStore shutting down."),s.Ia.add(5),await wc(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}v1.provider={build:()=>new v1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class fO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=a4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{le(Ms,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(le(Ms,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=T4(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fm(t,e){t.asyncQueue.verifyOperationInProgress(),le(Ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await K_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Is("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Is("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function v6(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mO(t);le(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d6(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d6(e.remoteStore,i)),t._onlineComponents=e}async function mO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Ms,"Using user provided OfflineComponentProvider");try{await fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await fm(t,new Qh)}}else le(Ms,"Using default OfflineComponentProvider"),await fm(t,new dO(void 0));return t._offlineComponents}async function dx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Ms,"Using user provided OnlineComponentProvider"),await v6(t,t._uninitializedComponentsProvider._online)):(le(Ms,"Using default OnlineComponentProvider"),await v6(t,new v1))),t._onlineComponents}function pO(t){return dx(t).then(e=>e.syncEngine)}async function Xh(t){const e=await dx(t),n=e.eventManager;return n.onListen=ZD.bind(null,e.syncEngine),n.onUnlisten=nO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rO.bind(null,e.syncEngine),n}function gO(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new M4({next:f=>{h.Ou(),a.enqueueAndForget(()=>A4(s,d));const m=f.docs.has(o);!m&&f.fromCache?u.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new R4(zd(o.path),h,{includeMetadataChanges:!0,ka:!0});return I4(s,d)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}function yO(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new M4({next:f=>{h.Ou(),a.enqueueAndForget(()=>A4(s,d)),f.fromCache&&l.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new R4(o,h,{includeMetadataChanges:!0,ka:!0});return I4(s,d)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firestore.googleapis.com",_6=!0;class x6{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mx,this.ssl=_6}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_6;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YM)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x6(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EN;switch(r.type){case"firstParty":return new AN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w6.get(n);r&&(le("ComponentProvider","Removing Datastore"),w6.delete(n),r.terminate())}(this),Promise.resolve()}}function vO(t,e,n,r={}){var i;t=or(t,Wd);const s=Hs(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&($g(`https://${l}`),Wg("Firestore",!0)),a.host!==mx&&a.host!==l&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Ca(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=nn.MOCK_USER;else{h=c9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new nn(f)}t._authCredentials=new SN(new r_(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gc(n,St._jsonSchema))return new St(e,r||null,new fe(Je.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Nt("string",St._jsonSchemaVersion),referencePath:Nt("string")};class ks extends Ys{constructor(e,n,r){super(e,n,zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new fe(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function $a(t,e,...n){if(t=ct(t),s_("collection","path",e),t instanceof Wd){const r=Je.fromString(e,...n);return D3(r),new ks(t,null,r)}{if(!(t instanceof St||t instanceof ks))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return D3(r),new ks(t.firestore,null,r)}}function Gd(t,e,...n){if(t=ct(t),arguments.length===1&&(e=a4.newId()),s_("doc","path",e),t instanceof Wd){const r=Je.fromString(e,...n);return M3(r),new St(t,null,new fe(r))}{if(!(t instanceof St||t instanceof ks))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return M3(r),new St(t.firestore,t instanceof ks?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="AsyncQueue";class k6{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Q_(this,"async_queue_retry"),this.oc=()=>{const r=dm();r&&le(b6,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new gi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!al(e))throw e;le(b6,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ti("INTERNAL UNHANDLED ERROR: ",E6(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=S4.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&_e(47125,{hc:E6(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function E6(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ds extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new k6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k6(e),this._firestoreClient=void 0,await e}}}function wO(t,e){const n=typeof t=="object"?t:Yg(),r=typeof t=="string"?t:qh,i=Cd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=o9("firestore");s&&vO(i,...s)}return i}function Kd(t){if(t._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_O(t),t._firestoreClient}function _O(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,h){return new HN(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(Yt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gc(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:Nt("string",rr._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(gc(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Nt("string",Wr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gc(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gr(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Nt("string",Gr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class bO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}class px{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:t})}}class D4{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new D4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gx(this.Ec)&&xO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class kO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Dc(e,n,r,i=!1){return new D4({Ec:e,methodName:n,bc:r,path:$t.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O4(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new kO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EO(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);z4("Data must be an object, but it was:",a,r);const o=yx(r,a);let l,u;if(s.merge)l=new Hn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=w1(e,d,n);if(!a.contains(f))throw new ae(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wx(h,f)||h.push(f)}l=new Hn(h),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new bO(new In(o),l,u)}class Xd extends Qd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}class L4 extends Qd{_toFieldTransform(e){return new gM(e.path,new Ku)}isEqual(e){return e instanceof L4}}function SO(t,e,n,r){const i=t.Dc(1,e,n);z4("Data must be an object, but it was:",i,r);const s=[],a=In.empty();Gs(r,(l,u)=>{const h=F4(e,l,n);u=ct(u);const d=i.gc(h);if(u instanceof Xd)s.push(h);else{const f=xc(u,d);f!=null&&(s.push(h),a.set(h,f))}});const o=new Hn(s);return new px(a,o,i.fieldTransforms)}function TO(t,e,n,r,i,s){const a=t.Dc(1,e,n),o=[w1(e,r,n)],l=[i];if(s.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push(w1(e,s[f])),l.push(s[f+1]);const u=[],h=In.empty();for(let f=o.length-1;f>=0;--f)if(!wx(u,o[f])){const m=o[f];let y=l[f];y=ct(y);const w=a.gc(m);if(y instanceof Xd)u.push(m);else{const S=xc(y,w);S!=null&&(u.push(m),h.set(m,S))}}const d=new Hn(u);return new px(h,d,a.fieldTransforms)}function IO(t,e,n,r=!1){return xc(n,t.Dc(r?4:3,e))}function xc(t,e){if(vx(t=ct(t)))return z4("Unsupported field value:",e,t),yx(t,e);if(t instanceof Qd)return function(r,i){if(!gx(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=xc(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:Gh(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,s)}}if(r instanceof Wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:V_(i.serializer,r._byteString)};if(r instanceof St){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g4(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gr)return function(a,o){return{mapValue:{fields:{[m_]:{stringValue:p_},[Hh]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return d4(o.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Md(r)}`)}(t,e)}function yx(t,e){const n={};return l_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const s=xc(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Wr||t instanceof rr||t instanceof St||t instanceof Qd||t instanceof Gr)}function z4(t,e,n){if(!vx(n)||!a_(n)){const r=Md(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function w1(t,e,n){if((e=ct(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return F4(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const AO=new RegExp("[~\\*/\\[\\]]");function F4(t,e,n){if(e.search(AO)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yd(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ae(Y.INVALID_ARGUMENT,o+t+l)}function wx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CO extends _x{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?F4(t,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V4{}class bx extends V4{}function ul(t,e,...n){let r=[];e instanceof V4&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof B4).length,o=s.filter(l=>l instanceof Zd).length;if(a>1||a>0&&o>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zd extends bx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zd(e,n,r)}_apply(e){const n=this._parse(e);return kx(e._query,n),new Ys(e.firestore,e.converter,l1(e._query,n))}_parse(e){const n=O4(e.firestore);return function(s,a,o,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){I6(d,h);const y=[];for(const w of d)y.push(T6(l,s,w));f={arrayValue:{values:y}}}else f=T6(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||I6(d,h),f=IO(o,a,d,h==="in"||h==="not-in");return Pt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(t,e,n){const r=e,i=Jd("where",t);return Zd._create(i,r,n)}class B4 extends V4{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B4(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)kx(a,l),a=l1(a,l)}(e._query,n),new Ys(e.firestore,e.converter,l1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U4 extends bx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U4(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(s,a)}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new ol(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Oa(t,e="asc"){const n=e,r=Jd("orderBy",t);return U4._create(r,n)}function T6(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k_(e)&&n.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!fe.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j3(t,new fe(r))}if(n instanceof St)return j3(t,n._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function I6(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kx(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RO{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Hh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>kt(a.doubleValue));return new Gr(s)}convertGeoPoint(e){return new Wr(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);He($_(r),9688,{name:e});const i=new $u(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Ti(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends _x{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Nt("string",xa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class nh extends xa{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:NO(o.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){t=or(t,St);const e=or(t.firestore,Ds);return gO(Kd(e),t._key).then(n=>Ex(e,t,n))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Nt("string",ba._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class j4 extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function DO(t){t=or(t,Ys);const e=or(t.firestore,Ds),n=Kd(e),r=new j4(e);return xx(t._query),yO(n,t._query).then(i=>new ba(e,r,t,i))}function OO(t,e,n,...r){t=or(t,St);const i=or(t.firestore,Ds),s=O4(i);let a;return a=typeof(e=ct(e))=="string"||e instanceof Yd?TO(s,"updateDoc",t._key,e,n,r):SO(s,"updateDoc",t._key,e),H4(i,[a.toMutation(t._key,kr.exists(!0))])}function LO(t){return H4(or(t.firestore,Ds),[new f4(t._key,kr.none())])}function q4(t,e){const n=or(t.firestore,Ds),r=Gd(t),i=PO(t.converter,e);return H4(n,[EO(O4(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function cl(t,...e){var n,r,i;t=ct(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||S6(e[a])||(s=e[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(S6(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof St)u=or(t.firestore,Ds),h=zd(t._key.path),l={next:d=>{e[a]&&e[a](Ex(u,t,d))},error:e[a+1],complete:e[a+2]};else{const d=or(t,Ys);u=or(d.firestore,Ds),h=d._query;const f=new j4(u);l={next:m=>{e[a]&&e[a](new ba(u,f,d,m))},error:e[a+1],complete:e[a+2]},xx(t._query)}return function(f,m,y,w){const S=new M4(w),x=new R4(m,S,y);return f.asyncQueue.enqueueAndForget(async()=>I4(await Xh(f),x)),()=>{S.Ou(),f.asyncQueue.enqueueAndForget(async()=>A4(await Xh(f),x))}}(Kd(u),h,o,l)}function H4(t,e){return function(r,i){const s=new gi;return r.asyncQueue.enqueueAndForget(async()=>iO(await pO(r),i,s)),s.promise}(Kd(t),e)}function Ex(t,e,n){const r=n.docs.get(e._key),i=new j4(t);return new xa(t,i,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function Ai(){return new L4("serverTimestamp")}(function(e,n=!0){(function(i){il=i})(Ua),Ra(new Ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Ds(new TN(r.getProvider("auth-internal")),new CN(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(u.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ur(A3,C3,e),Ur(A3,C3,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebasestorage.googleapis.com",Tx="storageBucket",zO=2*60*1e3,FO=10*60*1e3,VO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Yr{constructor(e,n,r=0){super(mm(e),`Firebase Storage: ${n} (${mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ot;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ot||(ot={}));function mm(t){return"storage/"+t}function $4(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(ot.UNKNOWN,t)}function BO(t){return new vt(ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function UO(t){return new vt(ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(ot.UNAUTHENTICATED,t)}function qO(){return new vt(ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HO(t){return new vt(ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ix(){return new vt(ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ax(){return new vt(ot.CANCELED,"User canceled the upload/download.")}function $O(t){return new vt(ot.INVALID_URL,"Invalid URL '"+t+"'.")}function WO(t){return new vt(ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function GO(){return new vt(ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tx+"' property when initializing the app?")}function Cx(){return new vt(ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KO(){return new vt(ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function YO(){return new vt(ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QO(t){return new vt(ot.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _1(t){return new vt(ot.INVALID_ARGUMENT,t)}function Rx(){return new vt(ot.APP_DELETED,"The Firebase app was deleted.")}function XO(t){return new vt(ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(t,e){return new vt(ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fl(t){throw new vt(ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw WO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(U){U.path_=decodeURIComponent(U.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},w=n===Sx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp(`^https?://${w}/${i}/${S}`,"i"),E=[{regex:o,indices:l,postModify:s},{regex:m,indices:y,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let U=0;U<E.length;U++){const q=E[U],z=q.regex.exec(e);if(z){const N=z[q.indices.bucket];let I=z[q.indices.path];I||(I=""),r=new $n(N,I),q.postModify(r);break}}if(r==null)throw $O(e);return r}}class JO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(m,l())},S)}function f(){s&&clearTimeout(s)}function m(S,...x){if(u){f();return}if(S){f(),h.call(null,S,...x);return}if(l()||a){f(),h.call(null,S,...x);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,d(E)}let y=!1;function w(S){y||(y=!0,f(),!u&&(i!==null?(S||(o=2),clearTimeout(i),d(0)):S||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,w(!0)},n),w}function eL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){return t!==void 0}function nL(t){return typeof t=="function"}function rL(t){return typeof t=="object"&&!Array.isArray(t)}function ef(t){return typeof t=="string"||t instanceof String}function A6(t){return W4()&&t instanceof Blob}function W4(){return typeof Blob<"u"}function C6(t,e,n,r){if(r<e)throw _1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Px(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ka;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ka||(ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i,s,a,o,l,u,h,d,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new v0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===ka.NO_ERROR,l=s.getStatus();if(!o||Nx(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ka.ABORT;r(!1,new v0(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new v0(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());tL(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=$4();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Rx():Ax();a(l)}else{const l=Ix();a(l)}};this.canceled_?n(!1,new v0(!1,null,!0)):this.backoffId_=ZO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class v0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uL(t,e,n,r,i,s,a=!0,o=!1){const l=Px(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return oL(h,e),sL(h,n),aL(h,s),lL(h,r),new iL(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hL(...t){const e=cL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(W4())return new Blob(t);throw new vt(ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){if(typeof atob>"u")throw QO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pm{constructor(e,n){this.data=e,this.contentType=n||null}}function mL(t,e){switch(t){case Lr.RAW:return new pm(Mx(e));case Lr.BASE64:case Lr.BASE64URL:return new pm(Dx(t,e));case Lr.DATA_URL:return new pm(gL(e),yL(e))}throw $4()}function Mx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pL(t){let e;try{e=decodeURIComponent(t)}catch{throw pu(Lr.DATA_URL,"Malformed data URL.")}return Mx(e)}function Dx(t,e){switch(t){case Lr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw pu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw pu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=fL(e)}catch(i){throw i.message.includes("polyfill")?i:pu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ox{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pu(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=vL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function gL(t){const e=new Ox(t);return e.base64?Dx(Lr.BASE64,e.rest):pL(e.rest)}function yL(t){return new Ox(t).contentType}function vL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){let r=0,i="";A6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(A6(this.data_)){const r=this.data_,i=dL(r,e,n);return i===null?null:new ss(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ss(r,!0)}}static getBlob(...e){if(W4()){const n=e.map(r=>r instanceof ss?r.data_:r);return new ss(hL.apply(null,n))}else{const n=e.map(a=>ef(a)?mL(Lr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new ss(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){let e;try{e=JSON.parse(t)}catch{return null}return rL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _L(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e){return e}class dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||xL}}let w0=null;function bL(t){return!ef(t)||t.length<2?t:zx(t)}function Fx(){if(w0)return w0;const t=[];t.push(new dn("bucket")),t.push(new dn("generation")),t.push(new dn("metageneration")),t.push(new dn("name","fullPath",!0));function e(s,a){return bL(a)}const n=new dn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new dn("size");return i.xform=r,t.push(i),t.push(new dn("timeCreated")),t.push(new dn("updated")),t.push(new dn("md5Hash",null,!0)),t.push(new dn("cacheControl",null,!0)),t.push(new dn("contentDisposition",null,!0)),t.push(new dn("contentEncoding",null,!0)),t.push(new dn("contentLanguage",null,!0)),t.push(new dn("contentType",null,!0)),t.push(new dn("metadata","customMetadata",!0)),w0=t,w0}function kL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new $n(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function EL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return kL(r,t),r}function Vx(t,e,n){const r=Lx(e);return r===null?null:EL(t,r,n)}function SL(t,e,n,r){const i=Lx(e);if(i===null||!ef(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const h=t.bucket,d=t.fullPath,f="/b/"+a(h)+"/o/"+a(d),m=hl(f,n,r),y=Px({alt:"media",token:u});return m+y})[0]}function Bx(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Wa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){if(!t)throw $4()}function G4(t,e){function n(r,i){const s=Vx(t,i,e);return yi(s!==null),s}return n}function TL(t,e){function n(r,i){const s=Vx(t,i,e);return yi(s!==null),SL(s,i,t.host,t._protocol)}return n}function bc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qO():i=jO():n.getStatus()===402?i=UO(t.bucket):n.getStatus()===403?i=HO(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function K4(t){const e=bc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=BO(t.path)),s.serverResponse=i.serverResponse,s}return n}function IL(t,e,n){const r=e.fullServerUrl(),i=hl(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new Wa(i,s,G4(t,n),a);return o.errorHandler=K4(e),o}function AL(t,e,n){const r=e.fullServerUrl(),i=hl(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new Wa(i,s,TL(t,n),a);return o.errorHandler=K4(e),o}function CL(t,e){const n=e.fullServerUrl(),r=hl(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(l,u){}const o=new Wa(r,i,a,s);return o.successCodes=[200,204],o.errorHandler=K4(e),o}function RL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ux(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=RL(null,e)),r}function PL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let U=0;U<2;U++)E=E+Math.random().toString().slice(2);return E}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const u=Ux(e,r,i),h=Bx(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=ss.getBlob(d,r,f);if(m===null)throw Cx();const y={name:u.fullPath},w=hl(s,t.host,t._protocol),S="POST",x=t.maxUploadRetryTime,b=new Wa(w,S,G4(t,n),x);return b.urlParams=y,b.headers=a,b.body=m.uploadData(),b.errorHandler=bc(e),b}class Zh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Y4(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{yi(!1)}return yi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function NL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=Ux(e,r,i),o={name:a.fullPath},l=hl(s,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},d=Bx(a,n),f=t.maxUploadRetryTime;function m(w){Y4(w);let S;try{S=w.getResponseHeader("X-Goog-Upload-URL")}catch{yi(!1)}return yi(ef(S)),S}const y=new Wa(l,u,m,f);return y.urlParams=o,y.headers=h,y.body=d,y.errorHandler=bc(e),y}function ML(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const h=Y4(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yi(!1)}d||yi(!1);const f=Number(d);return yi(!isNaN(f)),new Zh(f,r.size(),h==="final")}const a="POST",o=t.maxUploadRetryTime,l=new Wa(n,a,s,o);return l.headers=i,l.errorHandler=bc(e),l}const R6=256*1024;function DL(t,e,n,r,i,s,a,o){const l=new Zh(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw KO();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const d=l.current,f=d+h;let m="";h===0?m="finalize":u===h?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(d,f);if(w===null)throw Cx();function S(U,q){const z=Y4(U,["active","final"]),N=l.current+h,I=r.size();let P;return z==="final"?P=G4(e,s)(U,q):P=null,new Zh(N,I,z==="final",P)}const x="POST",b=e.maxUploadRetryTime,E=new Wa(n,x,S,b);return E.headers=y,E.body=w.uploadData(),E.progressCallback=o||null,E.errorHandler=bc(t),E}const En={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gm(t){switch(t){case"running":case"pausing":case"canceling":return En.RUNNING;case"paused":return En.PAUSED;case"success":return En.SUCCESS;case"canceled":return En.CANCELED;case"error":return En.ERROR;default:return En.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){if(nL(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class LL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Fl("cannot .send() more than once");if(Hs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zL extends LL{initXhr(){this.xhr_.responseType="text"}}function fa(){return new zL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Fx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ot.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Nx(i.status,[]))if(s)i=Ix();else{this.sleepTime=Math.max(this.sleepTime*2,VO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ot.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=NL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=ML(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,fa,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=R6*this._chunkMultiplier,n=new Zh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=DL(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(a,fa,i,s,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){R6*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=IL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=PL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ax(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=gm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new OL(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(gm(this._state)){case En.SUCCESS:ro(this._resolve.bind(null,this.snapshot))();break;case En.CANCELED:case En.ERROR:const n=this._reject;ro(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gm(this._state)){case En.RUNNING:case En.PAUSED:e.next&&ro(e.next.bind(e,this.snapshot))();break;case En.SUCCESS:e.complete&&ro(e.complete.bind(e))();break;case En.CANCELED:case En.ERROR:e.error&&ro(e.error.bind(e,this._error))();break;default:e.error&&ro(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new La(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zx(this._location.path)}get storage(){return this._service}get parent(){const e=wL(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new La(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XO(e)}}function VL(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new FL(t,new ss(e),n)}function BL(t){t._throwIfRoot("getDownloadURL");const e=AL(t.storage,t._location,Fx());return t.storage.makeRequestWithTokens(e,fa).then(n=>{if(n===null)throw YO();return n})}function UL(t){t._throwIfRoot("deleteObject");const e=CL(t.storage,t._location);return t.storage.makeRequestWithTokens(e,fa)}function jL(t,e){const n=_L(t._location.path,e),r=new $n(t._location.bucket,n);return new La(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return/^[A-Za-z]+:\/\//.test(t)}function HL(t,e){return new La(t,e)}function jx(t,e){if(t instanceof Q4){const n=t;if(n._bucket==null)throw GO();const r=new La(n,n._bucket);return e!=null?jx(r,e):r}else return e!==void 0?jL(t,e):t}function $L(t,e){if(e&&qL(e)){if(t instanceof Q4)return HL(t,e);throw _1("To use ref(service, url), the first argument must be a Storage instance.")}else return jx(t,e)}function P6(t,e){const n=e==null?void 0:e[Tx];return n==null?null:$n.makeFromBucketSpec(n,t)}function WL(t,e,n,r={}){t.host=`${e}:${n}`;const i=Hs(e);i&&($g(`https://${t.host}/b`),Wg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:c9(s,t.app.options.projectId))}class Q4{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Sx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zO,this._maxUploadRetryTime=FO,this._requests=new Set,i!=null?this._bucket=$n.makeFromBucketSpec(i,this._host):this._bucket=P6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=P6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new La(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new JO(Rx());{const a=uL(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const N6="@firebase/storage",M6="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="storage";function GL(t,e,n){return t=ct(t),VL(t,e,n)}function KL(t){return t=ct(t),BL(t)}function YL(t){return t=ct(t),UL(t)}function Hx(t,e){return t=ct(t),$L(t,e)}function QL(t=Yg(),e){t=ct(t);const r=Cd(t,qx).getImmediate({identifier:e}),i=o9("storage");return i&&XL(r,...i),r}function XL(t,e,n,r={}){WL(t,e,n,r)}function JL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Q4(n,r,i,e,Ua)}function ZL(){Ra(new Ts(qx,JL,"PUBLIC").setMultipleInstances(!0)),Ur(N6,M6,""),Ur(N6,M6,"esm2017")}ZL();const ez={apiKey:"AIzaSyDcOJyJEpVsc-asPeYvqaKnZF0oa7J3xfI",authDomain:"labtool-5eb5e.firebaseapp.com",projectId:"labtool-5eb5e",storageBucket:"labtool-5eb5e.firebasestorage.app",messagingSenderId:"686046008242",appId:"1:686046008242:web:b5516ebf4eedea5afa4aab",measurementId:"G-86F1TSWE56"},X4=f9(ez),_0=_N(X4),Qr=wO(X4),$x=QL(X4),Wx=W.createContext(null);function tz({children:t}){const[e,n]=W.useState(null),[r,i]=W.useState(!0);W.useEffect(()=>{const a=lP(_0,o=>{n(o),i(!1)});return()=>a()},[]);const s=W.useMemo(()=>({user:e,loading:r,signIn:async(a,o)=>{await sP(_0,a,o)},signUp:async(a,o)=>{await iP(_0,a,o)},signOut:async()=>{await uP(_0)}}),[e,r]);return C.jsx(Wx.Provider,{value:s,children:t})}function Qs(){const t=W.useContext(Wx);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>W.createElement("svg",{ref:l,...rz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Gx("lucide",i),...o},[...a.map(([u,h])=>W.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=W.forwardRef(({className:r,...i},s)=>W.createElement(iz,{ref:s,iconNode:e,className:Gx(`lucide-${nz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Qe("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Qe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Qe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Qe("FlaskConical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Qe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Qe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=Qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Qe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jx=W.createContext(null);function xz({children:t}){const[e,n]=W.useState([]),r=W.useCallback(s=>{const a=crypto.randomUUID();n(o=>[...o,{id:a,...s}]),window.setTimeout(()=>{n(o=>o.filter(l=>l.id!==a))},8e3)},[]),i=W.useMemo(()=>({push:r}),[r]);return C.jsxs(Jx.Provider,{value:i,children:[t,C.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 w-[360px] max-w-[calc(100vw-2rem)]",children:e.map(s=>C.jsx("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-soft overflow-hidden",children:C.jsxs("div",{className:"p-3 flex gap-3 items-start",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"font-semibold text-sm",children:s.title}),s.message&&C.jsx("div",{className:"text-sm text-slate-600 mt-1",children:s.message}),s.actionLabel&&s.onAction&&C.jsx("button",{className:"mt-2 text-sm font-medium text-slate-900 underline underline-offset-4 hover:text-slate-700",onClick:()=>{var a;(a=s.onAction)==null||a.call(s),n(o=>o.filter(l=>l.id!==s.id))},children:s.actionLabel})]}),C.jsx("button",{className:"p-2 rounded-xl hover:bg-slate-100",onClick:()=>n(a=>a.filter(o=>o.id!==s.id)),"aria-label":"Dismiss",children:C.jsx(Xx,{size:16})})]})},s.id))})]})}function dr(){const t=Y1.useContext(Jx);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function Zx(t,e){const n=ul($a(Qr,"labs"),Xu("members","array-contains",t),Oa("updatedAt","desc"));return cl(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));e(i)})}function bz(t){const e=ul($a(Qr,"labs"),Xu("isPublic","==",!0),Oa("updatedAt","desc"));return cl(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)})}async function kz(t){const e=[t.ownerUid];return(await q4($a(Qr,"labs"),{name:t.name,type:t.type,ownerUid:t.ownerUid,members:e,isPublic:t.isPublic,createdAt:Ai(),updatedAt:Ai()})).id}function Ez(t){return $a(Qr,"labs",t,"items")}function Sz(t,e){const n=ul(Ez(t),Xu("type","==","timer"),Xu("status","==","running"),Oa("updatedAt","desc"));return cl(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()})).map(s=>{const a=s.startedAt,o=a?a.toMillis():Date.now(),l=new Date(o+s.durationSec*1e3);return{id:s.id,labId:t,name:s.name,startedAtMs:o,durationSec:s.durationSec,endsAt:l}});e(i)})}const eb=W.createContext(null);function Tz({children:t}){const{user:e}=Qs(),{push:n}=dr(),r=qs(),[i,s]=W.useState([]),a=W.useRef(new Set);W.useEffect(()=>{if(!e){s([]);return}let l=null;const u=[];return l=Zx(e.uid,h=>{for(const m of u.splice(0))m();const d={},f=()=>{const m=Object.values(d).flat().sort((y,w)=>y.endsAt.getTime()-w.endsAt.getTime());s(m)};h.forEach(m=>{const y=Sz(m.id,w=>{d[m.id]=w,f()});u.push(y)})}),()=>{l==null||l();for(const h of u)h()}},[e]),W.useEffect(()=>{const l=new Set(i.map(u=>`${u.labId}:${u.id}`));for(const u of l)if(!a.current.has(u)){const[h,d]=u.split(":"),f=i.find(m=>`${m.labId}:${m.id}`===u);if(!f)continue;if(n({title:`Timer running: ${f.name}`,message:"Click to jump back to the timer.",actionLabel:"Open timer",onAction:()=>r(`/lab/${h}?open=${d}`)}),"Notification"in window)try{if(Notification.permission==="granted"){const m=new Notification(`Timer running: ${f.name}`,{body:"Click to open in Lab Tools"});m.onclick=()=>r(`/lab/${h}?open=${d}`)}else Notification.permission==="default"&&Notification.requestPermission().catch(()=>{})}catch{}}a.current=l},[i,n,r]);const o=W.useMemo(()=>({activeTimers:i,jumpToTimer:(l,u)=>r(`/lab/${l}?open=${u}`)}),[i,r]);return C.jsx(eb.Provider,{value:o,children:t})}function Iz(){const t=W.useContext(eb);if(!t)throw new Error("useGlobalTimers must be used within GlobalTimersProvider");return t}function tb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tb(t))&&(r&&(r+=" "),r+=e);return r}function it({children:t,onClick:e,type:n="button",variant:r="primary",disabled:i,leftIcon:s,className:a}){return C.jsxs("button",{type:n,disabled:i,onClick:e,className:kc("inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-medium transition","focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ring-offset-white",i&&"opacity-60 cursor-not-allowed",r==="primary"&&"bg-slate-900 text-white hover:bg-slate-800 shadow-soft",r==="secondary"&&"bg-slate-100 text-slate-900 hover:bg-slate-200 border border-slate-200",r==="ghost"&&"bg-transparent text-slate-700 hover:bg-slate-100",r==="danger"&&"bg-rose-600 text-white hover:bg-rose-700 shadow-soft",a),children:[s,t]})}function Wt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Os(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const nb=6048e5,Az=864e5,F6=6e4,V6=525600,B6=43200,U6=1440;let Cz={};function Ec(){return Cz}function Ju(t,e){var o,l,u,h;const n=Ec(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=Wt(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function ed(t){return Ju(t,{weekStartsOn:1})}function rb(t){const e=Wt(t),n=e.getFullYear(),r=Os(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ed(r),s=Os(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=ed(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function j6(t){const e=Wt(t);return e.setHours(0,0,0,0),e}function td(t){const e=Wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rz(t,e){const n=j6(t),r=j6(e),i=+n-td(n),s=+r-td(r);return Math.round((i-s)/Az)}function Pz(t){const e=rb(t),n=Os(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ed(n)}function Nz(t,e){const n=Wt(t),r=Wt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Mz(t){return Os(t,Date.now())}function Dz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Oz(t){if(!Dz(t)&&typeof t!="number")return!1;const e=Wt(t);return!isNaN(Number(e))}function Lz(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function zz(t){const e=Wt(t),n=Os(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Fz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vz=(t,e,n)=>{let r;const i=Fz[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qz={date:vm({formats:Bz,defaultWidth:"full"}),time:vm({formats:Uz,defaultWidth:"full"}),dateTime:vm({formats:jz,defaultWidth:"full"})},Hz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$z=(t,e,n,r)=>Hz[t];function Vl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Wz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Zz={ordinalNumber:Jz,era:Vl({values:Wz,defaultWidth:"wide"}),quarter:Vl({values:Gz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vl({values:Kz,defaultWidth:"wide"}),day:Vl({values:Yz,defaultWidth:"wide"}),dayPeriod:Vl({values:Qz,defaultWidth:"wide",formattingValues:Xz,defaultFormattingWidth:"wide"})};function Bl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?tF(o,d=>d.test(a)):eF(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function eF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function tF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const rF=/^(\d+)(th|st|nd|rd)?/i,iF=/\d+/i,sF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aF={any:[/^b/i,/^(a|c)/i]},oF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lF={any:[/1/i,/2/i,/3/i,/4/i]},uF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pF={ordinalNumber:nF({matchPattern:rF,parsePattern:iF,valueCallback:t=>parseInt(t,10)}),era:Bl({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"}),quarter:Bl({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:lF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bl({matchPatterns:uF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),day:Bl({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:dF,defaultParseWidth:"any"}),dayPeriod:Bl({matchPatterns:fF,defaultMatchWidth:"any",parsePatterns:mF,defaultParseWidth:"any"})},ib={code:"en-US",formatDistance:Vz,formatLong:qz,formatRelative:$z,localize:Zz,match:pF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gF(t){const e=Wt(t);return Rz(e,zz(e))+1}function yF(t){const e=Wt(t),n=+ed(e)-+Pz(e);return Math.round(n/nb)+1}function sb(t,e){var h,d,f,m;const n=Wt(t),r=n.getFullYear(),i=Ec(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Os(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Ju(a,e),l=Os(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Ju(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function vF(t,e){var o,l,u,h;const n=Ec(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=sb(t,e),s=Os(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ju(s,e)}function wF(t,e){const n=Wt(t),r=+Ju(n,e)-+vF(n,e);return Math.round(r/nb)+1}function $e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Gi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$e(n+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $e(i,e.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Gi.y(t,e)},Y:function(t,e,n,r){const i=sb(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return $e(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$e(s,e.length)},R:function(t,e){const n=rb(t);return $e(n,e.length)},u:function(t,e){const n=t.getFullYear();return $e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Gi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wF(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,n){const r=yF(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gi.d(t,e)},D:function(t,e,n){const r=gF(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $e(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $e(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=io.noon:r===0?i=io.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=io.evening:r>=12?i=io.afternoon:r>=4?i=io.morning:i=io.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gi.s(t,e)},S:function(t,e){return Gi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $6(r);case"XXXX":case"XX":return da(r);case"XXXXX":case"XXX":default:return da(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $6(r);case"xxxx":case"xx":return da(r);case"xxxxx":case"xxx":default:return da(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H6(r,":");case"OOOO":default:return"GMT"+da(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H6(r,":");case"zzzz":default:return"GMT"+da(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $e(r,e.length)},T:function(t,e,n){const r=t.getTime();return $e(r,e.length)}};function H6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$e(s,2)}function $6(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):da(t,e)}function da(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$e(Math.trunc(r/60),2),s=$e(r%60,2);return n+i+e+s}const W6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ab=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_F=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return W6(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",W6(r,e)).replace("{{time}}",ab(i,e))},xF={p:ab,P:_F},bF=/^D+$/,kF=/^Y+$/,EF=["D","DD","YY","YYYY"];function SF(t){return bF.test(t)}function TF(t){return kF.test(t)}function IF(t,e,n){const r=AF(t,e,n);if(console.warn(r),EF.includes(t))throw new RangeError(r)}function AF(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PF=/^'([^]*?)'?$/,NF=/''/g,MF=/[a-zA-Z]/;function rh(t,e,n){var h,d,f,m;const r=Ec(),i=r.locale??ib,s=r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=Wt(t);if(!Oz(o))throw new RangeError("Invalid time value");let l=e.match(RF).map(y=>{const w=y[0];if(w==="p"||w==="P"){const S=xF[w];return S(y,i.formatLong)}return y}).join("").match(CF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:DF(y)};if(q6[w])return{isToken:!0,value:y};if(w.match(MF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(TF(w)||SF(w))&&IF(w,e,String(t));const S=q6[w[0]];return S(o,w,i.localize,u)}).join("")}function DF(t){const e=t.match(PF);return e?e[1].replace(NF,"'"):t}function OF(t,e,n){const r=Ec(),i=(n==null?void 0:n.locale)??r.locale??ib,s=Nz(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let o,l;s>0?(o=Wt(e),l=Wt(t)):(o=Wt(t),l=Wt(e));const u=Lz("round"),h=l.getTime()-o.getTime(),d=h/F6,f=td(l)-td(o),m=(h-f)/F6,y=n==null?void 0:n.unit;let w;if(d<1?w="second":d<60?w="minute":d<U6?w="hour":m<B6?w="day":m<V6?w="month":w="year",w==="second"){const S=u(h/1e3);return i.formatDistance("xSeconds",S,a)}else if(w==="minute"){const S=u(d);return i.formatDistance("xMinutes",S,a)}else if(w==="hour"){const S=u(d/60);return i.formatDistance("xHours",S,a)}else if(w==="day"){const S=u(m/U6);return i.formatDistance("xDays",S,a)}else if(w==="month"){const S=u(m/B6);return S===12&&y!=="month"?i.formatDistance("xYears",1,a):i.formatDistance("xMonths",S,a)}else{const S=u(m/V6);return i.formatDistance("xYears",S,a)}}function LF(t,e){return OF(t,Mz(t),e)}function G6({children:t}){const{user:e,signOut:n}=Qs(),{activeTimers:r,jumpToTimer:i}=Iz(),s=Ba(),a=qs();return C.jsxs("div",{className:"min-h-screen",children:[C.jsx("header",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/80 backdrop-blur",children:C.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center gap-3",children:[C.jsxs(Vu,{to:"/labs",className:"flex items-center gap-2",children:[C.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-900 text-white grid place-items-center shadow-soft",children:C.jsx(J4,{size:18})}),C.jsxs("div",{className:"leading-tight",children:[C.jsx("div",{className:"font-semibold",children:"Lab Tools"}),C.jsx("div",{className:"text-xs text-slate-500",children:"Notes  Protocols  Timers  Files"})]})]}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.length>0&&C.jsxs("div",{className:"hidden md:flex items-center gap-2 mr-2",children:[C.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[C.jsx(Z4,{size:14}),r.length," running"]}),C.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto max-w-[360px] scrollbar",children:[r.slice(0,3).map(o=>C.jsxs("button",{className:"px-2 py-1 rounded-lg bg-slate-50 border border-slate-200 text-xs hover:bg-slate-100",onClick:()=>i(o.labId,o.id),title:"Jump to timer",children:[o.name,"  ",LF(o.endsAt)," left"]},o.id)),r.length>3&&C.jsxs("button",{className:"px-2 py-1 rounded-lg bg-slate-50 border border-slate-200 text-xs hover:bg-slate-100",onClick:()=>a("/labs"),children:["+",r.length-3," more"]})]})]}),C.jsx("div",{className:"text-xs text-slate-500 hidden sm:block",children:(e==null?void 0:e.email)??""}),C.jsx(it,{variant:"ghost",onClick:async()=>{await n(),s.pathname!=="/login"&&a("/login")},leftIcon:C.jsx(pz,{size:16}),children:"Sign out"})]})]})}),C.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6",children:t})]})}function Zu({title:t,subtitle:e,children:n,className:r,actions:i}){return C.jsxs("div",{className:kc("rounded-2xl bg-white border border-slate-200 shadow-soft",r),children:[(t||e||i)&&C.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-start gap-3",children:[C.jsxs("div",{className:"flex-1",children:[t&&C.jsx("div",{className:"font-semibold",children:t}),e&&C.jsx("div",{className:"text-sm text-slate-500",children:e})]}),i]}),C.jsx("div",{className:"p-4",children:n})]})}const Ci=W.forwardRef(function({label:e,hint:n,className:r,...i},s){return C.jsxs("label",{className:"block",children:[e&&C.jsx("div",{className:"text-sm font-medium mb-1",children:e}),C.jsx("input",{ref:s,className:kc("w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm","focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 ring-offset-white",r),...i}),n&&C.jsx("div",{className:"text-xs text-slate-500 mt-1",children:n})]})});function ob({children:t}){return C.jsx("div",{className:"min-h-screen grid place-items-center px-4",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsxs("div",{className:"flex items-center gap-2 justify-center mb-6",children:[C.jsx("div",{className:"h-10 w-10 rounded-2xl bg-slate-900 text-white grid place-items-center shadow-soft",children:C.jsx(J4,{size:18})}),C.jsxs("div",{children:[C.jsx("div",{className:"font-semibold text-lg leading-tight text-center",children:"Lab Tools"}),C.jsx("div",{className:"text-sm text-slate-500 text-center",children:"Your experiment assistant"})]})]}),t,C.jsx("div",{className:"text-xs text-slate-400 text-center mt-6",children:"Data is stored in Firebase. Please dont upload sensitive personal data."})]})})}function zF(){const{signIn:t}=Qs(),{push:e}=dr(),n=qs(),[r,i]=W.useState(""),[s,a]=W.useState(""),[o,l]=W.useState(!1);async function u(h){h.preventDefault(),l(!0);try{await t(r.trim(),s),n("/labs")}catch(d){e({title:"Login failed",message:(d==null?void 0:d.message)??"Please try again."})}finally{l(!1)}}return C.jsx(ob,{children:C.jsx(Zu,{title:"Sign in",subtitle:"Email & password",children:C.jsxs("form",{onSubmit:u,className:"space-y-3",children:[C.jsx(Ci,{label:"Email",autoComplete:"email",type:"email",placeholder:"you@example.com",value:r,onChange:h=>i(h.target.value),required:!0}),C.jsx(Ci,{label:"Password",autoComplete:"current-password",type:"password",placeholder:"",value:s,onChange:h=>a(h.target.value),required:!0}),C.jsx(it,{type:"submit",disabled:o,className:"w-full",children:o?"Signing in":"Sign in"}),C.jsxs("div",{className:"text-sm text-slate-600",children:["No account?"," ",C.jsx(Vu,{className:"underline underline-offset-4",to:"/signup",children:"Create one"})]})]})})})}function FF(){const{signUp:t}=Qs(),{push:e}=dr(),n=qs(),[r,i]=W.useState(""),[s,a]=W.useState(""),[o,l]=W.useState(!1);async function u(h){if(h.preventDefault(),s.length<8){e({title:"Password too short",message:"Use at least 8 characters."});return}l(!0);try{await t(r.trim(),s),n("/labs")}catch(d){e({title:"Signup failed",message:(d==null?void 0:d.message)??"Please try again."})}finally{l(!1)}}return C.jsx(ob,{children:C.jsx(Zu,{title:"Create account",subtitle:"Email & password",children:C.jsxs("form",{onSubmit:u,className:"space-y-3",children:[C.jsx(Ci,{label:"Email",autoComplete:"email",type:"email",placeholder:"you@example.com",value:r,onChange:h=>i(h.target.value),required:!0}),C.jsx(Ci,{label:"Password",autoComplete:"new-password",type:"password",placeholder:"At least 8 characters",value:s,onChange:h=>a(h.target.value),required:!0}),C.jsx(it,{type:"submit",disabled:o,className:"w-full",children:o?"Creating":"Create account"}),C.jsxs("div",{className:"text-sm text-slate-600",children:["Already have an account?"," ",C.jsx(Vu,{className:"underline underline-offset-4",to:"/login",children:"Sign in"})]})]})})})}function x1({open:t,title:e,children:n,onClose:r,footer:i}){return W.useEffect(()=>{if(!t)return;const s=a=>a.key==="Escape"&&r();return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,r]),t?C.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-slate-900/40 p-4",children:C.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-soft border border-slate-200",children:[C.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center",children:[C.jsx("div",{className:"font-semibold flex-1",children:e}),C.jsx(it,{variant:"ghost",onClick:r,leftIcon:C.jsx(Xx,{size:16}),children:"Close"})]}),C.jsx("div",{className:"p-4",children:n}),i&&C.jsx("div",{className:"px-4 py-3 border-t border-slate-200",children:i})]})}):null}function VF(){const{user:t}=Qs(),{push:e}=dr(),n=qs(),[r,i]=W.useState([]),[s,a]=W.useState([]),[o,l]=W.useState(!1),[u,h]=W.useState(""),[d,f]=W.useState("personal"),[m,y]=W.useState(!1),[w,S]=W.useState(!1);W.useEffect(()=>{if(!t)return;const E=Zx(t.uid,i),U=bz(q=>a(q));return()=>{E(),U()}},[t]);const x=W.useMemo(()=>{const E=new Set(r.map(U=>U.id));return s.filter(U=>!E.has(U.id))},[r,s]);async function b(){if(t){if(!u.trim()){e({title:"Missing name",message:"Please enter a lab name."});return}S(!0);try{const E=await kz({name:u.trim(),type:d,ownerUid:t.uid,isPublic:d==="shared"?m:!1});l(!1),h(""),f("personal"),y(!1),n(`/lab/${E}`)}catch(E){e({title:"Create failed",message:(E==null?void 0:E.message)??"Please try again."})}finally{S(!1)}}}return C.jsxs("div",{className:"space-y-6",children:[C.jsxs(Zu,{title:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(J4,{size:18}),"Labs"]}),subtitle:"Pick a lab to enter. Shared labs can be public in the lobby.",actions:C.jsx(it,{variant:"primary",onClick:()=>l(!0),leftIcon:C.jsx(Yx,{size:16}),children:"New lab"}),children:[C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.length===0?C.jsx("div",{className:"text-sm text-slate-500",children:"No labs yet. Create one to start."}):r.map(E=>C.jsxs("button",{className:"text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition",onClick:()=>n(`/lab/${E.id}`),children:[C.jsxs("div",{className:"flex items-center gap-2",children:[E.type==="shared"?C.jsx(ym,{size:16}):C.jsx(z6,{size:16}),C.jsx("div",{className:"font-semibold",children:E.name}),E.isPublic&&C.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-slate-100 border border-slate-200",children:[C.jsx(O6,{size:12})," Public"]})]}),C.jsx("div",{className:"text-sm text-slate-500 mt-1",children:E.type==="shared"?"Shared lab":"Personal lab"})]},E.id))}),x.length>0&&C.jsxs("div",{className:"mt-6",children:[C.jsx("div",{className:"text-sm font-semibold mb-2",children:"Public labs"}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.slice(0,6).map(E=>C.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(ym,{size:16}),C.jsx("div",{className:"font-semibold",children:E.name}),C.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-white border border-slate-200",children:[C.jsx(O6,{size:12})," Public"]})]}),C.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"You can ask the owner to add you as a member (invite flow TBD)."})]},E.id))})]})]}),C.jsx(x1,{open:o,title:"Create a new lab",onClose:()=>l(!1),footer:C.jsxs("div",{className:"flex justify-end gap-2",children:[C.jsx(it,{variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),C.jsx(it,{onClick:b,disabled:w,children:w?"Creating":"Create"})]}),children:C.jsxs("div",{className:"space-y-3",children:[C.jsx(Ci,{label:"Lab name",placeholder:"e.g., Polymer Screening",value:u,onChange:E=>h(E.target.value)}),C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsxs("button",{className:"rounded-2xl border px-3 py-3 text-left transition "+(d==="personal"?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>{f("personal"),y(!1)},children:[C.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[C.jsx(z6,{size:16})," Personal"]}),C.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Only you. Great for private work."})]}),C.jsxs("button",{className:"rounded-2xl border px-3 py-3 text-left transition "+(d==="shared"?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>f("shared"),children:[C.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[C.jsx(ym,{size:16})," Shared"]}),C.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Team lab. Can be public in lobby."})]})]}),d==="shared"&&C.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[C.jsx("input",{type:"checkbox",checked:m,onChange:E=>y(E.target.checked)}),"Make this lab visible in lobby (public)"]}),C.jsx("div",{className:"text-xs text-slate-500",children:"Inviting members by email is planned. For now, membership is enforced by Firestore rules and manual updates."})]})})]})}function BF(t){const[e,n]=W.useState(null),[r,i]=W.useState(!0);return W.useEffect(()=>{const s=cl(Gd(Qr,"labs",t),a=>{n(a.exists()?{id:a.id,...a.data()}:null),i(!1)});return()=>s()},[t]),{lab:e,loading:r}}function UF({currentFolderId:t,itemsById:e,onNavigate:n}){const r=[{id:null,name:"Home"}];let i=t;const s=new Set;for(;i&&!s.has(i);){s.add(i);const a=e[i];if(!a)break;r.push({id:a.id,name:a.name}),i=a.parentId}return r.reverse(),C.jsx("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:r.map((a,o)=>C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("button",{className:"px-2 py-1 rounded-lg hover:bg-slate-100",onClick:()=>n(a.id),title:a.name,children:o===0?C.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.jsx(fz,{size:14})," ",a.name]}):a.name}),o<r.length-1&&C.jsx(sz,{size:14,className:"text-slate-400"})]},`${a.id??"root"}:${o}`))})}function jF({item:t}){switch(t.type){case"folder":return C.jsx(dz,{size:16});case"note":return C.jsx(Qx,{size:16});case"timer":return C.jsx(Z4,{size:16});case"protocol":return C.jsx(Kx,{size:16});case"file":return t.mimeType.startsWith("image/")?C.jsx(mz,{size:16}):C.jsx(uz,{size:16});default:return null}}function qF({items:t,selectedId:e,onSelect:n,onOpen:r}){return C.jsxs("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-soft overflow-hidden",children:[C.jsxs("div",{className:"grid grid-cols-[1fr_110px] gap-2 px-4 py-2 border-b border-slate-200 text-xs text-slate-500",children:[C.jsx("div",{children:"Name"}),C.jsx("div",{className:"text-right",children:"Updated"})]}),C.jsx("div",{className:"divide-y divide-slate-200",children:t.length===0?C.jsx("div",{className:"px-4 py-10 text-sm text-slate-500",children:"This folder is empty."}):t.map(i=>{var o,l;const s=i.id===e,a=(l=(o=i.updatedAt)==null?void 0:o.toDate)==null?void 0:l.call(o);return C.jsxs("button",{className:kc("w-full text-left px-4 py-3 grid grid-cols-[1fr_110px] gap-2 items-center","hover:bg-slate-50",s&&"bg-slate-50"),onClick:()=>n(i.id),onDoubleClick:()=>r(i),children:[C.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[C.jsx("div",{className:"text-slate-600",children:C.jsx(jF,{item:i})}),C.jsx("div",{className:"font-medium truncate",children:i.name}),C.jsx("div",{className:"ml-auto text-xs text-slate-500 hidden lg:block",children:i.type})]}),C.jsx("div",{className:"text-right text-xs text-slate-500",children:a?rh(a,"MM-dd HH:mm"):"-"})]},i.id)})})]})}const HF="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let lb=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=HF[n[t]&63];return e};function $F(t){return t.replace(/^\s*[-*]\s+/,"").replace(/^\s*\d+[\.|\)]\s+/,"").trim()}function WF(t){const e=t.replace(/\r\n/g,`
`).trim(),n=e.split(`
`),r=[];for(const i of n){const s=i.trim();if(!s||s.includes("|")||/^\s*\|?\s*:-{2,}/.test(s)||/^\s*\|?\s*-{3,}/.test(s))continue;const o=$F(s);o&&r.push({id:lb(),text:o,checked:!1,note:""})}return{steps:r,raw:e}}function ey(t){return $a(Qr,"labs",t,"items")}function GF(t,e,n){const r=ul(ey(t),Xu("parentId","==",e),Oa("type","asc"),Oa("updatedAt","desc"));return cl(r,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));n(s)})}function KF(t,e){const n=ul(ey(t),Oa("updatedAt","desc"));return cl(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));e(i)})}async function YF(t,e){const n={type:e.type,name:e.name,parentId:e.parentId,createdBy:e.createdBy,createdAt:Ai(),updatedAt:Ai()};return e.type==="note"&&(n.content=""),e.type==="timer"&&(n.durationSec=5*60,n.status="idle",n.startedAt=null),e.type==="protocol"&&(n.raw="",n.steps=[]),(await q4(ey(t),n)).id}async function Ar(t,e,n){await OO(Gd(Qr,"labs",t,"items",e),{...n,updatedAt:Ai()})}async function QF(t,e,n){await Ar(t,e,{name:n})}async function XF(t,e){const n=Gd(Qr,"labs",t,"items",e),r=await MO(n);if(!r.exists())return;const i=r.data();if(i.type==="file")try{await YL(Hx($x,i.storagePath))}catch{}await LO(n)}async function JF(t,e,n){const{steps:r,raw:i}=WF(n);await Ar(t,e,{steps:r,raw:i})}function K6(t,e,n){const r=new Blob([e],{type:n}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=t,s.click(),URL.revokeObjectURL(i)}function ZF({labId:t}){const[e,n]=W.useState(!1),{push:r}=dr();async function i(){n(!0);try{const s=ul($a(Qr,"labs",t,"items"),Oa("updatedAt","asc")),o=(await DO(s)).docs.map(S=>({id:S.id,...S.data()})),l=new Date,u=`Lab Tools Report (${rh(l,"yyyy-MM-dd HH:mm")})`,h=o.filter(S=>S.type==="note"),d=o.filter(S=>S.type==="protocol"),f=o.filter(S=>S.type==="timer"),m=o.filter(S=>S.type==="file");let y=`# ${u}

`;y+=`Generated from Lab Tools.

`,y+=`## Notes

`,h.length===0&&(y+=`_(none)_

`);for(const S of h)y+=`### ${S.name}

`,y+=`${S.content||"_(empty)_"}

`;y+=`## Protocols

`,d.length===0&&(y+=`_(none)_

`);for(const S of d)if(y+=`### ${S.name}

`,S.raw&&(y+=`${S.raw}

`),Array.isArray(S.steps)&&S.steps.length){y+=`**Checklist**

`;for(const x of S.steps)y+=`- [${x.checked?"x":" "}] ${x.text}${x.note?"  "+x.note:""}
`;y+=`
`}y+=`## Timers

`,f.length===0&&(y+=`_(none)_

`);for(const S of f)y+=`- **${S.name}**  ${S.status}, remaining/total: ${S.durationSec}s
`;y+=`
`,y+=`## Files

`,m.length===0&&(y+=`_(none)_

`);for(const S of m)y+=`- ${S.name} (${Math.round(S.size/1024)} KB)  ${S.downloadUrl}
`;y+=`
`;const w=`<!doctype html><html><head><meta charset="utf-8"/><title>${u}</title></head><body style="font-family: ui-sans-serif, system-ui; padding:24px; max-width: 900px; margin:0 auto;"><pre style="white-space:pre-wrap;">${eV(y)}</pre></body></html>`;K6(`lab-report-${rh(l,"yyyyMMdd-HHmm")}.md`,y,"text/markdown;charset=utf-8"),K6(`lab-report-${rh(l,"yyyyMMdd-HHmm")}.html`,w,"text/html;charset=utf-8"),r({title:"Exported",message:"Downloaded .md and .html"})}catch(s){r({title:"Export failed",message:(s==null?void 0:s.message)??"Please try again."})}finally{n(!1)}}return C.jsx(it,{variant:"secondary",onClick:i,disabled:e,leftIcon:C.jsx(lz,{size:16}),children:e?"Exporting":"Export report"})}function eV(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}function tV({labId:t,parentId:e,onCreated:n}){const r=W.useRef(null),{user:i}=Qs(),{push:s}=dr(),[a,o]=W.useState(!1);async function l(u){if(i){o(!0);try{const h=lb(),d=`labs/${t}/uploads/${Date.now()}_${h}_${u.name}`,f=Hx($x,d),m=GL(f,u);await new Promise((S,x)=>{m.on("state_changed",void 0,b=>x(b),()=>S())});const y=await KL(f),w=await q4($a(Qr,"labs",t,"items"),{type:"file",name:u.name,parentId:e,createdBy:i.uid,createdAt:Ai(),updatedAt:Ai(),mimeType:u.type||"application/octet-stream",originalName:u.name,size:u.size,storagePath:d,downloadUrl:y});n(w.id),s({title:"Uploaded",message:u.name})}catch(h){s({title:"Upload failed",message:(h==null?void 0:h.message)??"Please try again."})}finally{o(!1)}}}return C.jsxs(C.Fragment,{children:[C.jsx(it,{variant:"secondary",disabled:a,onClick:()=>{var u;return(u=r.current)==null?void 0:u.click()},leftIcon:C.jsx(_z,{size:16}),children:a?"Uploading":"Upload"}),C.jsx("input",{ref:r,type:"file",className:"hidden",onChange:u=>{var d;const h=(d=u.target.files)==null?void 0:d[0];h&&l(h),u.currentTarget.value=""}})]})}function nV({labId:t,currentFolderId:e,selectedItem:n,onCreated:r}){const{user:i}=Qs(),{push:s}=dr(),[a,o]=W.useState(!1),[l,u]=W.useState("note"),[h,d]=W.useState(""),[f,m]=W.useState(!1),[y,w]=W.useState(!1),[S,x]=W.useState("");async function b(){if(i){if(!h.trim()){s({title:"Missing name",message:"Please enter a name."});return}m(!0);try{const z=await YF(t,{type:l,name:h.trim(),parentId:e,createdBy:i.uid});o(!1),d(""),r(z)}catch(z){s({title:"Create failed",message:(z==null?void 0:z.message)??"Please try again."})}finally{m(!1)}}}async function E(){n&&confirm(`Delete "${n.name}"?`)&&await XF(t,n.id)}async function U(){if(!n)return;const z=S.trim();z&&(await QF(t,n.id,z),w(!1))}const q=!!n;return C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsx(it,{variant:"primary",onClick:()=>{o(!0),u("note"),d("")},leftIcon:C.jsx(Yx,{size:16}),children:"New"}),C.jsx(tV,{labId:t,parentId:e,onCreated:r}),C.jsx(ZF,{labId:t}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsx(it,{variant:"secondary",disabled:!q,onClick:()=>{n&&(x(n.name),w(!0))},leftIcon:C.jsx(yz,{size:16}),children:"Rename"}),C.jsx(it,{variant:"danger",disabled:!q,onClick:E,leftIcon:C.jsx(wz,{size:16}),children:"Delete"})]}),C.jsxs(x1,{open:a,title:"Create item",onClose:()=>o(!1),footer:C.jsxs("div",{className:"flex justify-end gap-2",children:[C.jsx(it,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),C.jsx(it,{onClick:b,disabled:f,children:f?"Creating":"Create"})]}),children:[C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsx(x0,{label:"Folder",icon:C.jsx(hz,{size:16}),active:l==="folder",onClick:()=>u("folder")}),C.jsx(x0,{label:"Note",icon:C.jsx(Qx,{size:16}),active:l==="note",onClick:()=>u("note")}),C.jsx(x0,{label:"Timer",icon:C.jsx(Z4,{size:16}),active:l==="timer",onClick:()=>u("timer")}),C.jsx(x0,{label:"Protocol",icon:C.jsx(Kx,{size:16}),active:l==="protocol",onClick:()=>u("protocol")})]}),C.jsx("div",{className:"mt-3",children:C.jsx(Ci,{label:"Name",placeholder:l==="folder"?"New Folder":"Untitled",value:h,onChange:z=>d(z.target.value)})}),C.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Tip: doubleclick a folder to open it. Select an item to see its details on the right."})]}),C.jsx(x1,{open:y,title:"Rename",onClose:()=>w(!1),footer:C.jsxs("div",{className:"flex justify-end gap-2",children:[C.jsx(it,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),C.jsx(it,{onClick:U,children:"Save"})]}),children:C.jsx(Ci,{label:"Name",value:S,onChange:z=>x(z.target.value)})})]})}function x0({label:t,icon:e,active:n,onClick:r}){return C.jsx("button",{className:"rounded-2xl border px-3 py-3 text-left transition "+(n?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:r,type:"button",children:C.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e,t]})})}function Y6(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&e.push(a),i=r+1,r=n.indexOf(",",i)}return e}function rV(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aV={};function Q6(t,e){return(aV.jsx?sV:iV).test(t)}const oV=/[ \t\n\f\r]/g;function lV(t){return typeof t=="object"?t.type==="text"?X6(t.value):!1:X6(t)}function X6(t){return t.replace(oV,"")===""}class Sc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Sc.prototype.normal={};Sc.prototype.property={};Sc.prototype.space=void 0;function ub(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Sc(n,r,e)}function ec(t){return t.toLowerCase()}class Nn{constructor(e,n){this.attribute=n,this.property=e}}Nn.prototype.attribute="";Nn.prototype.booleanish=!1;Nn.prototype.boolean=!1;Nn.prototype.commaOrSpaceSeparated=!1;Nn.prototype.commaSeparated=!1;Nn.prototype.defined=!1;Nn.prototype.mustUseProperty=!1;Nn.prototype.number=!1;Nn.prototype.overloadedBoolean=!1;Nn.prototype.property="";Nn.prototype.spaceSeparated=!1;Nn.prototype.space=void 0;let uV=0;const Te=Ga(),Ct=Ga(),b1=Ga(),ne=Ga(),Xe=Ga(),Lo=Ga(),Vn=Ga();function Ga(){return 2**++uV}const k1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:Ct,commaOrSpaceSeparated:Vn,commaSeparated:Lo,number:ne,overloadedBoolean:b1,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),wm=Object.keys(k1);class ty extends Nn{constructor(e,n,r,i){let s=-1;if(super(e,n),J6(this,"space",i),typeof r=="number")for(;++s<wm.length;){const a=wm[s];J6(this,wm[s],(r&k1[a])===k1[a])}}}ty.prototype.defined=!0;function J6(t,e,n){n&&(t[e]=n)}function dl(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new ty(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[ec(r)]=r,n[ec(s.attribute)]=r}return new Sc(e,n,t.space)}const cb=dl({properties:{ariaActiveDescendant:null,ariaAtomic:Ct,ariaAutoComplete:null,ariaBusy:Ct,ariaChecked:Ct,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:Ct,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:Ct,ariaFlowTo:Xe,ariaGrabbed:Ct,ariaHasPopup:null,ariaHidden:Ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:ne,ariaLive:null,ariaModal:Ct,ariaMultiLine:Ct,ariaMultiSelectable:Ct,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:Ct,ariaReadOnly:Ct,ariaRelevant:null,ariaRequired:Ct,ariaRoleDescription:Xe,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:Ct,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function hb(t,e){return e in t?t[e]:e}function db(t,e){return hb(t,e.toLowerCase())}const cV=dl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Lo,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:Xe,autoFocus:Te,autoPlay:Te,blocking:Xe,capture:null,charSet:null,checked:Te,cite:null,className:Xe,cols:ne,colSpan:null,content:null,contentEditable:Ct,controls:Te,controlsList:Xe,coords:ne|Lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:b1,draggable:Ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:Xe,height:ne,hidden:b1,high:ne,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:Te,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:ne,pattern:null,ping:Xe,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:Xe,required:Te,reversed:Te,rows:ne,rowSpan:ne,sandbox:Xe,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:Ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:Ct,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:Ct,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:db}),hV=dl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Lo,g2:Lo,glyphName:Lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:Vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vn,rev:Vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vn,requiredFeatures:Vn,requiredFonts:Vn,requiredFormats:Vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:Vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hb}),fb=dl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),mb=dl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:db}),pb=dl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),dV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fV=/[A-Z]/g,Z6=/-[a-z]/g,mV=/^data[-\w.:]+$/i;function gb(t,e){const n=ec(e);let r=e,i=Nn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mV.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Z6,gV);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Z6.test(s)){let a=s.replace(fV,pV);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=ty}return new i(r,e)}function pV(t){return"-"+t.toLowerCase()}function gV(t){return t.charAt(1).toUpperCase()}const yb=ub([cb,cV,fb,mb,pb],"html"),tf=ub([cb,hV,fb,mb,pb],"svg");function e5(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function yV(t){return t.join(" ").trim()}var ny={},t5=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,vV=/\n/g,wV=/^\s*/,_V=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xV=/^:\s*/,bV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,kV=/^[;\s]*/,EV=/^\s+|\s+$/g,SV=`
`,n5="/",r5="*",ma="",TV="comment",IV="declaration";function AV(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var w=y.match(vV);w&&(n+=w.length);var S=y.lastIndexOf(SV);r=~S?y.length-S:r+y.length}function s(){var y={line:n,column:r};return function(w){return w.position=new a(y),u(),w}}function a(y){this.start=y,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(y){var w=new Error(e.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(y){var w=y.exec(t);if(w){var S=w[0];return i(S),t=t.slice(S.length),w}}function u(){l(wV)}function h(y){var w;for(y=y||[];w=d();)w!==!1&&y.push(w);return y}function d(){var y=s();if(!(n5!=t.charAt(0)||r5!=t.charAt(1))){for(var w=2;ma!=t.charAt(w)&&(r5!=t.charAt(w)||n5!=t.charAt(w+1));)++w;if(w+=2,ma===t.charAt(w-1))return o("End of comment missing");var S=t.slice(2,w-2);return r+=2,i(S),t=t.slice(w),r+=2,y({type:TV,comment:S})}}function f(){var y=s(),w=l(_V);if(w){if(d(),!l(xV))return o("property missing ':'");var S=l(bV),x=y({type:IV,property:i5(w[0].replace(t5,ma)),value:S?i5(S[0].replace(t5,ma)):ma});return l(kV),x}}function m(){var y=[];h(y);for(var w;w=f();)w!==!1&&(y.push(w),h(y));return y}return u(),m()}function i5(t){return t?t.replace(EV,ma):ma}var CV=AV,RV=lh&&lh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ny,"__esModule",{value:!0});ny.default=NV;const PV=RV(CV);function NV(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,PV.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;i?e(a,o,s):o&&(n=n||{},n[a]=o)}),n}var nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.camelCase=void 0;var MV=/^--[a-zA-Z0-9_-]+$/,DV=/-([a-z])/g,OV=/^[^-]+$/,LV=/^-(webkit|moz|ms|o|khtml)-/,zV=/^-(ms)-/,FV=function(t){return!t||OV.test(t)||MV.test(t)},VV=function(t,e){return e.toUpperCase()},s5=function(t,e){return"".concat(e,"-")},BV=function(t,e){return e===void 0&&(e={}),FV(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(zV,s5):t=t.replace(LV,s5),t.replace(DV,VV))};nf.camelCase=BV;var UV=lh&&lh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},jV=UV(ny),qV=nf;function E1(t,e){var n={};return!t||typeof t!="string"||(0,jV.default)(t,function(r,i){r&&i&&(n[(0,qV.camelCase)(r,e)]=i)}),n}E1.default=E1;var HV=E1;const $V=H1(HV),vb=wb("end"),ry=wb("start");function wb(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function WV(t){const e=ry(t),n=vb(t);if(e&&n)return{start:e,end:n}}function gu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?a5(t.position):"start"in t||"end"in t?a5(t):"line"in t||"column"in t?S1(t):""}function S1(t){return o5(t&&t.line)+":"+o5(t&&t.column)}function a5(t){return S1(t&&t.start)+"-"+S1(t&&t.end)}function o5(t){return t&&typeof t=="number"?t:1}class un extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=gu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const iy={}.hasOwnProperty,GV=new Map,KV=/[A-Z]/g,YV=new Set(["table","tbody","thead","tfoot","tr"]),QV=new Set(["td","th"]),_b="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=sB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=iB(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?tf:yb,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=xb(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function xb(t,e,n){if(e.type==="element")return JV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ZV(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return tB(t,e,n);if(e.type==="mdxjsEsm")return eB(t,e);if(e.type==="root")return nB(t,e,n);if(e.type==="text")return rB(t,e)}function JV(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=tf,t.schema=i),t.ancestors.push(e);const s=kb(t,e.tagName,!1),a=aB(t,e);let o=ay(t,e);return YV.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!lV(l):!0})),bb(t,a,s,e),sy(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function ZV(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}tc(t,e.position)}function eB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tc(t,e.position)}function tB(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=tf,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:kb(t,e.name,!0),a=oB(t,e),o=ay(t,e);return bb(t,a,s,e),sy(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function nB(t,e,n){const r={};return sy(r,ay(t,e)),t.create(e,t.Fragment,r,n)}function rB(t,e){return e.value}function bb(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function sy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function iB(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function sB(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=ry(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function aB(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&iy.call(e.properties,i)){const s=lB(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&QV.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function oB(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else tc(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else tc(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ay(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:GV;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=xb(t,s,a);o!==void 0&&n.push(o)}return n}function lB(t,e,n){const r=gb(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rV(n):yV(n)),r.property==="style"){let i=typeof n=="object"?n:uB(t,String(n));return t.stylePropertyNameCase==="css"&&(i=cB(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?dV[r.property]||r.property:r.attribute,n]}}function uB(t,e){try{return $V(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new un("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=_b+"#cannot-parse-style-attribute",i}}function kb(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=Q6(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Q6(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return iy.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);tc(t)}function tc(t,e){const n=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=_b+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cB(t){const e={};let n;for(n in t)iy.call(t,n)&&(e[hB(n)]=t[n]);return e}function hB(t){let e=t.replace(KV,dB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function dB(t){return"-"+t.toLowerCase()}const _m={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fB={};function oy(t,e){const n=fB,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Eb(t,r,i)}function Eb(t,e,n){if(mB(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return l5(t.children,e,n)}return Array.isArray(t)?l5(t,e,n):""}function l5(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Eb(t[i],e,n);return r.join("")}function mB(t){return!!(t&&typeof t=="object")}const u5=document.createElement("i");function ly(t){const e="&"+t+";";u5.innerHTML=e;const n=u5.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Gn(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function nr(t,e){return t.length>0?(Gn(t,t.length,0,e),t):e}const c5={}.hasOwnProperty;function Sb(t){const e={};let n=-1;for(;++n<t.length;)pB(e,t[n]);return e}function pB(t,e){let n;for(n in e){const i=(c5.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){c5.call(i,a)||(i[a]=[]);const o=s[a];gB(i[a],Array.isArray(o)?o:o?[o]:[])}}}function gB(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Gn(t,0,0,r)}function Tb(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Er(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pn=Xs(/[A-Za-z]/),an=Xs(/[\dA-Za-z]/),yB=Xs(/[#-'*+\--9=?A-Z^-~]/);function nd(t){return t!==null&&(t<32||t===127)}const T1=Xs(/\d/),vB=Xs(/[\dA-Fa-f]/),wB=Xs(/[!-/:-@[-`{-~]/);function de(t){return t!==null&&t<-2}function Ke(t){return t!==null&&(t<0||t===32)}function Pe(t){return t===-2||t===-1||t===32}const rf=Xs(new RegExp("\\p{P}|\\p{S}","u")),za=Xs(/\s/);function Xs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function fl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&an(t.charCodeAt(n+1))&&an(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Re(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Pe(l)?(t.enter(n),o(l)):e(l)}function o(l){return Pe(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const _B={tokenize:xB};function xB(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Re(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return de(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const bB={tokenize:kB},h5={tokenize:EB};function kB(t){const e=this,n=[];let r=0,i,s,a;return o;function o(E){if(r<n.length){const U=n[r];return e.containerState=U[1],t.attempt(U[0].continuation,l,u)(E)}return u(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const U=e.events.length;let q=U,z;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){z=e.events[q][1].end;break}x(r);let N=U;for(;N<e.events.length;)e.events[N][1].end={...z},N++;return Gn(e.events,q+1,0,e.events.slice(U)),e.events.length=N,u(E)}return o(E)}function u(E){if(r===n.length){if(!i)return f(E);if(i.currentConstruct&&i.currentConstruct.concrete)return y(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(h5,h,d)(E)}function h(E){return i&&b(),x(r),f(E)}function d(E){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,y(E)}function f(E){return e.containerState={},t.attempt(h5,m,y)(E)}function m(E){return r++,n.push([e.currentConstruct,e.containerState]),f(E)}function y(E){if(E===null){i&&b(),x(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(E)}function w(E){if(E===null){S(t.exit("chunkFlow"),!0),x(0),t.consume(E);return}return de(E)?(t.consume(E),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(E),w)}function S(E,U){const q=e.sliceStream(E);if(U&&q.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(q),e.parser.lazy[E.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<a&&(!i.events[z][1].end||i.events[z][1].end.offset>a))return;const N=e.events.length;let I=N,P,T;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(P){T=e.events[I][1].end;break}P=!0}for(x(r),z=N;z<e.events.length;)e.events[z][1].end={...T},z++;Gn(e.events,I+1,0,e.events.slice(N)),e.events.length=z}}function x(E){let U=n.length;for(;U-- >E;){const q=n[U];e.containerState=q[1],q[0].exit.call(e,t)}n.length=E}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function EB(t,e,n){return Re(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qo(t){if(t===null||Ke(t)||za(t))return 1;if(rf(t))return 2}function sf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const I1={name:"attention",resolveAll:SB,tokenize:TB};function SB(t,e){let n=-1,r,i,s,a,o,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};d5(d,-l),d5(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=nr(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=nr(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=nr(u,sf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=nr(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=nr(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Gn(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function TB(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Qo(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const u=t.exit("attentionSequence"),h=Qo(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(h||!d)),e(l)}}function d5(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const IB={name:"autolink",tokenize:AB};function AB(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return pn(m)?(t.consume(m),a):m===64?n(m):u(m)}function a(m){return m===43||m===45||m===46||an(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||an(m))&&r++<32?(t.consume(m),o):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||nd(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),h):yB(m)?(t.consume(m),u):n(m)}function h(m){return an(m)?d(m):n(m)}function d(m){return m===46?(t.consume(m),r=0,h):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):f(m)}function f(m){if((m===45||an(m))&&r++<63){const y=m===45?f:d;return t.consume(m),y}return n(m)}}const Tc={partial:!0,tokenize:CB};function CB(t,e,n){return r;function r(s){return Pe(s)?Re(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||de(s)?e(s):n(s)}}const Ib={continuation:{tokenize:PB},exit:NB,name:"blockQuote",tokenize:RB};function RB(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Pe(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function PB(t,e,n){const r=this;return i;function i(a){return Pe(a)?Re(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(Ib,e,n)(a)}}function NB(t){t.exit("blockQuote")}const Ab={name:"characterEscape",tokenize:MB};function MB(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return wB(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Cb={name:"characterReference",tokenize:DB};function DB(t,e,n){const r=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=an,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=vB,h):(t.enter("characterReferenceValue"),s=7,a=T1,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return a===an&&!ly(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),h):n(d)}}const f5={partial:!0,tokenize:LB},m5={concrete:!0,name:"codeFenced",tokenize:OB};function OB(t,e,n){const r=this,i={partial:!0,tokenize:q};let s=0,a=0,o;return l;function l(z){return u(z)}function u(z){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(z)}function h(z){return z===o?(a++,t.consume(z),h):a<3?n(z):(t.exit("codeFencedFenceSequence"),Pe(z)?Re(t,d,"whitespace")(z):d(z))}function d(z){return z===null||de(z)?(t.exit("codeFencedFence"),r.interrupt?e(z):t.check(f5,w,U)(z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(z))}function f(z){return z===null||de(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(z)):Pe(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Re(t,m,"whitespace")(z)):z===96&&z===o?n(z):(t.consume(z),f)}function m(z){return z===null||de(z)?d(z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(z))}function y(z){return z===null||de(z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(z)):z===96&&z===o?n(z):(t.consume(z),y)}function w(z){return t.attempt(i,U,S)(z)}function S(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),x}function x(z){return s>0&&Pe(z)?Re(t,b,"linePrefix",s+1)(z):b(z)}function b(z){return z===null||de(z)?t.check(f5,w,U)(z):(t.enter("codeFlowValue"),E(z))}function E(z){return z===null||de(z)?(t.exit("codeFlowValue"),b(z)):(t.consume(z),E)}function U(z){return t.exit("codeFenced"),e(z)}function q(z,N,I){let P=0;return T;function T(me){return z.enter("lineEnding"),z.consume(me),z.exit("lineEnding"),M}function M(me){return z.enter("codeFencedFence"),Pe(me)?Re(z,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):V(me)}function V(me){return me===o?(z.enter("codeFencedFenceSequence"),D(me)):I(me)}function D(me){return me===o?(P++,z.consume(me),D):P>=a?(z.exit("codeFencedFenceSequence"),Pe(me)?Re(z,ye,"whitespace")(me):ye(me)):I(me)}function ye(me){return me===null||de(me)?(z.exit("codeFencedFence"),N(me)):I(me)}}}function LB(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const xm={name:"codeIndented",tokenize:FB},zB={partial:!0,tokenize:VB};function FB(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Re(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):de(u)?t.attempt(zB,a,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||de(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function VB(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):de(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Re(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):de(a)?i(a):n(a)}}const BB={name:"codeText",previous:jB,resolve:UB,tokenize:qB};function UB(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function jB(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qB(t,e,n){let r=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):de(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||de(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class HB{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ul(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ul(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ul(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ul(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ul(this.left,n.reverse())}}}function Ul(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Rb(t){const e={};let n=-1,r,i,s,a,o,l,u;const h=new HB(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,$B(h,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},o=h.slice(i,n),o.unshift(r),h.splice(i,n-i+1,o))}}return Gn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function $B(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let h,d,f=-1,m=n,y=0,w=0;const S=[w];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),d&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(w=f+1,S.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):S.pop(),f=S.length;f--;){const x=o.slice(S[f],S[f+1]),b=s.pop();l.push([b,b+x.length-1]),t.splice(b,2,x)}for(l.reverse(),f=-1;++f<l.length;)u[y+l[f][0]]=y+l[f][1],y+=l[f][1]-l[f][0]-1;return u}const WB={resolve:KB,tokenize:YB},GB={partial:!0,tokenize:QB};function KB(t){return Rb(t),t}function YB(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):de(o)?t.check(GB,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function QB(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Re(t,s,"linePrefix")}function s(a){if(a===null||de(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function Pb(t,e,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(x){return x===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(x),t.exit(s),f):x===null||x===32||x===41||nd(x)?n(x):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),w(x))}function f(x){return x===62?(t.enter(s),t.consume(x),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(t.exit("chunkString"),t.exit(o),f(x)):x===null||x===60||de(x)?n(x):(t.consume(x),x===92?y:m)}function y(x){return x===60||x===62||x===92?(t.consume(x),m):m(x)}function w(x){return!h&&(x===null||x===41||Ke(x))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(x)):h<u&&x===40?(t.consume(x),h++,w):x===41?(t.consume(x),h--,w):x===null||x===32||x===40||nd(x)?n(x):(t.consume(x),x===92?S:w)}function S(x){return x===40||x===41||x===92?(t.consume(x),w):w(x)}}function Nb(t,e,n,r,i,s){const a=this;let o=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):de(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||de(m)||o++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l||(l=!Pe(m)),m===92?f:d)}function f(m){return m===91||m===92||m===93?(t.consume(m),o++,d):d(m)}}function Mb(t,e,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===a?(t.exit(s),l(a)):f===null?n(f):de(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Re(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===a||f===null||de(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===a||f===92?(t.consume(f),h):h(f)}}function yu(t,e){let n;return r;function r(i){return de(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Pe(i)?Re(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const XB={name:"definition",tokenize:ZB},JB={partial:!0,tokenize:eU};function ZB(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),a(m)}function a(m){return Nb.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=Er(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Ke(m)?yu(t,u)(m):u(m)}function u(m){return Pb(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return t.attempt(JB,d,d)(m)}function d(m){return Pe(m)?Re(t,f,"whitespace")(m):f(m)}function f(m){return m===null||de(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function eU(t,e,n){return r;function r(o){return Ke(o)?yu(t,i)(o):n(o)}function i(o){return Mb(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Pe(o)?Re(t,a,"whitespace")(o):a(o)}function a(o){return o===null||de(o)?e(o):n(o)}}const tU={name:"hardBreakEscape",tokenize:nU};function nU(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return de(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const rU={name:"headingAtx",resolve:iU,tokenize:sU};function iU(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Gn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function sU(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||Ke(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||de(h)?(t.exit("atxHeading"),e(h)):Pe(h)?Re(t,o,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function u(h){return h===null||h===35||Ke(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),u)}}const aU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],p5=["pre","script","style","textarea"],oU={concrete:!0,name:"htmlFlow",resolveTo:cU,tokenize:hU},lU={partial:!0,tokenize:fU},uU={partial:!0,tokenize:dU};function cU(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function hU(t,e,n){const r=this;let i,s,a,o,l;return u;function u(B){return h(B)}function h(B){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(B),d}function d(B){return B===33?(t.consume(B),f):B===47?(t.consume(B),s=!0,w):B===63?(t.consume(B),i=3,r.interrupt?e:O):pn(B)?(t.consume(B),a=String.fromCharCode(B),S):n(B)}function f(B){return B===45?(t.consume(B),i=2,m):B===91?(t.consume(B),i=5,o=0,y):pn(B)?(t.consume(B),i=4,r.interrupt?e:O):n(B)}function m(B){return B===45?(t.consume(B),r.interrupt?e:O):n(B)}function y(B){const tt="CDATA[";return B===tt.charCodeAt(o++)?(t.consume(B),o===tt.length?r.interrupt?e:V:y):n(B)}function w(B){return pn(B)?(t.consume(B),a=String.fromCharCode(B),S):n(B)}function S(B){if(B===null||B===47||B===62||Ke(B)){const tt=B===47,lt=a.toLowerCase();return!tt&&!s&&p5.includes(lt)?(i=1,r.interrupt?e(B):V(B)):aU.includes(a.toLowerCase())?(i=6,tt?(t.consume(B),x):r.interrupt?e(B):V(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?b(B):E(B))}return B===45||an(B)?(t.consume(B),a+=String.fromCharCode(B),S):n(B)}function x(B){return B===62?(t.consume(B),r.interrupt?e:V):n(B)}function b(B){return Pe(B)?(t.consume(B),b):T(B)}function E(B){return B===47?(t.consume(B),T):B===58||B===95||pn(B)?(t.consume(B),U):Pe(B)?(t.consume(B),E):T(B)}function U(B){return B===45||B===46||B===58||B===95||an(B)?(t.consume(B),U):q(B)}function q(B){return B===61?(t.consume(B),z):Pe(B)?(t.consume(B),q):E(B)}function z(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),l=B,N):Pe(B)?(t.consume(B),z):I(B)}function N(B){return B===l?(t.consume(B),l=null,P):B===null||de(B)?n(B):(t.consume(B),N)}function I(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Ke(B)?q(B):(t.consume(B),I)}function P(B){return B===47||B===62||Pe(B)?E(B):n(B)}function T(B){return B===62?(t.consume(B),M):n(B)}function M(B){return B===null||de(B)?V(B):Pe(B)?(t.consume(B),M):n(B)}function V(B){return B===45&&i===2?(t.consume(B),Ue):B===60&&i===1?(t.consume(B),Oe):B===62&&i===4?(t.consume(B),Ee):B===63&&i===3?(t.consume(B),O):B===93&&i===5?(t.consume(B),he):de(B)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(lU,ve,D)(B)):B===null||de(B)?(t.exit("htmlFlowData"),D(B)):(t.consume(B),V)}function D(B){return t.check(uU,ye,ve)(B)}function ye(B){return t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),me}function me(B){return B===null||de(B)?D(B):(t.enter("htmlFlowData"),V(B))}function Ue(B){return B===45?(t.consume(B),O):V(B)}function Oe(B){return B===47?(t.consume(B),a="",re):V(B)}function re(B){if(B===62){const tt=a.toLowerCase();return p5.includes(tt)?(t.consume(B),Ee):V(B)}return pn(B)&&a.length<8?(t.consume(B),a+=String.fromCharCode(B),re):V(B)}function he(B){return B===93?(t.consume(B),O):V(B)}function O(B){return B===62?(t.consume(B),Ee):B===45&&i===2?(t.consume(B),O):V(B)}function Ee(B){return B===null||de(B)?(t.exit("htmlFlowData"),ve(B)):(t.consume(B),Ee)}function ve(B){return t.exit("htmlFlow"),e(B)}}function dU(t,e,n){const r=this;return i;function i(a){return de(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function fU(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Tc,e,n)}}const mU={name:"htmlText",tokenize:pU};function pU(t,e,n){const r=this;let i,s,a;return o;function o(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),l}function l(O){return O===33?(t.consume(O),u):O===47?(t.consume(O),q):O===63?(t.consume(O),E):pn(O)?(t.consume(O),I):n(O)}function u(O){return O===45?(t.consume(O),h):O===91?(t.consume(O),s=0,y):pn(O)?(t.consume(O),b):n(O)}function h(O){return O===45?(t.consume(O),m):n(O)}function d(O){return O===null?n(O):O===45?(t.consume(O),f):de(O)?(a=d,Oe(O)):(t.consume(O),d)}function f(O){return O===45?(t.consume(O),m):d(O)}function m(O){return O===62?Ue(O):O===45?f(O):d(O)}function y(O){const Ee="CDATA[";return O===Ee.charCodeAt(s++)?(t.consume(O),s===Ee.length?w:y):n(O)}function w(O){return O===null?n(O):O===93?(t.consume(O),S):de(O)?(a=w,Oe(O)):(t.consume(O),w)}function S(O){return O===93?(t.consume(O),x):w(O)}function x(O){return O===62?Ue(O):O===93?(t.consume(O),x):w(O)}function b(O){return O===null||O===62?Ue(O):de(O)?(a=b,Oe(O)):(t.consume(O),b)}function E(O){return O===null?n(O):O===63?(t.consume(O),U):de(O)?(a=E,Oe(O)):(t.consume(O),E)}function U(O){return O===62?Ue(O):E(O)}function q(O){return pn(O)?(t.consume(O),z):n(O)}function z(O){return O===45||an(O)?(t.consume(O),z):N(O)}function N(O){return de(O)?(a=N,Oe(O)):Pe(O)?(t.consume(O),N):Ue(O)}function I(O){return O===45||an(O)?(t.consume(O),I):O===47||O===62||Ke(O)?P(O):n(O)}function P(O){return O===47?(t.consume(O),Ue):O===58||O===95||pn(O)?(t.consume(O),T):de(O)?(a=P,Oe(O)):Pe(O)?(t.consume(O),P):Ue(O)}function T(O){return O===45||O===46||O===58||O===95||an(O)?(t.consume(O),T):M(O)}function M(O){return O===61?(t.consume(O),V):de(O)?(a=M,Oe(O)):Pe(O)?(t.consume(O),M):P(O)}function V(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),i=O,D):de(O)?(a=V,Oe(O)):Pe(O)?(t.consume(O),V):(t.consume(O),ye)}function D(O){return O===i?(t.consume(O),i=void 0,me):O===null?n(O):de(O)?(a=D,Oe(O)):(t.consume(O),D)}function ye(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||Ke(O)?P(O):(t.consume(O),ye)}function me(O){return O===47||O===62||Ke(O)?P(O):n(O)}function Ue(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function Oe(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),re}function re(O){return Pe(O)?Re(t,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):he(O)}function he(O){return t.enter("htmlTextData"),a(O)}}const uy={name:"labelEnd",resolveAll:wU,resolveTo:_U,tokenize:xU},gU={tokenize:bU},yU={tokenize:kU},vU={tokenize:EU};function wU(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Gn(t,0,t.length,n),t}function _U(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=nr(o,t.slice(s+1,s+r+3)),o=nr(o,[["enter",h,e]]),o=nr(o,sf(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=nr(o,[["exit",h,e],t[a-2],t[a-1],["exit",u,e]]),o=nr(o,t.slice(a+1)),o=nr(o,[["exit",l,e]]),Gn(t,s,t.length,o),t}function xU(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?d(f):(a=r.parser.defined.includes(Er(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(gU,h,a?h:d)(f):f===91?t.attempt(yU,h,a?u:d)(f):a?h(f):d(f)}function u(f){return t.attempt(vU,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function bU(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ke(d)?yu(t,s)(d):s(d)}function s(d){return d===41?h(d):Pb(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Ke(d)?yu(t,l)(d):h(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?Mb(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return Ke(d)?yu(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function kU(t,e,n){const r=this;return i;function i(o){return Nb.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Er(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function EU(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const SU={name:"labelStartImage",resolveAll:uy.resolveAll,tokenize:TU};function TU(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const IU={name:"labelStartLink",resolveAll:uy.resolveAll,tokenize:AU};function AU(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const bm={name:"lineEnding",tokenize:CU};function CU(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Re(t,e,"linePrefix")}}const ih={name:"thematicBreak",tokenize:RU};function RU(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||de(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Pe(u)?Re(t,o,"whitespace")(u):o(u))}}const xn={continuation:{tokenize:DU},exit:LU,name:"list",tokenize:MU},PU={partial:!0,tokenize:zU},NU={partial:!0,tokenize:OU};function MU(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:T1(m)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(ih,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return T1(m)&&++a<10?(t.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Tc,r.interrupt?n:h,t.attempt(PU,f,d))}function h(m){return r.containerState.initialBlankLine=!0,s++,f(m)}function d(m){return Pe(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function DU(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Tc,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Pe(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(NU,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(t,t.attempt(xn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function OU(t,e,n){const r=this;return Re(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function LU(t){t.exit(this.containerState.type)}function zU(t,e,n){const r=this;return Re(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Pe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const g5={name:"setextUnderline",resolveTo:FU,tokenize:VU};function FU(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function VU(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Pe(u)?Re(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||de(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const BU={tokenize:UU};function UU(t){const e=this,n=t.attempt(Tc,r,t.attempt(this.parser.constructs.flowInitial,i,Re(t,t.attempt(this.parser.constructs.flow,i,t.attempt(WB,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const jU={resolveAll:Ob()},qU=Db("string"),HU=Db("text");function Db(t){return{resolveAll:Ob(t==="text"?$U:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(h){return u(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const m=d[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ob(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function $U(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const WU={42:xn,43:xn,45:xn,48:xn,49:xn,50:xn,51:xn,52:xn,53:xn,54:xn,55:xn,56:xn,57:xn,62:Ib},GU={91:XB},KU={[-2]:xm,[-1]:xm,32:xm},YU={35:rU,42:ih,45:[g5,ih],60:oU,61:g5,95:ih,96:m5,126:m5},QU={38:Cb,92:Ab},XU={[-5]:bm,[-4]:bm,[-3]:bm,33:SU,38:Cb,42:I1,60:[IB,mU],91:IU,92:[tU,Ab],93:uy,95:I1,96:BB},JU={null:[I1,jU]},ZU={null:[42,95]},ej={null:[]},tj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZU,contentInitial:GU,disable:ej,document:WU,flow:YU,flowInitial:KU,insideSpan:JU,string:QU,text:XU},Symbol.toStringTag,{value:"Module"}));function nj(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:N(q),check:N(z),consume:b,enter:E,exit:U,interrupt:N(z,{interrupt:!0})},u={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:t,previous:null,sliceSerialize:f,sliceStream:m,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(M){return a=nr(a,M),S(),a[a.length-1]!==null?[]:(I(e,0),u.events=sf(s,u.events,u),u.events)}function f(M,V){return ij(m(M),V)}function m(M){return rj(a,M)}function y(){const{_bufferIndex:M,_index:V,line:D,column:ye,offset:me}=r;return{_bufferIndex:M,_index:V,line:D,column:ye,offset:me}}function w(M){i[M.line]=M.column,T()}function S(){let M;for(;r._index<a.length;){const V=a[r._index];if(typeof V=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<V.length;)x(V.charCodeAt(r._bufferIndex));else x(V)}}function x(M){h=h(M)}function b(M){de(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,T()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=M}function E(M,V){const D=V||{};return D.type=M,D.start=y(),u.events.push(["enter",D,u]),o.push(D),D}function U(M){const V=o.pop();return V.end=y(),u.events.push(["exit",V,u]),V}function q(M,V){I(M,V.from)}function z(M,V){V.restore()}function N(M,V){return D;function D(ye,me,Ue){let Oe,re,he,O;return Array.isArray(ye)?ve(ye):"tokenize"in ye?ve([ye]):Ee(ye);function Ee(je){return wt;function wt(Ut){const Dn=Ut!==null&&je[Ut],Qt=Ut!==null&&je.null,fr=[...Array.isArray(Dn)?Dn:Dn?[Dn]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return ve(fr)(Ut)}}function ve(je){return Oe=je,re=0,je.length===0?Ue:B(je[re])}function B(je){return wt;function wt(Ut){return O=P(),he=je,je.partial||(u.currentConstruct=je),je.name&&u.parser.constructs.disable.null.includes(je.name)?lt():je.tokenize.call(V?Object.assign(Object.create(u),V):u,l,tt,lt)(Ut)}}function tt(je){return M(he,O),me}function lt(je){return O.restore(),++re<Oe.length?B(Oe[re]):Ue}}}function I(M,V){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&Gn(u.events,V,u.events.length-V,M.resolve(u.events.slice(V),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function P(){const M=y(),V=u.previous,D=u.currentConstruct,ye=u.events.length,me=Array.from(o);return{from:ye,restore:Ue};function Ue(){r=M,u.previous=V,u.currentConstruct=D,u.events.length=ye,o=me,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rj(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function ij(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function sj(t){const r={constructs:Sb([tj,...(t||{}).extensions||[]]),content:i(_B),defined:[],document:i(bB),flow:i(BU),lazy:{},string:i(qU),text:i(HU)};return r;function i(s){return a;function a(o){return nj(r,s,o)}}}function aj(t){for(;!Rb(t););return t}const y5=/[\0\t\n\r]/g;function oj(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let u,h,d,f,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(y5.lastIndex=d,u=y5.exec(s),f=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(f),!u){e=s.slice(d);break}if(m===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const lj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uj(t){return t.replace(lj,cj)}function cj(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Tb(n.slice(s?2:1),s?16:10)}return ly(n)||t}const Lb={}.hasOwnProperty;function hj(t,e,n){return typeof e!="string"&&(n=e,e=void 0),dj(n)(aj(sj(n).document().write(oj()(t,e,!0))))}function dj(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Cr),autolinkProtocol:P,autolinkEmail:P,atxHeading:s(ni),blockQuote:s(Qt),characterEscape:P,characterReference:P,codeFenced:s(fr),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(fr,a),codeText:s(Zs,a),codeTextData:P,data:P,codeFlowValue:P,definition:s(ea),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(ti),hardBreakEscape:s(zi),hardBreakTrailing:s(zi),htmlFlow:s(Fi,a),htmlFlowData:P,htmlText:s(Fi,a),htmlTextData:P,image:s(Vi),label:a,link:s(Cr),listItem:s(Nc),listItemValue:f,listOrdered:s(Qa,d),listUnordered:s(Qa),paragraph:s(pf),reference:B,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ni),strong:s(gl),thematicBreak:s(Mc)},exit:{atxHeading:l(),atxHeadingSequence:q,autolink:l(),autolinkEmail:Dn,autolinkProtocol:Ut,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:lt,characterReferenceMarkerNumeric:lt,characterReferenceValue:je,characterReference:wt,codeFenced:l(S),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:T,codeIndented:l(x),codeText:l(me),codeTextData:T,data:T,definition:l(),definitionDestinationString:U,definitionLabelString:b,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l(D),htmlFlowData:T,htmlText:l(ye),htmlTextData:T,image:l(Oe),label:he,labelText:re,lineEnding:M,link:l(Ue),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:tt,resourceDestinationString:O,resourceTitleString:Ee,resource:ve,setextHeading:l(I),setextHeadingLineSequence:N,setextHeadingText:z,strong:l(),thematicBreak:l()}};zb(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(K){let Z={type:"root",children:[]};const xe={stack:[Z],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:h,data:n},Ce=[];let qe=-1;for(;++qe<K.length;)if(K[qe][1].type==="listOrdered"||K[qe][1].type==="listUnordered")if(K[qe][0]==="enter")Ce.push(qe);else{const On=Ce.pop();qe=i(K,On,qe)}for(qe=-1;++qe<K.length;){const On=e[K[qe][0]];Lb.call(On,K[qe][1].type)&&On[K[qe][1].type].call(Object.assign({sliceSerialize:K[qe][2].sliceSerialize},xe),K[qe][1])}if(xe.tokenStack.length>0){const On=xe.tokenStack[xe.tokenStack.length-1];(On[1]||v5).call(xe,void 0,On[0])}for(Z.position={start:Ki(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ki(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)Z=e.transforms[qe](Z)||Z;return Z}function i(K,Z,xe){let Ce=Z-1,qe=-1,On=!1,Ln,Zn,Bi,ri;for(;++Ce<=xe;){const cn=K[Ce];switch(cn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{cn[0]==="enter"?qe++:qe--,ri=void 0;break}case"lineEndingBlank":{cn[0]==="enter"&&(Ln&&!ri&&!qe&&!Bi&&(Bi=Ce),ri=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ri=void 0}if(!qe&&cn[0]==="enter"&&cn[1].type==="listItemPrefix"||qe===-1&&cn[0]==="exit"&&(cn[1].type==="listUnordered"||cn[1].type==="listOrdered")){if(Ln){let Ui=Ce;for(Zn=void 0;Ui--;){const zn=K[Ui];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;Zn&&(K[Zn][1].type="lineEndingBlank",On=!0),zn[1].type="lineEnding",Zn=Ui}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}Bi&&(!Zn||Bi<Zn)&&(Ln._spread=!0),Ln.end=Object.assign({},Zn?K[Zn][1].start:cn[1].end),K.splice(Zn||Ce,0,["exit",Ln,cn[2]]),Ce++,xe++}if(cn[1].type==="listItemPrefix"){const Ui={type:"listItem",_spread:!1,start:Object.assign({},cn[1].start),end:void 0};Ln=Ui,K.splice(Ce,0,["enter",Ui,cn[2]]),Ce++,xe++,Bi=void 0,ri=!0}}}return K[Z][1]._spread=On,xe}function s(K,Z){return xe;function xe(Ce){o.call(this,K(Ce),Ce),Z&&Z.call(this,Ce)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(K,Z,xe){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([Z,xe||void 0]),K.position={start:Ki(Z.start),end:void 0}}function l(K){return Z;function Z(xe){K&&K.call(this,xe),u.call(this,xe)}}function u(K,Z){const xe=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==K.type&&(Z?Z.call(this,K,Ce[0]):(Ce[1]||v5).call(this,K,Ce[0]));else throw new Error("Cannot close `"+K.type+"` ("+gu({start:K.start,end:K.end})+"): its not open");xe.position.end=Ki(K.end)}function h(){return oy(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(K){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function m(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=K}function y(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=K}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.value=K.replace(/(\r?\n|\r)$/g,"")}function b(K){const Z=this.resume(),xe=this.stack[this.stack.length-1];xe.label=Z,xe.identifier=Er(this.sliceSerialize(K)).toLowerCase()}function E(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.title=K}function U(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.url=K}function q(K){const Z=this.stack[this.stack.length-1];if(!Z.depth){const xe=this.sliceSerialize(K).length;Z.depth=xe}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function N(K){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function P(K){const xe=this.stack[this.stack.length-1].children;let Ce=xe[xe.length-1];(!Ce||Ce.type!=="text")&&(Ce=yl(),Ce.position={start:Ki(K.start),end:void 0},xe.push(Ce)),this.stack.push(Ce)}function T(K){const Z=this.stack.pop();Z.value+=this.sliceSerialize(K),Z.position.end=Ki(K.end)}function M(K){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=Z.children[Z.children.length-1];xe.position.end=Ki(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Z.type)&&(P.call(this,K),T.call(this,K))}function V(){this.data.atHardBreak=!0}function D(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.value=K}function ye(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.value=K}function me(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.value=K}function Ue(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=Z,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Oe(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=Z,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function re(K){const Z=this.sliceSerialize(K),xe=this.stack[this.stack.length-2];xe.label=uj(Z),xe.identifier=Er(Z).toLowerCase()}function he(){const K=this.stack[this.stack.length-1],Z=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const Ce=K.children;xe.children=Ce}else xe.alt=Z}function O(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.url=K}function Ee(){const K=this.resume(),Z=this.stack[this.stack.length-1];Z.title=K}function ve(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function tt(K){const Z=this.resume(),xe=this.stack[this.stack.length-1];xe.label=Z,xe.identifier=Er(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function lt(K){this.data.characterReferenceType=K.type}function je(K){const Z=this.sliceSerialize(K),xe=this.data.characterReferenceType;let Ce;xe?(Ce=Tb(Z,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=ly(Z);const qe=this.stack[this.stack.length-1];qe.value+=Ce}function wt(K){const Z=this.stack.pop();Z.position.end=Ki(K.end)}function Ut(K){T.call(this,K);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(K)}function Dn(K){T.call(this,K);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(K)}function Qt(){return{type:"blockquote",children:[]}}function fr(){return{type:"code",lang:null,meta:null,value:""}}function Zs(){return{type:"inlineCode",value:""}}function ea(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ti(){return{type:"emphasis",children:[]}}function ni(){return{type:"heading",depth:0,children:[]}}function zi(){return{type:"break"}}function Fi(){return{type:"html",value:""}}function Vi(){return{type:"image",title:null,url:"",alt:null}}function Cr(){return{type:"link",title:null,url:"",children:[]}}function Qa(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function Nc(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function pf(){return{type:"paragraph",children:[]}}function gl(){return{type:"strong",children:[]}}function yl(){return{type:"text",value:""}}function Mc(){return{type:"thematicBreak"}}}function Ki(t){return{line:t.line,column:t.column,offset:t.offset}}function zb(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?zb(t,r):fj(t,r)}}function fj(t,e){let n;for(n in e)if(Lb.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function v5(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is still open")}function mj(t){const e=this;e.parser=n;function n(r){return hj(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function gj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function yj(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function vj(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _j(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=fl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function xj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bj(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Fb(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function kj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Fb(t,e);const i={src:fl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Ej(t,e){const n={src:fl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Sj(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Tj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Fb(t,e);const i={href:fl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Ij(t,e){const n={href:fl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Aj(t,e,n){const r=t.all(e),i=n?Cj(n):Vb(e),s={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function Cj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Vb(n[r])}return e}function Vb(t){const e=t.spread;return e??t.children.length>1}function Rj(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Pj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Mj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dj(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=ry(e.children[1]),l=vb(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Oj(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],f={},m=a?a[l]:void 0;m&&(f.align=m);let y={type:"element",tagName:s,properties:f,children:[]};d&&(y.children=t.all(d),t.patch(d,y),y=t.applyData(d,y)),u.push(y)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function Lj(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const w5=9,_5=32;function zj(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(x5(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(x5(e.slice(i),i>0,!1)),s.join("")}function x5(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===w5||s===_5;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===w5||s===_5;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Fj(t,e){const n={type:"text",value:zj(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Vj(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Bj={blockquote:pj,break:gj,code:yj,delete:vj,emphasis:wj,footnoteReference:_j,heading:xj,html:bj,imageReference:kj,image:Ej,inlineCode:Sj,linkReference:Tj,link:Ij,listItem:Aj,list:Rj,paragraph:Pj,root:Nj,strong:Mj,table:Dj,tableCell:Lj,tableRow:Oj,text:Fj,thematicBreak:Vj,toml:b0,yaml:b0,definition:b0,footnoteDefinition:b0};function b0(){}const Bb=-1,af=0,vu=1,rd=2,cy=3,hy=4,dy=5,fy=6,Ub=7,jb=8,b5=typeof self=="object"?self:globalThis,Uj=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case af:case Bb:return n(a,i);case vu:{const o=n([],i);for(const l of a)o.push(r(l));return o}case rd:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case cy:return n(new Date(a),i);case hy:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case dy:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case fy:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case Ub:{const{name:o,message:l}=a;return n(new b5[o](l),i)}case jb:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new b5[s](a),i)};return r},k5=t=>Uj(new Map,t)(0),so="",{toString:jj}={},{keys:qj}=Object,jl=t=>{const e=typeof t;if(e!=="object"||!t)return[af,e];const n=jj.call(t).slice(8,-1);switch(n){case"Array":return[vu,so];case"Object":return[rd,so];case"Date":return[cy,so];case"RegExp":return[hy,so];case"Map":return[dy,so];case"Set":return[fy,so];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[Ub,n]:[rd,n]},k0=([t,e])=>t===af&&(e==="function"||e==="symbol"),Hj=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=jl(a);switch(o){case af:{let h=a;switch(l){case"bigint":o=jb,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Bb],a)}return i([o,h],a)}case vu:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const h=[],d=i([o,h],a);for(const f of a)h.push(s(f));return d}case rd:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const h=[],d=i([o,h],a);for(const f of qj(a))(t||!k0(jl(a[f])))&&h.push([s(f),s(a[f])]);return d}case cy:return i([o,a.toISOString()],a);case hy:{const{source:h,flags:d}=a;return i([o,{source:h,flags:d}],a)}case dy:{const h=[],d=i([o,h],a);for(const[f,m]of a)(t||!(k0(jl(f))||k0(jl(m))))&&h.push([s(f),s(m)]);return d}case fy:{const h=[],d=i([o,h],a);for(const f of a)(t||!k0(jl(f)))&&h.push(s(f));return d}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},E5=(t,{json:e,lossy:n}={})=>{const r=[];return Hj(!(e||n),!!e,new Map,r)(t),r},id=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?k5(E5(t,e)):structuredClone(t):(t,e)=>k5(E5(t,e));function $j(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Wj(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Gj(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||$j,r=t.options.footnoteBackLabel||Wj,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),f=fl(d.toLowerCase());let m=0;const y=[],w=t.footnoteCounts.get(d);for(;w!==void 0&&++m<=w;){y.length>0&&y.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const b=S.children[S.children.length-1];b&&b.type==="text"?b.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...y)}else h.push(...y);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...id(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Ic=function(t){if(t==null)return Xj;if(typeof t=="function")return of(t);if(typeof t=="object")return Array.isArray(t)?Kj(t):Yj(t);if(typeof t=="string")return Qj(t);throw new Error("Expected function, string, or object as test")};function Kj(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ic(t[n]);return of(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Yj(t){const e=t;return of(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Qj(t){return of(e);function e(n){return n&&n.type===t}}function of(t){return e;function e(n,r,i){return!!(Jj(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Xj(){return!0}function Jj(t){return t!==null&&typeof t=="object"&&"type"in t}const qb=[],Zj=!0,A1=!1,Hb="skip";function my(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Ic(i),a=r?-1:1;o(t,void 0,[])();function o(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=qb,y,w,S;if((!e||s(l,u,h[h.length-1]||void 0))&&(m=eq(n(l,h)),m[0]===A1))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Hb)for(w=(r?x.children.length:-1)+a,S=h.concat(x);w>-1&&w<x.children.length;){const b=x.children[w];if(y=o(b,w,S)(),y[0]===A1)return y;w=typeof y[1]=="number"?y[1]:w+a}}return m}}}function eq(t){return Array.isArray(t)?t:typeof t=="number"?[Zj,t]:t==null?qb:[t]}function py(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),my(t,s,o,i);function o(l,u){const h=u[u.length-1],d=h?h.children.indexOf(l):void 0;return a(l,d,h)}}const C1={}.hasOwnProperty,tq={};function nq(t,e){const n=e||tq,r=new Map,i=new Map,s=new Map,a={...Bj,...n.handlers},o={all:u,applyData:iq,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:rq,wrap:aq};return py(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),o;function l(h,d){const f=h.type,m=o.handlers[f];if(C1.call(o.handlers,f)&&m)return m(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in h){const{children:w,...S}=h,x=id(S);return x.children=o.all(h),x}return id(h)}return(o.options.unknownHandler||sq)(o,h,d)}function u(h){const d=[];if("children"in h){const f=h.children;let m=-1;for(;++m<f.length;){const y=o.one(f[m],h);if(y){if(m&&f[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=S5(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=S5(w.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function rq(t,e){t.position&&(e.position=WV(t))}function iq(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,id(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sq(t,e){const n=e.data||{},r="value"in e&&!(C1.call(n,"hProperties")||C1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function aq(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function S5(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function T5(t,e){const n=nq(t,e),r=n.one(t,void 0),i=Gj(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function oq(t,e){return t&&"run"in t?async function(n,r){const i=T5(n,{file:r,...e});await t.run(i,r)}:function(n,r){return T5(n,{file:r,...t||e})}}function I5(t){if(t)throw t}var sh=Object.prototype.hasOwnProperty,$b=Object.prototype.toString,A5=Object.defineProperty,C5=Object.getOwnPropertyDescriptor,R5=function(e){return typeof Array.isArray=="function"?Array.isArray(e):$b.call(e)==="[object Array]"},P5=function(e){if(!e||$b.call(e)!=="[object Object]")return!1;var n=sh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&sh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||sh.call(e,i)},N5=function(e,n){A5&&n.name==="__proto__"?A5(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},M5=function(e,n){if(n==="__proto__")if(sh.call(e,n)){if(C5)return C5(e,n).value}else return;return e[n]},lq=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=M5(o,n),i=M5(e,n),o!==i&&(h&&i&&(P5(i)||(s=R5(i)))?(s?(s=!1,a=r&&R5(r)?r:[]):a=r&&P5(r)?r:{},N5(o,{name:n,newValue:t(h,a,i)})):typeof i<"u"&&N5(o,{name:n,newValue:i}));return o};const km=H1(lq);function R1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function uq(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const h=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?cq(h,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function cq(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(u){const h=u;if(o&&n)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Nr={basename:hq,dirname:dq,extname:fq,join:mq,sep:"/"};function hq(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ac(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function dq(t){if(Ac(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function fq(t){Ac(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function mq(...t){let e=-1,n;for(;++e<t.length;)Ac(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":pq(n)}function pq(t){Ac(t);const e=t.codePointAt(0)===47;let n=gq(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function gq(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Ac(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const yq={cwd:vq};function vq(){return"/"}function P1(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function wq(t){if(typeof t=="string")t=new URL(t);else if(!P1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return _q(t)}function _q(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Em=["history","path","basename","stem","extname","dirname"];class Wb{constructor(e){let n;e?P1(e)?n={path:e}:typeof e=="string"||xq(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":yq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Em.length;){const s=Em[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Em.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Nr.basename(this.path):void 0}set basename(e){Tm(e,"basename"),Sm(e,"basename"),this.path=Nr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Nr.dirname(this.path):void 0}set dirname(e){D5(this.basename,"dirname"),this.path=Nr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Nr.extname(this.path):void 0}set extname(e){if(Sm(e,"extname"),D5(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){P1(e)&&(e=wq(e)),Tm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Nr.basename(this.path,this.extname):void 0}set stem(e){Tm(e,"stem"),Sm(e,"stem"),this.path=Nr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new un(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Sm(t,e){if(t&&t.includes(Nr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Nr.sep+"`")}function Tm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function D5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function xq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const bq=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},kq={}.hasOwnProperty;class gy extends bq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uq()}copy(){const e=new gy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(km(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cm("data",this.frozen),this.namespace[e]=n,this):kq.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=E0(e),r=this.parser||this.Parser;return Im("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Im("process",this.parser||this.Parser),Am("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=E0(e),l=r.parse(o);r.run(l,o,function(h,d,f){if(h||!d||!f)return u(h);const m=d,y=r.stringify(m,f);Tq(y)?f.value=y:f.result=y,u(h,f)});function u(h,d){h||!d?a(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Im("processSync",this.parser||this.Parser),Am("processSync",this.compiler||this.Compiler),this.process(e,i),L5("processSync","process",n),r;function i(s,a){n=!0,I5(s),r=a}}run(e,n,r){O5(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=E0(n);i.run(e,l,u);function u(h,d,f){const m=d||e;h?o(h):a?a(m):r(void 0,m,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),L5("runSync","run",r),i;function s(a,o){I5(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=E0(n),i=this.compiler||this.Compiler;return Am("stringify",i),O5(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Cm("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=km(!0,i.settings,u.settings))}function o(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...h]);else if(h.length>0){let[m,...y]=h;const w=r[f][1];R1(w)&&R1(m)&&(m=km(!0,w,m)),r[f]=[u,m,...y]}}}}const Eq=new gy().freeze();function Im(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Am(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Cm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function O5(t){if(!R1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function L5(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function E0(t){return Sq(t)?t:new Wb(t)}function Sq(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Tq(t){return typeof t=="string"||Iq(t)}function Iq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Aq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",z5=[],F5={allowDangerousHtml:!0},Cq=/^(https?|ircs?|mailto|xmpp)$/i,Rq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gb(t){const e=Pq(t),n=Nq(t);return Mq(e.runSync(e.parse(n),n),t)}function Pq(t){const e=t.rehypePlugins||z5,n=t.remarkPlugins||z5,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...F5}:F5;return Eq().use(mj).use(n).use(oq,r).use(e)}function Nq(t){const e=t.children||"",n=new Wb;return typeof e=="string"&&(n.value=e),n}function Mq(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Dq;for(const h of Rq)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Aq+h.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),py(t,u),XV(t,{Fragment:C.Fragment,components:i,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function u(h,d,f){if(h.type==="raw"&&f&&typeof d=="number")return a?f.children.splice(d,1):f.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let m;for(m in _m)if(Object.hasOwn(_m,m)&&Object.hasOwn(h.properties,m)){const y=h.properties[m],w=_m[m];(w===null||w.includes(h.tagName))&&(h.properties[m]=l(String(y||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!m&&r&&typeof d=="number"&&(m=!r(h,d,f)),m&&f&&typeof d=="number")return o&&h.children?f.children.splice(d,1,...h.children):f.children.splice(d,1),d}}}function Dq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Cq.test(t.slice(0,e))?t:""}function V5(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Oq(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Lq(t,e,n){const i=Ic((n||{}).ignore||[]),s=zq(e);let a=-1;for(;++a<s.length;)my(t,"text",o);function o(u,h){let d=-1,f;for(;++d<h.length;){const m=h[d],y=f?f.children:void 0;if(i(m,y?y.indexOf(m):void 0,f))return;f=m}if(f)return l(u,h)}function l(u,h){const d=h[h.length-1],f=s[a][0],m=s[a][1];let y=0;const S=d.children.indexOf(u);let x=!1,b=[];f.lastIndex=0;let E=f.exec(u.value);for(;E;){const U=E.index,q={index:E.index,input:E.input,stack:[...h,u]};let z=m(...E,q);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?f.lastIndex=U+1:(y!==U&&b.push({type:"text",value:u.value.slice(y,U)}),Array.isArray(z)?b.push(...z):z&&b.push(z),y=U+E[0].length,x=!0),!f.global)break;E=f.exec(u.value)}return x?(y<u.value.length&&b.push({type:"text",value:u.value.slice(y)}),d.children.splice(S,1,...b)):b=[u],S+b.length}}function zq(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Fq(i[0]),Vq(i[1])])}return e}function Fq(t){return typeof t=="string"?new RegExp(Oq(t),"g"):t}function Vq(t){return typeof t=="function"?t:function(){return t}}const Rm="phrasing",Pm=["autolink","link","image","label"];function Bq(){return{transforms:[Gq],enter:{literalAutolink:jq,literalAutolinkEmail:Nm,literalAutolinkHttp:Nm,literalAutolinkWww:Nm},exit:{literalAutolink:Wq,literalAutolinkEmail:$q,literalAutolinkHttp:qq,literalAutolinkWww:Hq}}}function Uq(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Pm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Pm},{character:":",before:"[ps]",after:"\\/",inConstruct:Rm,notInConstruct:Pm}]}}function jq(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Nm(t){this.config.enter.autolinkProtocol.call(this,t)}function qq(t){this.config.exit.autolinkProtocol.call(this,t)}function Hq(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function $q(t){this.config.exit.autolinkEmail.call(this,t)}function Wq(t){this.exit(t)}function Gq(t){Lq(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Kq],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Yq]],{ignore:["link","linkReference"]})}function Kq(t,e,n,r,i){let s="";if(!Kb(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Qq(n)))return!1;const a=Xq(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Yq(t,e,n,r){return!Kb(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Qq(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Xq(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=V5(t,"(");let s=V5(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function Kb(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||za(n)||rf(n))&&(!e||n!==47)}Yb.peek=aH;function Jq(){this.buffer()}function Zq(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function eH(){this.buffer()}function tH(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function nH(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Er(this.sliceSerialize(t)).toLowerCase(),n.label=e}function rH(t){this.exit(t)}function iH(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Er(this.sliceSerialize(t)).toLowerCase(),n.label=e}function sH(t){this.exit(t)}function aH(){return"["}function Yb(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function oH(){return{enter:{gfmFootnoteCallString:Jq,gfmFootnoteCall:Zq,gfmFootnoteDefinitionLabelString:eH,gfmFootnoteDefinition:tH},exit:{gfmFootnoteCallString:nH,gfmFootnoteCall:rH,gfmFootnoteDefinitionLabelString:iH,gfmFootnoteDefinition:sH}}}function lH(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Yb},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),h(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?Qb:uH))),u(),l}}function uH(t,e,n){return e===0?t:Qb(t,e,n)}function Qb(t,e,n){return(n?"":"    ")+t}const cH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Xb.peek=pH;function hH(){return{canContainEols:["delete"],enter:{strikethrough:fH},exit:{strikethrough:mH}}}function dH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cH}],handlers:{delete:Xb}}}function fH(t){this.enter({type:"delete",children:[]},t)}function mH(t){this.exit(t)}function Xb(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function pH(){return"~"}function gH(t){return t.length}function yH(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||gH,s=[],a=[],o=[],l=[];let u=0,h=-1;for(;++h<t.length;){const w=[],S=[];let x=-1;for(t[h].length>u&&(u=t[h].length);++x<t[h].length;){const b=vH(t[h][x]);if(n.alignDelimiters!==!1){const E=i(b);S[x]=E,(l[x]===void 0||E>l[x])&&(l[x]=E)}w.push(b)}a[h]=w,o[h]=S}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=B5(r[d]);else{const w=B5(r);for(;++d<u;)s[d]=w}d=-1;const f=[],m=[];for(;++d<u;){const w=s[d];let S="",x="";w===99?(S=":",x=":"):w===108?S=":":w===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[d]-S.length-x.length);const E=S+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=S.length+b+x.length,b>l[d]&&(l[d]=b),m[d]=b),f[d]=E}a.splice(1,0,f),o.splice(1,0,m),h=-1;const y=[];for(;++h<a.length;){const w=a[h],S=o[h];d=-1;const x=[];for(;++d<u;){const b=w[d]||"";let E="",U="";if(n.alignDelimiters!==!1){const q=l[d]-(S[d]||0),z=s[d];z===114?E=" ".repeat(q):z===99?q%2?(E=" ".repeat(q/2+.5),U=" ".repeat(q/2-.5)):(E=" ".repeat(q/2),U=E):U=" ".repeat(q)}n.delimiterStart!==!1&&!d&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||d)&&x.push(" "),n.alignDelimiters!==!1&&x.push(E),x.push(b),n.alignDelimiters!==!1&&x.push(U),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&x.push("|")}y.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return y.join(`
`)}function vH(t){return t==null?"":String(t)}function B5(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function wH(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),_H);return i(),a}function _H(t,e,n){return">"+(n?"":" ")+t}function xH(t,e){return U5(t,e.inConstruct,!0)&&!U5(t,e.notInConstruct,!1)}function U5(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function j5(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&xH(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Jb(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function bH(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function kH(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function EH(t,e,n,r){const i=kH(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(bH(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,SH);return d(),f}const o=n.createTracker(r),l=i.repeat(Math.max(Jb(s,i)+1,3)),u=n.enter("codeFenced");let h=o.move(l);if(t.lang){const d=n.enter(`codeFencedLang${a}`);h+=o.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...o.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...o.current()})),d()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(l),u(),h}function SH(t,e,n){return(n?"":"    ")+t}function yy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function TH(t,e,n,r){const i=yy(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function IH(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function nc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function sd(t,e,n){const r=Qo(t),i=Qo(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Zb.peek=AH;function Zb(t,e,n,r){const i=IH(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),h=sd(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=nc(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=sd(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nc(d));const m=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},o+l+m}function AH(t,e,n){return n.options.emphasis||"*"}function CH(t,e){let n=!1;return py(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,A1}),!!((!t.depth||t.depth<3)&&oy(t)&&(e.options.setext||n))}function RH(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(CH(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=nc(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}ek.peek=PH;function ek(t){return t.value||""}function PH(){return"<"}tk.peek=NH;function tk(t,e,n,r){const i=yy(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function NH(){return"!"}nk.peek=MH;function nk(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=h,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function MH(){return"!"}rk.peek=DH;function rk(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function DH(){return"`"}function ik(t,e){const n=oy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}sk.peek=OH;function sk(t,e,n,r){const i=yy(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(ik(t,n)){const h=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=h,d}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function OH(t,e,n){return ik(t,n)?"<":"["}ak.peek=LH;function ak(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=h,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function LH(){return"["}function vy(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function zH(t){const e=vy(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function FH(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function ok(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function VH(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?FH(n):vy(n);const o=t.ordered?a==="."?")":".":zH(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ok(n)===a&&h){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function BH(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function UH(t,e,n,r){const i=BH(n);let s=n.bulletCurrent||vy(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),h);return l(),u;function h(d,f,m){return f?(m?"":" ".repeat(a))+d:(m?s:s+" ".repeat(a-s.length))+d}}function jH(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const qH=Ic(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function HH(t,e,n,r){return(t.children.some(function(a){return qH(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function $H(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}lk.peek=WH;function lk(t,e,n,r){const i=$H(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),h=sd(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=nc(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=sd(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nc(d));const m=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},o+l+m}function WH(t,e,n){return n.options.strong||"*"}function GH(t,e,n,r){return n.safe(t.value,r)}function KH(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function YH(t,e,n){const r=(ok(n)+(n.options.ruleSpaces?" ":"")).repeat(KH(n));return n.options.ruleSpaces?r.slice(0,-1):r}const uk={blockquote:wH,break:j5,code:EH,definition:TH,emphasis:Zb,hardBreak:j5,heading:RH,html:ek,image:tk,imageReference:nk,inlineCode:rk,link:sk,linkReference:ak,list:VH,listItem:UH,paragraph:jH,root:HH,strong:lk,text:GH,thematicBreak:YH};function QH(){return{enter:{table:XH,tableData:q5,tableHeader:q5,tableRow:ZH},exit:{codeText:e$,table:JH,tableData:Mm,tableHeader:Mm,tableRow:Mm}}}function XH(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function JH(t){this.exit(t),this.data.inTable=void 0}function ZH(t){this.enter({type:"tableRow",children:[]},t)}function Mm(t){this.exit(t)}function q5(t){this.enter({type:"tableCell",children:[]},t)}function e$(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,t$));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function t$(t,e){return e==="|"?e:t}function n$(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(m,y,w,S){return u(h(m,w,S),m.align)}function o(m,y,w,S){const x=d(m,w,S),b=u([x]);return b.slice(0,b.indexOf(`
`))}function l(m,y,w,S){const x=w.enter("tableCell"),b=w.enter("phrasing"),E=w.containerPhrasing(m,{...S,before:s,after:s});return b(),x(),E}function u(m,y){return yH(m,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function h(m,y,w){const S=m.children;let x=-1;const b=[],E=y.enter("table");for(;++x<S.length;)b[x]=d(S[x],y,w);return E(),b}function d(m,y,w){const S=m.children;let x=-1;const b=[],E=y.enter("tableRow");for(;++x<S.length;)b[x]=l(S[x],m,y,w);return E(),b}function f(m,y,w){let S=uk.inlineCode(m,y,w);return w.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function r$(){return{exit:{taskListCheckValueChecked:H5,taskListCheckValueUnchecked:H5,paragraph:s$}}}function i$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:a$}}}function H5(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function s$(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function a$(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=uk.listItem(t,e,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+a}}function o$(){return[Bq(),oH(),hH(),QH(),r$()]}function l$(t){return{extensions:[Uq(),lH(t),dH(),n$(t),i$()]}}const u$={tokenize:p$,partial:!0},ck={tokenize:g$,partial:!0},hk={tokenize:y$,partial:!0},dk={tokenize:v$,partial:!0},c$={tokenize:w$,partial:!0},fk={name:"wwwAutolink",tokenize:f$,previous:pk},mk={name:"protocolAutolink",tokenize:m$,previous:gk},Oi={name:"emailAutolink",tokenize:d$,previous:yk},Xr={};function h$(){return{text:Xr}}let sa=48;for(;sa<123;)Xr[sa]=Oi,sa++,sa===58?sa=65:sa===91&&(sa=97);Xr[43]=Oi;Xr[45]=Oi;Xr[46]=Oi;Xr[95]=Oi;Xr[72]=[Oi,mk];Xr[104]=[Oi,mk];Xr[87]=[Oi,fk];Xr[119]=[Oi,fk];function d$(t,e,n){const r=this;let i,s;return a;function a(d){return!N1(d)||!yk.call(r,r.previous)||wy(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(d))}function o(d){return N1(d)?(t.consume(d),o):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(c$,h,u)(d):d===45||d===95||an(d)?(s=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return s&&i&&pn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function f$(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!pk.call(r,r.previous)||wy(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(u$,t.attempt(ck,t.attempt(hk,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function m$(t,e,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&gk.call(r,r.previous)&&!wy(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),o):n(d)}function o(d){if(pn(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||nd(d)||Ke(d)||za(d)||rf(d)?n(d):t.attempt(ck,t.attempt(hk,h),n)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function p$(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function g$(t,e,n){let r,i,s;return a;function a(u){return u===46||u===95?t.check(dk,l,o)(u):u===null||Ke(u)||za(u)||u!==45&&rf(u)?l(u):(s=!0,t.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function l(u){return i||r||!s?n(u):e(u)}}function y$(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(dk,e,s)(a):a===null||Ke(a)||za(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function v$(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||Ke(o)||za(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||Ke(o)||za(o)?e(o):r(o)}function s(o){return pn(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):pn(o)?(t.consume(o),a):n(o)}}function w$(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return an(s)?n(s):e(s)}}function pk(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ke(t)}function gk(t){return!pn(t)}function yk(t){return!(t===47||N1(t))}function N1(t){return t===43||t===45||t===46||t===95||an(t)}function wy(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _$={tokenize:A$,partial:!0};function x$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:S$,continuation:{tokenize:T$},exit:I$}},text:{91:{name:"gfmFootnoteCall",tokenize:E$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:b$,resolveTo:k$}}}}function b$(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Er(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function k$(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function E$(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!a||d===null||d===91||Ke(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Er(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Ke(d)||(a=!0),s++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function S$(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(y){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(y)}function h(y){if(a>999||y===93&&!o||y===null||y===91||Ke(y))return n(y);if(y===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return s=Er(r.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ke(y)||(o=!0),a++,t.consume(y),y===92?d:h}function d(y){return y===91||y===92||y===93?(t.consume(y),a++,h):h(y)}function f(y){return y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),i.includes(s)||i.push(s),Re(t,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return e(y)}}function T$(t,e,n){return t.check(Tc,e,t.attempt(_$,e,n))}function I$(t){t.exit("gfmFootnoteDefinition")}function A$(t,e,n){const r=this;return Re(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function C$(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",h,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",d,o]],m=o.parser.constructs.insideSpan.null;m&&Gn(f,f.length,0,sf(m,a.slice(u+1,l),o)),Gn(f,f.length,0,[["exit",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",h,o]]),Gn(a,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,h=this.events;let d=0;return f;function f(y){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(y):(a.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const w=Qo(u);if(y===126)return d>1?l(y):(a.consume(y),d++,m);if(d<2&&!n)return l(y);const S=a.exit("strikethroughSequenceTemporary"),x=Qo(y);return S._open=!x||x===2&&!!w,S._close=!w||w===2&&!!x,o(y)}}}class R${constructor(){this.map=[]}add(e,n,r){P$(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function P$(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function N$(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function M$(){return{flow:{null:{name:"table",tokenize:D$,resolveAll:O$}}}}function D$(t,e,n){const r=this;let i=0,s=0,a;return o;function o(T){let M=r.events.length-1;for(;M>-1;){const ye=r.events[M][1].type;if(ye==="lineEnding"||ye==="linePrefix")M--;else break}const V=M>-1?r.events[M][1].type:null,D=V==="tableHead"||V==="tableRow"?z:l;return D===z&&r.parser.lazy[r.now().line]?n(T):D(T)}function l(T){return t.enter("tableHead"),t.enter("tableRow"),u(T)}function u(T){return T===124||(a=!0,s+=1),h(T)}function h(T){return T===null?n(T):de(T)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),m):n(T):Pe(T)?Re(t,h,"whitespace")(T):(s+=1,a&&(a=!1,i+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),a=!0,h):(t.enter("data"),d(T)))}function d(T){return T===null||T===124||Ke(T)?(t.exit("data"),h(T)):(t.consume(T),T===92?f:d)}function f(T){return T===92||T===124?(t.consume(T),d):d(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(t.enter("tableDelimiterRow"),a=!1,Pe(T)?Re(t,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):y(T))}function y(T){return T===45||T===58?S(T):T===124?(a=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),w):q(T)}function w(T){return Pe(T)?Re(t,S,"whitespace")(T):S(T)}function S(T){return T===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),x):T===45?(s+=1,x(T)):T===null||de(T)?U(T):q(T)}function x(T){return T===45?(t.enter("tableDelimiterFiller"),b(T)):q(T)}function b(T){return T===45?(t.consume(T),b):T===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(T))}function E(T){return Pe(T)?Re(t,U,"whitespace")(T):U(T)}function U(T){return T===124?y(T):T===null||de(T)?!a||i!==s?q(T):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):q(T)}function q(T){return n(T)}function z(T){return t.enter("tableRow"),N(T)}function N(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),N):T===null||de(T)?(t.exit("tableRow"),e(T)):Pe(T)?Re(t,N,"whitespace")(T):(t.enter("data"),I(T))}function I(T){return T===null||T===124||Ke(T)?(t.exit("data"),N(T)):(t.consume(T),T===92?P:I)}function P(T){return T===92||T===124?(t.consume(T),I):I(T)}}function O$(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,h,d;const f=new R$;for(;++n<t.length;){const m=t[n],y=m[1];m[0]==="enter"?y.type==="tableHead"?(o=!1,l!==0&&($5(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",u,e]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",h,e]])),i=y.type==="tableDelimiterRow"?2:h?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=S0(f,e,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=S0(f,e,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):y.type==="tableHead"?(o=!0,l=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],d=S0(f,e,s,i,n,d)):a[1]!==0&&(d=S0(f,e,a,i,n,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&$5(f,e,l,u,h),f.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=N$(e.events,n))}return t}function S0(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},ho(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=ho(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=ho(e.events,n[2]),h=ho(e.events,n[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],m=e.events[n[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,w=n[3]-n[2]-1;t.add(y,w,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},ho(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function $5(t,e,n,r,i){const s=[],a=ho(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function ho(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const L$={name:"tasklistCheck",tokenize:F$};function z$(){return{text:{91:L$}}}function F$(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ke(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return de(l)?e(l):Pe(l)?t.check({tokenize:V$},e,n)(l):n(l)}}function V$(t,e,n){return Re(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function B$(t){return Sb([h$(),x$(),C$(t),M$(),z$()])}const U$={};function vk(t){const e=this,n=t||U$,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(B$(n)),s.push(o$()),a.push(l$(n))}function j$(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:a,mathTextData:o}};function t(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=u;const d=h.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const u=this.resume(),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=u,h.data.hChildren.push({type:"text",value:u})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function q$(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,a,o,l){const u=s.value||"",h=o.createTracker(l),d="$".repeat(Math.max(Jb(u,"$")+1,2)),f=o.enter("mathFlow");let m=h.move(d);if(s.meta){const y=o.enter("mathFlowMeta");m+=h.move(o.safe(s.meta,{after:`
`,before:m,encode:["$"],...h.current()})),y()}return m+=h.move(`
`),u&&(m+=h.move(u+`
`)),m+=h.move(d),f(),m}function r(s,a,o){let l=s.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const h="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const f=o.unsafe[d];if(!f.atBreak)continue;const m=o.compilePattern(f);let y;for(;y=m.exec(l);){let w=y.index;l.codePointAt(w)===10&&l.codePointAt(w-1)===13&&w--,l=l.slice(0,w)+" "+l.slice(y.index+1)}}return h+l+h}function i(){return"$"}}const H$={tokenize:$$,concrete:!0,name:"mathFlow"},W5={tokenize:W$,partial:!0};function $$(t,e,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(b){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(b)}function l(b){return b===36?(t.consume(b),a++,l):a<2?n(b):(t.exit("mathFlowFenceSequence"),Re(t,u,"whitespace")(b))}function u(b){return b===null||de(b)?d(b):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||de(b)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(b)):b===36?n(b):(t.consume(b),h)}function d(b){return t.exit("mathFlowFence"),r.interrupt?e(b):t.attempt(W5,f,S)(b)}function f(b){return t.attempt({tokenize:x,partial:!0},S,m)(b)}function m(b){return(s?Re(t,y,"linePrefix",s+1):y)(b)}function y(b){return b===null?S(b):de(b)?t.attempt(W5,f,S)(b):(t.enter("mathFlowValue"),w(b))}function w(b){return b===null||de(b)?(t.exit("mathFlowValue"),y(b)):(t.consume(b),w)}function S(b){return t.exit("mathFlow"),e(b)}function x(b,E,U){let q=0;return Re(b,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function z(P){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),N(P)}function N(P){return P===36?(q++,b.consume(P),N):q<a?U(P):(b.exit("mathFlowFenceSequence"),Re(b,I,"whitespace")(P))}function I(P){return P===null||de(P)?(b.exit("mathFlowFence"),E(P)):U(P)}}}function W$(t,e,n){const r=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function G$(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:K$,previous:Y$,name:"mathText"};function r(i,s,a){let o=0,l,u;return h;function h(w){return i.enter("mathText"),i.enter("mathTextSequence"),d(w)}function d(w){return w===36?(i.consume(w),o++,d):o<2&&!n?a(w):(i.exit("mathTextSequence"),f(w))}function f(w){return w===null?a(w):w===36?(u=i.enter("mathTextSequence"),l=0,y(w)):w===32?(i.enter("space"),i.consume(w),i.exit("space"),f):de(w)?(i.enter("lineEnding"),i.consume(w),i.exit("lineEnding"),f):(i.enter("mathTextData"),m(w))}function m(w){return w===null||w===32||w===36||de(w)?(i.exit("mathTextData"),f(w)):(i.consume(w),m)}function y(w){return w===36?(i.consume(w),l++,y):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(w)):(u.type="mathTextData",m(w))}}}function K$(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Y$(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function Q$(t){return{flow:{36:H$},text:{36:G$(t)}}}class Sn{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Sn(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Kn{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Kn(n,Sn.range(this,e))}}class ee{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&"),u;i>15?u=""+o.slice(i-15,i):u=o.slice(0,i);var h;s+15<o.length?h=o.slice(s,s+15)+"":h=o.slice(s),r+=u+l+h}var d=new Error(r);return d.name="ParseError",d.__proto__=ee.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}ee.prototype.__proto__=Error.prototype;var X$=function(e,n){return e===void 0?n:e},J$=/([A-Z])/g,Z$=function(e){return e.replace(J$,"-$1").toLowerCase()},eW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},tW=/[&><"']/g;function nW(t){return String(t).replace(tW,e=>eW[e])}var wk=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},rW=function(e){var n=wk(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},iW=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},sW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Be={deflt:X$,escape:nW,hyphenate:Z$,getBaseElem:wk,isCharacterBox:rW,protocolFromUrl:sW},ah={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function aW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class _y{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in ah)if(ah.hasOwnProperty(n)){var r=ah[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:aW(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ee("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Be.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Yi{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Dr[oW[this.id]]}sub(){return Dr[lW[this.id]]}fracNum(){return Dr[uW[this.id]]}fracDen(){return Dr[cW[this.id]]}cramp(){return Dr[hW[this.id]]}text(){return Dr[dW[this.id]]}isTight(){return this.size>=2}}var xy=0,ad=1,zo=2,vi=3,rc=4,sr=5,Xo=6,gn=7,Dr=[new Yi(xy,0,!1),new Yi(ad,0,!0),new Yi(zo,1,!1),new Yi(vi,1,!0),new Yi(rc,2,!1),new Yi(sr,2,!0),new Yi(Xo,3,!1),new Yi(gn,3,!0)],oW=[rc,sr,rc,sr,Xo,gn,Xo,gn],lW=[sr,sr,sr,sr,gn,gn,gn,gn],uW=[zo,vi,rc,sr,Xo,gn,Xo,gn],cW=[vi,vi,sr,sr,gn,gn,gn,gn],hW=[ad,ad,vi,vi,sr,sr,gn,gn],dW=[xy,ad,zo,vi,zo,vi,zo,vi],ge={DISPLAY:Dr[xy],TEXT:Dr[zo],SCRIPT:Dr[rc],SCRIPTSCRIPT:Dr[Xo]},M1=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function fW(t){for(var e=0;e<M1.length;e++)for(var n=M1[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var oh=[];M1.forEach(t=>t.blocks.forEach(e=>oh.push(...e)));function _k(t){for(var e=0;e<oh.length;e+=2)if(t>=oh[e]&&t<=oh[e+1])return!0;return!1}var ao=80,mW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},pW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},gW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},yW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},vW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},wW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},_W=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},xW=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=mW(n,ao);break;case"sqrtSize1":i=pW(n,ao);break;case"sqrtSize2":i=gW(n,ao);break;case"sqrtSize3":i=yW(n,ao);break;case"sqrtSize4":i=vW(n,ao);break;case"sqrtTall":i=_W(n,ao,r)}return i},bW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},G5={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},kW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Cc{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var zr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},T0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},K5={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function EW(t,e){zr[t]=e}function by(t,e,n){if(!zr[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=zr[e][r];if(!i&&t[0]in K5&&(r=K5[t[0]].charCodeAt(0),i=zr[e][r]),!i&&n==="text"&&_k(r)&&(i=zr[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Dm={};function SW(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Dm[e]){var n=Dm[e]={cssEmPerMu:T0.quad[e]/18};for(var r in T0)T0.hasOwnProperty(r)&&(n[r]=T0[r][e])}return Dm[e]}var TW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Y5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Q5=function(e,n){return n.size<2?e:TW[e-1][n.size-1]};class ui{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ui.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Y5[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new ui(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Q5(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Y5[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Q5(ui.BASESIZE,e);return this.size===n&&this.textSize===ui.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ui.BASESIZE?["sizing","reset-size"+this.size,"size"+ui.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=SW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ui.BASESIZE=6;var D1={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},IW={ex:!0,em:!0,mu:!0},xk=function(e){return typeof e!="string"&&(e=e.unit),e in D1||e in IW||e==="ex"},mt=function(e,n){var r;if(e.unit in D1)r=D1[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new ee("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ie=function(e){return+e.toFixed(4)+"em"},Ls=function(e){return e.filter(n=>n).join(" ")},bk=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},kk=function(e){var n=document.createElement(e);n.className=Ls(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},AW=/[\s"'>/=\x00-\x1f]/,Ek=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Be.escape(Ls(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Be.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Be.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(AW.test(s))throw new ee("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Be.escape(this.attributes[s])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class Rc{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,bk.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return kk.call(this,"span")}toMarkup(){return Ek.call(this,"span")}}class ky{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,bk.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return kk.call(this,"a")}toMarkup(){return Ek.call(this,"a")}}class CW{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Be.escape(this.src)+'"'+(' alt="'+Be.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Be.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Be.escape(n)+'"'),e+="'/>",e}}var RW={:"",:"",:"",:""};class cr{constructor(e,n,r,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=fW(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=RW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ie(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Ls(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Be.escape(Ls(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Be.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Be.escape(r)+'"');var s=Be.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Ri{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Be.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class zs{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",G5[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Be.escape(this.alternate)+'"/>':'<path d="'+Be.escape(G5[this.pathName])+'"/>'}}class O1{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Be.escape(this.attributes[n])+'"');return e+="/>",e}}function X5(t){if(t instanceof cr)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function PW(t){if(t instanceof Rc)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var NW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},MW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},et={math:{},text:{}};function p(t,e,n,r,i,s){et[t][i]={font:e,group:n,replace:r},s&&r&&(et[t][r]=et[t][i])}var v="math",X="text",k="main",L="ams",ht="accent-token",ue="bin",_n="close",ml="inner",pe="mathord",Mt="op-token",Jn="open",lf="punct",F="rel",Li="spacing",j="textord";p(v,k,F,"","\\equiv",!0);p(v,k,F,"","\\prec",!0);p(v,k,F,"","\\succ",!0);p(v,k,F,"","\\sim",!0);p(v,k,F,"","\\perp");p(v,k,F,"","\\preceq",!0);p(v,k,F,"","\\succeq",!0);p(v,k,F,"","\\simeq",!0);p(v,k,F,"","\\mid",!0);p(v,k,F,"","\\ll",!0);p(v,k,F,"","\\gg",!0);p(v,k,F,"","\\asymp",!0);p(v,k,F,"","\\parallel");p(v,k,F,"","\\bowtie",!0);p(v,k,F,"","\\smile",!0);p(v,k,F,"","\\sqsubseteq",!0);p(v,k,F,"","\\sqsupseteq",!0);p(v,k,F,"","\\doteq",!0);p(v,k,F,"","\\frown",!0);p(v,k,F,"","\\ni",!0);p(v,k,F,"","\\propto",!0);p(v,k,F,"","\\vdash",!0);p(v,k,F,"","\\dashv",!0);p(v,k,F,"","\\owns");p(v,k,lf,".","\\ldotp");p(v,k,lf,"","\\cdotp");p(v,k,j,"#","\\#");p(X,k,j,"#","\\#");p(v,k,j,"&","\\&");p(X,k,j,"&","\\&");p(v,k,j,"","\\aleph",!0);p(v,k,j,"","\\forall",!0);p(v,k,j,"","\\hbar",!0);p(v,k,j,"","\\exists",!0);p(v,k,j,"","\\nabla",!0);p(v,k,j,"","\\flat",!0);p(v,k,j,"","\\ell",!0);p(v,k,j,"","\\natural",!0);p(v,k,j,"","\\clubsuit",!0);p(v,k,j,"","\\wp",!0);p(v,k,j,"","\\sharp",!0);p(v,k,j,"","\\diamondsuit",!0);p(v,k,j,"","\\Re",!0);p(v,k,j,"","\\heartsuit",!0);p(v,k,j,"","\\Im",!0);p(v,k,j,"","\\spadesuit",!0);p(v,k,j,"","\\S",!0);p(X,k,j,"","\\S");p(v,k,j,"","\\P",!0);p(X,k,j,"","\\P");p(v,k,j,"","\\dag");p(X,k,j,"","\\dag");p(X,k,j,"","\\textdagger");p(v,k,j,"","\\ddag");p(X,k,j,"","\\ddag");p(X,k,j,"","\\textdaggerdbl");p(v,k,_n,"","\\rmoustache",!0);p(v,k,Jn,"","\\lmoustache",!0);p(v,k,_n,"","\\rgroup",!0);p(v,k,Jn,"","\\lgroup",!0);p(v,k,ue,"","\\mp",!0);p(v,k,ue,"","\\ominus",!0);p(v,k,ue,"","\\uplus",!0);p(v,k,ue,"","\\sqcap",!0);p(v,k,ue,"","\\ast");p(v,k,ue,"","\\sqcup",!0);p(v,k,ue,"","\\bigcirc",!0);p(v,k,ue,"","\\bullet",!0);p(v,k,ue,"","\\ddagger");p(v,k,ue,"","\\wr",!0);p(v,k,ue,"","\\amalg");p(v,k,ue,"&","\\And");p(v,k,F,"","\\longleftarrow",!0);p(v,k,F,"","\\Leftarrow",!0);p(v,k,F,"","\\Longleftarrow",!0);p(v,k,F,"","\\longrightarrow",!0);p(v,k,F,"","\\Rightarrow",!0);p(v,k,F,"","\\Longrightarrow",!0);p(v,k,F,"","\\leftrightarrow",!0);p(v,k,F,"","\\longleftrightarrow",!0);p(v,k,F,"","\\Leftrightarrow",!0);p(v,k,F,"","\\Longleftrightarrow",!0);p(v,k,F,"","\\mapsto",!0);p(v,k,F,"","\\longmapsto",!0);p(v,k,F,"","\\nearrow",!0);p(v,k,F,"","\\hookleftarrow",!0);p(v,k,F,"","\\hookrightarrow",!0);p(v,k,F,"","\\searrow",!0);p(v,k,F,"","\\leftharpoonup",!0);p(v,k,F,"","\\rightharpoonup",!0);p(v,k,F,"","\\swarrow",!0);p(v,k,F,"","\\leftharpoondown",!0);p(v,k,F,"","\\rightharpoondown",!0);p(v,k,F,"","\\nwarrow",!0);p(v,k,F,"","\\rightleftharpoons",!0);p(v,L,F,"","\\nless",!0);p(v,L,F,"","\\@nleqslant");p(v,L,F,"","\\@nleqq");p(v,L,F,"","\\lneq",!0);p(v,L,F,"","\\lneqq",!0);p(v,L,F,"","\\@lvertneqq");p(v,L,F,"","\\lnsim",!0);p(v,L,F,"","\\lnapprox",!0);p(v,L,F,"","\\nprec",!0);p(v,L,F,"","\\npreceq",!0);p(v,L,F,"","\\precnsim",!0);p(v,L,F,"","\\precnapprox",!0);p(v,L,F,"","\\nsim",!0);p(v,L,F,"","\\@nshortmid");p(v,L,F,"","\\nmid",!0);p(v,L,F,"","\\nvdash",!0);p(v,L,F,"","\\nvDash",!0);p(v,L,F,"","\\ntriangleleft");p(v,L,F,"","\\ntrianglelefteq",!0);p(v,L,F,"","\\subsetneq",!0);p(v,L,F,"","\\@varsubsetneq");p(v,L,F,"","\\subsetneqq",!0);p(v,L,F,"","\\@varsubsetneqq");p(v,L,F,"","\\ngtr",!0);p(v,L,F,"","\\@ngeqslant");p(v,L,F,"","\\@ngeqq");p(v,L,F,"","\\gneq",!0);p(v,L,F,"","\\gneqq",!0);p(v,L,F,"","\\@gvertneqq");p(v,L,F,"","\\gnsim",!0);p(v,L,F,"","\\gnapprox",!0);p(v,L,F,"","\\nsucc",!0);p(v,L,F,"","\\nsucceq",!0);p(v,L,F,"","\\succnsim",!0);p(v,L,F,"","\\succnapprox",!0);p(v,L,F,"","\\ncong",!0);p(v,L,F,"","\\@nshortparallel");p(v,L,F,"","\\nparallel",!0);p(v,L,F,"","\\nVDash",!0);p(v,L,F,"","\\ntriangleright");p(v,L,F,"","\\ntrianglerighteq",!0);p(v,L,F,"","\\@nsupseteqq");p(v,L,F,"","\\supsetneq",!0);p(v,L,F,"","\\@varsupsetneq");p(v,L,F,"","\\supsetneqq",!0);p(v,L,F,"","\\@varsupsetneqq");p(v,L,F,"","\\nVdash",!0);p(v,L,F,"","\\precneqq",!0);p(v,L,F,"","\\succneqq",!0);p(v,L,F,"","\\@nsubseteqq");p(v,L,ue,"","\\unlhd");p(v,L,ue,"","\\unrhd");p(v,L,F,"","\\nleftarrow",!0);p(v,L,F,"","\\nrightarrow",!0);p(v,L,F,"","\\nLeftarrow",!0);p(v,L,F,"","\\nRightarrow",!0);p(v,L,F,"","\\nleftrightarrow",!0);p(v,L,F,"","\\nLeftrightarrow",!0);p(v,L,F,"","\\vartriangle");p(v,L,j,"","\\hslash");p(v,L,j,"","\\triangledown");p(v,L,j,"","\\lozenge");p(v,L,j,"","\\circledS");p(v,L,j,"","\\circledR");p(X,L,j,"","\\circledR");p(v,L,j,"","\\measuredangle",!0);p(v,L,j,"","\\nexists");p(v,L,j,"","\\mho");p(v,L,j,"","\\Finv",!0);p(v,L,j,"","\\Game",!0);p(v,L,j,"","\\backprime");p(v,L,j,"","\\blacktriangle");p(v,L,j,"","\\blacktriangledown");p(v,L,j,"","\\blacksquare");p(v,L,j,"","\\blacklozenge");p(v,L,j,"","\\bigstar");p(v,L,j,"","\\sphericalangle",!0);p(v,L,j,"","\\complement",!0);p(v,L,j,"","\\eth",!0);p(X,k,j,"","");p(v,L,j,"","\\diagup");p(v,L,j,"","\\diagdown");p(v,L,j,"","\\square");p(v,L,j,"","\\Box");p(v,L,j,"","\\Diamond");p(v,L,j,"","\\yen",!0);p(X,L,j,"","\\yen",!0);p(v,L,j,"","\\checkmark",!0);p(X,L,j,"","\\checkmark");p(v,L,j,"","\\beth",!0);p(v,L,j,"","\\daleth",!0);p(v,L,j,"","\\gimel",!0);p(v,L,j,"","\\digamma",!0);p(v,L,j,"","\\varkappa");p(v,L,Jn,"","\\@ulcorner",!0);p(v,L,_n,"","\\@urcorner",!0);p(v,L,Jn,"","\\@llcorner",!0);p(v,L,_n,"","\\@lrcorner",!0);p(v,L,F,"","\\leqq",!0);p(v,L,F,"","\\leqslant",!0);p(v,L,F,"","\\eqslantless",!0);p(v,L,F,"","\\lesssim",!0);p(v,L,F,"","\\lessapprox",!0);p(v,L,F,"","\\approxeq",!0);p(v,L,ue,"","\\lessdot");p(v,L,F,"","\\lll",!0);p(v,L,F,"","\\lessgtr",!0);p(v,L,F,"","\\lesseqgtr",!0);p(v,L,F,"","\\lesseqqgtr",!0);p(v,L,F,"","\\doteqdot");p(v,L,F,"","\\risingdotseq",!0);p(v,L,F,"","\\fallingdotseq",!0);p(v,L,F,"","\\backsim",!0);p(v,L,F,"","\\backsimeq",!0);p(v,L,F,"","\\subseteqq",!0);p(v,L,F,"","\\Subset",!0);p(v,L,F,"","\\sqsubset",!0);p(v,L,F,"","\\preccurlyeq",!0);p(v,L,F,"","\\curlyeqprec",!0);p(v,L,F,"","\\precsim",!0);p(v,L,F,"","\\precapprox",!0);p(v,L,F,"","\\vartriangleleft");p(v,L,F,"","\\trianglelefteq");p(v,L,F,"","\\vDash",!0);p(v,L,F,"","\\Vvdash",!0);p(v,L,F,"","\\smallsmile");p(v,L,F,"","\\smallfrown");p(v,L,F,"","\\bumpeq",!0);p(v,L,F,"","\\Bumpeq",!0);p(v,L,F,"","\\geqq",!0);p(v,L,F,"","\\geqslant",!0);p(v,L,F,"","\\eqslantgtr",!0);p(v,L,F,"","\\gtrsim",!0);p(v,L,F,"","\\gtrapprox",!0);p(v,L,ue,"","\\gtrdot");p(v,L,F,"","\\ggg",!0);p(v,L,F,"","\\gtrless",!0);p(v,L,F,"","\\gtreqless",!0);p(v,L,F,"","\\gtreqqless",!0);p(v,L,F,"","\\eqcirc",!0);p(v,L,F,"","\\circeq",!0);p(v,L,F,"","\\triangleq",!0);p(v,L,F,"","\\thicksim");p(v,L,F,"","\\thickapprox");p(v,L,F,"","\\supseteqq",!0);p(v,L,F,"","\\Supset",!0);p(v,L,F,"","\\sqsupset",!0);p(v,L,F,"","\\succcurlyeq",!0);p(v,L,F,"","\\curlyeqsucc",!0);p(v,L,F,"","\\succsim",!0);p(v,L,F,"","\\succapprox",!0);p(v,L,F,"","\\vartriangleright");p(v,L,F,"","\\trianglerighteq");p(v,L,F,"","\\Vdash",!0);p(v,L,F,"","\\shortmid");p(v,L,F,"","\\shortparallel");p(v,L,F,"","\\between",!0);p(v,L,F,"","\\pitchfork",!0);p(v,L,F,"","\\varpropto");p(v,L,F,"","\\blacktriangleleft");p(v,L,F,"","\\therefore",!0);p(v,L,F,"","\\backepsilon");p(v,L,F,"","\\blacktriangleright");p(v,L,F,"","\\because",!0);p(v,L,F,"","\\llless");p(v,L,F,"","\\gggtr");p(v,L,ue,"","\\lhd");p(v,L,ue,"","\\rhd");p(v,L,F,"","\\eqsim",!0);p(v,k,F,"","\\Join");p(v,L,F,"","\\Doteq",!0);p(v,L,ue,"","\\dotplus",!0);p(v,L,ue,"","\\smallsetminus");p(v,L,ue,"","\\Cap",!0);p(v,L,ue,"","\\Cup",!0);p(v,L,ue,"","\\doublebarwedge",!0);p(v,L,ue,"","\\boxminus",!0);p(v,L,ue,"","\\boxplus",!0);p(v,L,ue,"","\\divideontimes",!0);p(v,L,ue,"","\\ltimes",!0);p(v,L,ue,"","\\rtimes",!0);p(v,L,ue,"","\\leftthreetimes",!0);p(v,L,ue,"","\\rightthreetimes",!0);p(v,L,ue,"","\\curlywedge",!0);p(v,L,ue,"","\\curlyvee",!0);p(v,L,ue,"","\\circleddash",!0);p(v,L,ue,"","\\circledast",!0);p(v,L,ue,"","\\centerdot");p(v,L,ue,"","\\intercal",!0);p(v,L,ue,"","\\doublecap");p(v,L,ue,"","\\doublecup");p(v,L,ue,"","\\boxtimes",!0);p(v,L,F,"","\\dashrightarrow",!0);p(v,L,F,"","\\dashleftarrow",!0);p(v,L,F,"","\\leftleftarrows",!0);p(v,L,F,"","\\leftrightarrows",!0);p(v,L,F,"","\\Lleftarrow",!0);p(v,L,F,"","\\twoheadleftarrow",!0);p(v,L,F,"","\\leftarrowtail",!0);p(v,L,F,"","\\looparrowleft",!0);p(v,L,F,"","\\leftrightharpoons",!0);p(v,L,F,"","\\curvearrowleft",!0);p(v,L,F,"","\\circlearrowleft",!0);p(v,L,F,"","\\Lsh",!0);p(v,L,F,"","\\upuparrows",!0);p(v,L,F,"","\\upharpoonleft",!0);p(v,L,F,"","\\downharpoonleft",!0);p(v,k,F,"","\\origof",!0);p(v,k,F,"","\\imageof",!0);p(v,L,F,"","\\multimap",!0);p(v,L,F,"","\\leftrightsquigarrow",!0);p(v,L,F,"","\\rightrightarrows",!0);p(v,L,F,"","\\rightleftarrows",!0);p(v,L,F,"","\\twoheadrightarrow",!0);p(v,L,F,"","\\rightarrowtail",!0);p(v,L,F,"","\\looparrowright",!0);p(v,L,F,"","\\curvearrowright",!0);p(v,L,F,"","\\circlearrowright",!0);p(v,L,F,"","\\Rsh",!0);p(v,L,F,"","\\downdownarrows",!0);p(v,L,F,"","\\upharpoonright",!0);p(v,L,F,"","\\downharpoonright",!0);p(v,L,F,"","\\rightsquigarrow",!0);p(v,L,F,"","\\leadsto");p(v,L,F,"","\\Rrightarrow",!0);p(v,L,F,"","\\restriction");p(v,k,j,"","`");p(v,k,j,"$","\\$");p(X,k,j,"$","\\$");p(X,k,j,"$","\\textdollar");p(v,k,j,"%","\\%");p(X,k,j,"%","\\%");p(v,k,j,"_","\\_");p(X,k,j,"_","\\_");p(X,k,j,"_","\\textunderscore");p(v,k,j,"","\\angle",!0);p(v,k,j,"","\\infty",!0);p(v,k,j,"","\\prime");p(v,k,j,"","\\triangle");p(v,k,j,"","\\Gamma",!0);p(v,k,j,"","\\Delta",!0);p(v,k,j,"","\\Theta",!0);p(v,k,j,"","\\Lambda",!0);p(v,k,j,"","\\Xi",!0);p(v,k,j,"","\\Pi",!0);p(v,k,j,"","\\Sigma",!0);p(v,k,j,"","\\Upsilon",!0);p(v,k,j,"","\\Phi",!0);p(v,k,j,"","\\Psi",!0);p(v,k,j,"","\\Omega",!0);p(v,k,j,"A","");p(v,k,j,"B","");p(v,k,j,"E","");p(v,k,j,"Z","");p(v,k,j,"H","");p(v,k,j,"I","");p(v,k,j,"K","");p(v,k,j,"M","");p(v,k,j,"N","");p(v,k,j,"O","");p(v,k,j,"P","");p(v,k,j,"T","");p(v,k,j,"X","");p(v,k,j,"","\\neg",!0);p(v,k,j,"","\\lnot");p(v,k,j,"","\\top");p(v,k,j,"","\\bot");p(v,k,j,"","\\emptyset");p(v,L,j,"","\\varnothing");p(v,k,pe,"","\\alpha",!0);p(v,k,pe,"","\\beta",!0);p(v,k,pe,"","\\gamma",!0);p(v,k,pe,"","\\delta",!0);p(v,k,pe,"","\\epsilon",!0);p(v,k,pe,"","\\zeta",!0);p(v,k,pe,"","\\eta",!0);p(v,k,pe,"","\\theta",!0);p(v,k,pe,"","\\iota",!0);p(v,k,pe,"","\\kappa",!0);p(v,k,pe,"","\\lambda",!0);p(v,k,pe,"","\\mu",!0);p(v,k,pe,"","\\nu",!0);p(v,k,pe,"","\\xi",!0);p(v,k,pe,"","\\omicron",!0);p(v,k,pe,"","\\pi",!0);p(v,k,pe,"","\\rho",!0);p(v,k,pe,"","\\sigma",!0);p(v,k,pe,"","\\tau",!0);p(v,k,pe,"","\\upsilon",!0);p(v,k,pe,"","\\phi",!0);p(v,k,pe,"","\\chi",!0);p(v,k,pe,"","\\psi",!0);p(v,k,pe,"","\\omega",!0);p(v,k,pe,"","\\varepsilon",!0);p(v,k,pe,"","\\vartheta",!0);p(v,k,pe,"","\\varpi",!0);p(v,k,pe,"","\\varrho",!0);p(v,k,pe,"","\\varsigma",!0);p(v,k,pe,"","\\varphi",!0);p(v,k,ue,"","*",!0);p(v,k,ue,"+","+");p(v,k,ue,"","-",!0);p(v,k,ue,"","\\cdot",!0);p(v,k,ue,"","\\circ",!0);p(v,k,ue,"","\\div",!0);p(v,k,ue,"","\\pm",!0);p(v,k,ue,"","\\times",!0);p(v,k,ue,"","\\cap",!0);p(v,k,ue,"","\\cup",!0);p(v,k,ue,"","\\setminus",!0);p(v,k,ue,"","\\land");p(v,k,ue,"","\\lor");p(v,k,ue,"","\\wedge",!0);p(v,k,ue,"","\\vee",!0);p(v,k,j,"","\\surd");p(v,k,Jn,"","\\langle",!0);p(v,k,Jn,"","\\lvert");p(v,k,Jn,"","\\lVert");p(v,k,_n,"?","?");p(v,k,_n,"!","!");p(v,k,_n,"","\\rangle",!0);p(v,k,_n,"","\\rvert");p(v,k,_n,"","\\rVert");p(v,k,F,"=","=");p(v,k,F,":",":");p(v,k,F,"","\\approx",!0);p(v,k,F,"","\\cong",!0);p(v,k,F,"","\\ge");p(v,k,F,"","\\geq",!0);p(v,k,F,"","\\gets");p(v,k,F,">","\\gt",!0);p(v,k,F,"","\\in",!0);p(v,k,F,"","\\@not");p(v,k,F,"","\\subset",!0);p(v,k,F,"","\\supset",!0);p(v,k,F,"","\\subseteq",!0);p(v,k,F,"","\\supseteq",!0);p(v,L,F,"","\\nsubseteq",!0);p(v,L,F,"","\\nsupseteq",!0);p(v,k,F,"","\\models");p(v,k,F,"","\\leftarrow",!0);p(v,k,F,"","\\le");p(v,k,F,"","\\leq",!0);p(v,k,F,"<","\\lt",!0);p(v,k,F,"","\\rightarrow",!0);p(v,k,F,"","\\to");p(v,L,F,"","\\ngeq",!0);p(v,L,F,"","\\nleq",!0);p(v,k,Li,"","\\ ");p(v,k,Li,"","\\space");p(v,k,Li,"","\\nobreakspace");p(X,k,Li,"","\\ ");p(X,k,Li,""," ");p(X,k,Li,"","\\space");p(X,k,Li,"","\\nobreakspace");p(v,k,Li,null,"\\nobreak");p(v,k,Li,null,"\\allowbreak");p(v,k,lf,",",",");p(v,k,lf,";",";");p(v,L,ue,"","\\barwedge",!0);p(v,L,ue,"","\\veebar",!0);p(v,k,ue,"","\\odot",!0);p(v,k,ue,"","\\oplus",!0);p(v,k,ue,"","\\otimes",!0);p(v,k,j,"","\\partial",!0);p(v,k,ue,"","\\oslash",!0);p(v,L,ue,"","\\circledcirc",!0);p(v,L,ue,"","\\boxdot",!0);p(v,k,ue,"","\\bigtriangleup");p(v,k,ue,"","\\bigtriangledown");p(v,k,ue,"","\\dagger");p(v,k,ue,"","\\diamond");p(v,k,ue,"","\\star");p(v,k,ue,"","\\triangleleft");p(v,k,ue,"","\\triangleright");p(v,k,Jn,"{","\\{");p(X,k,j,"{","\\{");p(X,k,j,"{","\\textbraceleft");p(v,k,_n,"}","\\}");p(X,k,j,"}","\\}");p(X,k,j,"}","\\textbraceright");p(v,k,Jn,"{","\\lbrace");p(v,k,_n,"}","\\rbrace");p(v,k,Jn,"[","\\lbrack",!0);p(X,k,j,"[","\\lbrack",!0);p(v,k,_n,"]","\\rbrack",!0);p(X,k,j,"]","\\rbrack",!0);p(v,k,Jn,"(","\\lparen",!0);p(v,k,_n,")","\\rparen",!0);p(X,k,j,"<","\\textless",!0);p(X,k,j,">","\\textgreater",!0);p(v,k,Jn,"","\\lfloor",!0);p(v,k,_n,"","\\rfloor",!0);p(v,k,Jn,"","\\lceil",!0);p(v,k,_n,"","\\rceil",!0);p(v,k,j,"\\","\\backslash");p(v,k,j,"","|");p(v,k,j,"","\\vert");p(X,k,j,"|","\\textbar",!0);p(v,k,j,"","\\|");p(v,k,j,"","\\Vert");p(X,k,j,"","\\textbardbl");p(X,k,j,"~","\\textasciitilde");p(X,k,j,"\\","\\textbackslash");p(X,k,j,"^","\\textasciicircum");p(v,k,F,"","\\uparrow",!0);p(v,k,F,"","\\Uparrow",!0);p(v,k,F,"","\\downarrow",!0);p(v,k,F,"","\\Downarrow",!0);p(v,k,F,"","\\updownarrow",!0);p(v,k,F,"","\\Updownarrow",!0);p(v,k,Mt,"","\\coprod");p(v,k,Mt,"","\\bigvee");p(v,k,Mt,"","\\bigwedge");p(v,k,Mt,"","\\biguplus");p(v,k,Mt,"","\\bigcap");p(v,k,Mt,"","\\bigcup");p(v,k,Mt,"","\\int");p(v,k,Mt,"","\\intop");p(v,k,Mt,"","\\iint");p(v,k,Mt,"","\\iiint");p(v,k,Mt,"","\\prod");p(v,k,Mt,"","\\sum");p(v,k,Mt,"","\\bigotimes");p(v,k,Mt,"","\\bigoplus");p(v,k,Mt,"","\\bigodot");p(v,k,Mt,"","\\oint");p(v,k,Mt,"","\\oiint");p(v,k,Mt,"","\\oiiint");p(v,k,Mt,"","\\bigsqcup");p(v,k,Mt,"","\\smallint");p(X,k,ml,"","\\textellipsis");p(v,k,ml,"","\\mathellipsis");p(X,k,ml,"","\\ldots",!0);p(v,k,ml,"","\\ldots",!0);p(v,k,ml,"","\\@cdots",!0);p(v,k,ml,"","\\ddots",!0);p(v,k,j,"","\\varvdots");p(X,k,j,"","\\varvdots");p(v,k,ht,"","\\acute");p(v,k,ht,"","\\grave");p(v,k,ht,"","\\ddot");p(v,k,ht,"~","\\tilde");p(v,k,ht,"","\\bar");p(v,k,ht,"","\\breve");p(v,k,ht,"","\\check");p(v,k,ht,"^","\\hat");p(v,k,ht,"","\\vec");p(v,k,ht,"","\\dot");p(v,k,ht,"","\\mathring");p(v,k,pe,"","\\@imath");p(v,k,pe,"","\\@jmath");p(v,k,j,"","");p(v,k,j,"","");p(X,k,j,"","\\i",!0);p(X,k,j,"","\\j",!0);p(X,k,j,"","\\ss",!0);p(X,k,j,"","\\ae",!0);p(X,k,j,"","\\oe",!0);p(X,k,j,"","\\o",!0);p(X,k,j,"","\\AE",!0);p(X,k,j,"","\\OE",!0);p(X,k,j,"","\\O",!0);p(X,k,ht,"","\\'");p(X,k,ht,"","\\`");p(X,k,ht,"","\\^");p(X,k,ht,"","\\~");p(X,k,ht,"","\\=");p(X,k,ht,"","\\u");p(X,k,ht,"","\\.");p(X,k,ht,"","\\c");p(X,k,ht,"","\\r");p(X,k,ht,"","\\v");p(X,k,ht,"",'\\"');p(X,k,ht,"","\\H");p(X,k,ht,"","\\textcircled");var Sk={"--":!0,"---":!0,"``":!0,"''":!0};p(X,k,j,"","--",!0);p(X,k,j,"","\\textendash");p(X,k,j,"","---",!0);p(X,k,j,"","\\textemdash");p(X,k,j,"","`",!0);p(X,k,j,"","\\textquoteleft");p(X,k,j,"","'",!0);p(X,k,j,"","\\textquoteright");p(X,k,j,"","``",!0);p(X,k,j,"","\\textquotedblleft");p(X,k,j,"","''",!0);p(X,k,j,"","\\textquotedblright");p(v,k,j,"","\\degree",!0);p(X,k,j,"","\\degree");p(X,k,j,"","\\textdegree",!0);p(v,k,j,"","\\pounds");p(v,k,j,"","\\mathsterling",!0);p(X,k,j,"","\\pounds");p(X,k,j,"","\\textsterling",!0);p(v,L,j,"","\\maltese");p(X,L,j,"","\\maltese");var J5='0123456789/@."';for(var Om=0;Om<J5.length;Om++){var Z5=J5.charAt(Om);p(v,k,j,Z5,Z5)}var e7='0123456789!@*()-=+";:?/.,';for(var Lm=0;Lm<e7.length;Lm++){var t7=e7.charAt(Lm);p(X,k,j,t7,t7)}var od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var zm=0;zm<od.length;zm++){var I0=od.charAt(zm);p(v,k,pe,I0,I0),p(X,k,j,I0,I0)}p(v,L,j,"C","");p(X,L,j,"C","");p(v,L,j,"H","");p(X,L,j,"H","");p(v,L,j,"N","");p(X,L,j,"N","");p(v,L,j,"P","");p(X,L,j,"P","");p(v,L,j,"Q","");p(X,L,j,"Q","");p(v,L,j,"R","");p(X,L,j,"R","");p(v,L,j,"Z","");p(X,L,j,"Z","");p(v,k,pe,"h","");p(X,k,pe,"h","");var be="";for(var fn=0;fn<od.length;fn++){var xt=od.charAt(fn);be=String.fromCharCode(55349,56320+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56372+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56424+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56580+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56684+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56736+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56788+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56840+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56944+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),fn<26&&(be=String.fromCharCode(55349,56632+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be),be=String.fromCharCode(55349,56476+fn),p(v,k,pe,xt,be),p(X,k,j,xt,be))}be="";p(v,k,pe,"k",be);p(X,k,j,"k",be);for(var aa=0;aa<10;aa++){var Qi=aa.toString();be=String.fromCharCode(55349,57294+aa),p(v,k,pe,Qi,be),p(X,k,j,Qi,be),be=String.fromCharCode(55349,57314+aa),p(v,k,pe,Qi,be),p(X,k,j,Qi,be),be=String.fromCharCode(55349,57324+aa),p(v,k,pe,Qi,be),p(X,k,j,Qi,be),be=String.fromCharCode(55349,57334+aa),p(v,k,pe,Qi,be),p(X,k,j,Qi,be)}var L1="";for(var Fm=0;Fm<L1.length;Fm++){var A0=L1.charAt(Fm);p(v,k,pe,A0,A0),p(X,k,j,A0,A0)}var C0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],n7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],DW=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[C0[o][2],C0[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[n7[l][2],n7[l][a]]}else{if(s===120485||s===120486)return[C0[0][2],C0[0][a]];if(120486<s&&s<120782)return["",""];throw new ee("Unsupported character: "+e)}},uf=function(e,n,r){return et[r][e]&&et[r][e].replace&&(e=et[r][e].replace),{value:e,metrics:by(e,n,r)}},vr=function(e,n,r,i,s){var a=uf(e,n,r),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new cr(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new cr(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},OW=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&uf(e,"Main-Bold",n).metrics?vr(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||et[n][e].font==="main"?vr(e,"Main-Regular",n,r,i):vr(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},LW=function(e,n,r,i,s){return s!=="textord"&&uf(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},zW=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,u="",h="";if(s.charCodeAt(0)===55349&&([u,h]=DW(s,i)),u.length>0)return vr(s,u,i,n,a.concat(h));if(l){var d,f;if(l==="boldsymbol"){var m=LW(s,i,n,a,r);d=m.fontName,f=[m.fontClass]}else o?(d=Ak[l].fontName,f=[l]):(d=R0(l,n.fontWeight,n.fontShape),f=[l,n.fontWeight,n.fontShape]);if(uf(s,d,i).metrics)return vr(s,d,i,n,a.concat(f));if(Sk.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var y=[],w=0;w<s.length;w++)y.push(vr(s[w],d,i,n,a.concat(f)));return Ik(y)}}if(r==="mathord")return vr(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var S=et[i][s]&&et[i][s].font;if(S==="ams"){var x=R0("amsrm",n.fontWeight,n.fontShape);return vr(s,x,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(S==="main"||!S){var b=R0("textrm",n.fontWeight,n.fontShape);return vr(s,b,i,n,a.concat(n.fontWeight,n.fontShape))}else{var E=R0(S,n.fontWeight,n.fontShape);return vr(s,E,i,n,a.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},FW=(t,e)=>{if(Ls(t.classes)!==Ls(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},VW=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof cr&&r instanceof cr&&FW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},Ey=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},bn=function(e,n,r,i){var s=new Rc(e,n,r,i);return Ey(s),s},Tk=(t,e,n,r)=>new Rc(t,e,n,r),BW=function(e,n,r){var i=bn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ie(i.height),i.maxFontSize=1,i},UW=function(e,n,r,i){var s=new ky(e,n,r,i);return Ey(s),s},Ik=function(e){var n=new Cc(e);return Ey(n),n},jW=function(e,n){return e instanceof Cc?bn([],[e],n):e},qW=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var o=-n[a].shift-s-n[a].elem.depth,l=o-(n[a-1].elem.height+n[a-1].elem.depth);s=s+o,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var f=e.children[d];h-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},HW=function(e,n){for(var{children:r,depth:i}=qW(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=bn(["pstrut"],[]);u.style.height=ie(s);for(var h=[],d=i,f=i,m=i,y=0;y<r.length;y++){var w=r[y];if(w.type==="kern")m+=w.size;else{var S=w.elem,x=w.wrapperClasses||[],b=w.wrapperStyle||{},E=bn(x,[u,S],void 0,b);E.style.top=ie(-s-m-S.depth),w.marginLeft&&(E.style.marginLeft=w.marginLeft),w.marginRight&&(E.style.marginRight=w.marginRight),h.push(E),m+=S.height+S.depth}d=Math.min(d,m),f=Math.max(f,m)}var U=bn(["vlist"],h);U.style.height=ie(f);var q;if(d<0){var z=bn([],[]),N=bn(["vlist"],[z]);N.style.height=ie(-d);var I=bn(["vlist-s"],[new cr("")]);q=[bn(["vlist-r"],[U,I]),bn(["vlist-r"],[N])]}else q=[bn(["vlist-r"],[U])];var P=bn(["vlist-t"],q);return q.length===2&&P.classes.push("vlist-t2"),P.height=f,P.depth=-d,P},$W=(t,e)=>{var n=bn(["mspace"],[],e),r=mt(t,e);return n.style.marginRight=ie(r),n},R0=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},Ak={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ck={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},WW=function(e,n){var[r,i,s]=Ck[e],a=new zs(r),o=new Ri([a],{width:ie(i),height:ie(s),style:"width:"+ie(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=Tk(["overlay"],[o],n);return l.height=s,l.style.height=ie(s),l.style.width=ie(i),l},$={fontMap:Ak,makeSymbol:vr,mathsym:OW,makeSpan:bn,makeSvgSpan:Tk,makeLineSpan:BW,makeAnchor:UW,makeFragment:Ik,wrapFragment:jW,makeVList:HW,makeOrd:zW,makeGlue:$W,staticSvg:WW,svgData:Ck,tryCombineChars:VW},dt={number:3,unit:"mu"},oa={number:4,unit:"mu"},ai={number:5,unit:"mu"},GW={mord:{mop:dt,mbin:oa,mrel:ai,minner:dt},mop:{mord:dt,mop:dt,mrel:ai,minner:dt},mbin:{mord:oa,mop:oa,mopen:oa,minner:oa},mrel:{mord:ai,mop:ai,mopen:ai,minner:ai},mopen:{},mclose:{mop:dt,mbin:oa,mrel:ai,minner:dt},mpunct:{mord:dt,mop:dt,mrel:ai,mopen:dt,mclose:dt,mpunct:dt,minner:dt},minner:{mord:dt,mop:dt,mbin:oa,mrel:ai,mopen:dt,mpunct:dt,minner:dt}},KW={mord:{mop:dt},mop:{mord:dt,mop:dt},mbin:{},mrel:{},mopen:{},mclose:{mop:dt},mpunct:{},minner:{mop:dt}},Rk={},ld={},ud={};function oe(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)Rk[n[l]]=o;e&&(s&&(ld[e]=s),a&&(ud[e]=a))}function Ka(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;oe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var cd=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Tt=function(e){return e.type==="ordgroup"?e.body:[e]},Pi=$.makeSpan,YW=["leftmost","mbin","mopen","mrel","mop","mpunct"],QW=["rightmost","mrel","mclose","mpunct"],XW={display:ge.DISPLAY,text:ge.TEXT,script:ge.SCRIPT,scriptscript:ge.SCRIPTSCRIPT},JW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},zt=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Fe(e[a],n);if(o instanceof Cc){var l=o.children;s.push(...l)}else s.push(o)}if($.tryCombineChars(s),!r)return s;var u=n;if(e.length===1){var h=e[0];h.type==="sizing"?u=n.havingSize(h.size):h.type==="styling"&&(u=n.havingStyle(XW[h.style]))}var d=Pi([i[0]||"leftmost"],[],n),f=Pi([i[1]||"rightmost"],[],n),m=r==="root";return r7(s,(y,w)=>{var S=w.classes[0],x=y.classes[0];S==="mbin"&&QW.includes(x)?w.classes[0]="mord":x==="mbin"&&YW.includes(S)&&(y.classes[0]="mord")},{node:d},f,m),r7(s,(y,w)=>{var S=z1(w),x=z1(y),b=S&&x?y.hasClass("mtight")?KW[S][x]:GW[S][x]:null;if(b)return $.makeGlue(b,u)},{node:d},f,m),s},r7=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=Pk(o);if(l){t(l.children,n,r,null,s);continue}var u=!o.hasClass("mspace");if(u){var h=n(o,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),a++))}u?r.node=o:s&&o.hasClass("newline")&&(r.node=Pi(["leftmost"])),r.insertAfter=(d=>f=>{e.splice(d+1,0,f),a++})(a)}i&&e.pop()},Pk=function(e){return e instanceof Cc||e instanceof ky||e instanceof Rc&&e.hasClass("enclosing")?e:null},ZW=function t(e,n){var r=Pk(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},z1=function(e,n){return e?(n&&(e=ZW(e,n)),JW[e.classes[0]]||null):null},ic=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Pi(n.concat(r))},Fe=function(e,n,r){if(!e)return Pi();if(ld[e.type]){var i=ld[e.type](e,n);if(r&&n.size!==r.size){i=Pi(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new ee("Got group of unknown type: '"+e.type+"'")};function P0(t,e){var n=Pi(["base"],t,e),r=Pi(["strut"]);return r.style.height=ie(n.height+n.depth),n.depth&&(r.style.verticalAlign=ie(-n.depth)),n.children.unshift(r),n}function F1(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=zt(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],o=0;o<r.length;o++)if(a.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,a.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(s.push(P0(a,e)),a=[])}else r[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(P0(a,e)),a=[]),s.push(r[o]));a.length>0&&s.push(P0(a,e));var u;n?(u=P0(zt(n,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var h=Pi(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=ie(h.height+h.depth),h.depth&&(d.style.verticalAlign=ie(-h.depth))}return h}function Nk(t){return new Cc(t)}class jn{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Ls(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Fr&&this.children[r+1]instanceof Fr){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Fr;)i+=this.children[++r].toText();e.appendChild(new Fr(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Be.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Be.escape(Ls(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Fr{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Be.escape(this.toText())}toText(){return this.text}}class eG{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ie(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ie(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var J={MathNode:jn,TextNode:Fr,SpaceNode:eG,newDocumentFragment:Nk},hr=function(e,n,r){return et[n][e]&&et[n][e].replace&&e.charCodeAt(0)!==55349&&!(Sk.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=et[n][e].replace),new J.TextNode(e)},Sy=function(e){return e.length===1?e[0]:new J.MathNode("mrow",e)},Ty=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;et[i][s]&&et[i][s].replace&&(s=et[i][s].replace);var a=$.fontMap[r].fontName;return by(s,a,i)?$.fontMap[r].variant:null};function Vm(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Fr&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Fr&&n.text===","}else return!1}var Mn=function(e,n,r){if(e.length===1){var i=Ye(e[0],n);return r&&i instanceof jn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=Ye(e[o],n);if(l instanceof jn&&a instanceof jn){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(Vm(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&Vm(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||Vm(a))){var u=l.children[0];u instanceof jn&&u.type==="mn"&&(u.children=[...a.children,...u.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof Fr&&h.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Fr&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},Fs=function(e,n,r){return Sy(Mn(e,n,r))},Ye=function(e,n){if(!e)return new J.MathNode("mrow");if(ud[e.type]){var r=ud[e.type](e,n);return r}else throw new ee("Got group of unknown type: '"+e.type+"'")};function i7(t,e,n,r,i){var s=Mn(t,n),a;s.length===1&&s[0]instanceof jn&&["mrow","mtable"].includes(s[0].type)?a=s[0]:a=new J.MathNode("mrow",s);var o=new J.MathNode("annotation",[new J.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new J.MathNode("semantics",[a,o]),u=new J.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return $.makeSpan([h],[u])}var Mk=function(e){return new ui({style:e.displayMode?ge.DISPLAY:ge.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Dk=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=$.makeSpan(r,[e])}return e},tG=function(e,n,r){var i=Mk(r),s;if(r.output==="mathml")return i7(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=F1(e,i);s=$.makeSpan(["katex"],[a])}else{var o=i7(e,n,i,r.displayMode,!1),l=F1(e,i);s=$.makeSpan(["katex"],[o,l])}return Dk(s,r)},nG=function(e,n,r){var i=Mk(r),s=F1(e,i),a=$.makeSpan(["katex"],[s]);return Dk(a,r)},rG={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},iG=function(e){var n=new J.MathNode("mo",[new J.TextNode(rG[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},sG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},aG=function(e){return e.type==="ordgroup"?e.body.length:1},oG=function(e,n){function r(){var o=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=e,h=aG(u.base),d,f,m;if(h>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,m=.42,f=l+"4"):(d=312,o=2340,m=.34,f="tilde4");else{var y=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][y],d=[0,239,300,360,420][y],m=[0,.24,.3,.3,.36,.42][y],f=l+y):(o=[0,600,1033,2339,2340][y],d=[0,260,286,306,312][y],m=[0,.26,.286,.3,.306,.34][y],f="tilde"+y)}var w=new zs(f),S=new Ri([w],{width:"100%",height:ie(m),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:$.makeSvgSpan([],[S],n),minWidth:0,height:m}}else{var x=[],b=sG[l],[E,U,q]=b,z=q/1e3,N=E.length,I,P;if(N===1){var T=b[3];I=["hide-tail"],P=[T]}else if(N===2)I=["halfarrow-left","halfarrow-right"],P=["xMinYMin","xMaxYMin"];else if(N===3)I=["brace-left","brace-center","brace-right"],P=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+N+" children.");for(var M=0;M<N;M++){var V=new zs(E[M]),D=new Ri([V],{width:"400em",height:ie(z),viewBox:"0 0 "+o+" "+q,preserveAspectRatio:P[M]+" slice"}),ye=$.makeSvgSpan([I[M]],[D],n);if(N===1)return{span:ye,minWidth:U,height:z};ye.style.height=ie(z),x.push(ye)}return{span:$.makeSpan(["stretchy"],x,n),minWidth:U,height:z}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=ie(a),s>0&&(i.style.minWidth=ie(s)),i},lG=function(e,n,r,i,s){var a,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=$.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new O1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new O1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Ri(u,{width:"100%",height:ie(o)});a=$.makeSvgSpan([],[h],s)}return a.height=o,a.style.height=ie(o),a},Ni={encloseSpan:lG,mathMLnode:iG,svgSpan:oG};function Ie(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Iy(t){var e=cf(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function cf(t){return t&&(t.type==="atom"||MW.hasOwnProperty(t.type))?t:null}var Ay=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ie(t.base,"accent"),n=r.base,t.base=n,i=PW(Fe(t,e)),t.base=r):(r=Ie(t,"accent"),n=r.base);var s=Fe(n,e.havingCrampedStyle()),a=r.isShifty&&Be.isCharacterBox(n),o=0;if(a){var l=Be.getBaseElem(n),u=Fe(l,e.havingCrampedStyle());o=X5(u).skew}var h=r.label==="\\c",d=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),f;if(r.isStretchy)f=Ni.svgSpan(r,e),f=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ie(2*o)+")",marginLeft:ie(2*o)}:void 0}]},e);else{var m,y;r.label==="\\vec"?(m=$.staticSvg("vec",e),y=$.svgData.vec[1]):(m=$.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=X5(m),m.italic=0,y=m.width,h&&(d+=m.depth)),f=$.makeSpan(["accent-body"],[m]);var w=r.label==="\\textcircled";w&&(f.classes.push("accent-full"),d=s.height);var S=o;w||(S-=y/2),f.style.left=ie(S),r.label==="\\textcircled"&&(f.style.top=".2em"),f=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var x=$.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=x,i.height=Math.max(x.height,i.height),i.classes[0]="mord",i):x},Ok=(t,e)=>{var n=t.isStretchy?Ni.mathMLnode(t.label):new J.MathNode("mo",[hr(t.label,t.mode)]),r=new J.MathNode("mover",[Ye(t.base,e),n]);return r.setAttribute("accent","true"),r},uG=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));oe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=cd(e[0]),r=!uG.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Ay,mathmlBuilder:Ok});oe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Ay,mathmlBuilder:Ok});oe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Fe(t.base,e),r=Ni.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=$.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return $.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=Ni.mathMLnode(t.label),r=new J.MathNode("munder",[Ye(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var N0=t=>{var e=new J.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};oe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=$.wrapFragment(Fe(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=$.wrapFragment(Fe(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=Ni.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;h=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else h=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),$.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var n=Ni.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=N0(Ye(t.body,e));if(t.below){var s=N0(Ye(t.below,e));r=new J.MathNode("munderover",[n,s,i])}else r=new J.MathNode("mover",[n,i])}else if(t.below){var a=N0(Ye(t.below,e));r=new J.MathNode("munder",[n,a])}else r=N0(),r=new J.MathNode("mover",[n,r]);return r}});var cG=$.makeSpan;function Lk(t,e){var n=zt(t.body,e,!0);return cG([t.mclass],n,e)}function zk(t,e){var n,r=Mn(t.body,e);return t.mclass==="minner"?n=new J.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new J.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new J.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}oe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Tt(i),isCharacterBox:Be.isCharacterBox(i)}},htmlBuilder:Lk,mathmlBuilder:zk});var hf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};oe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:hf(e[0]),body:Tt(e[1]),isCharacterBox:Be.isCharacterBox(e[1])}}});oe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=hf(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Tt(i)},l={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:Be.isCharacterBox(l)}},htmlBuilder:Lk,mathmlBuilder:zk});oe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:hf(e[0]),body:Tt(e[0])}},htmlBuilder(t,e){var n=zt(t.body,e,!0),r=$.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Mn(t.body,e),r=new J.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var hG={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},s7=()=>({type:"styling",body:[],mode:"math",style:"display"}),a7=t=>t.type==="textord"&&t.text==="@",dG=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function fG(t,e,n){var r=hG[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mG(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ee("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],o=s7(),l=0;l<a.length;l++)if(!a7(a[l]))o.body.push(a[l]);else{r.push(o),l+=1;var u=Iy(a[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var f=!0,m=l+1;m<a.length;m++){if(dG(a[m],u)){f=!1,l=m;break}if(a7(a[m]))throw new ee("Missing a "+u+" character to complete a CD arrow.",a[m]);h[d].body.push(a[m])}if(f)throw new ee("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new ee('Expected one of "<>AV=|." after @',a[l]);var y=fG(u,h,t),w={type:"styling",body:[y],mode:"math",style:"display"};r.push(w),o=s7()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var S=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:S,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}oe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=$.wrapFragment(Fe(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ie(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new J.MathNode("mrow",[Ye(t.label,e)]);return n=new J.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new J.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});oe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=$.wrapFragment(Fe(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new J.MathNode("mrow",[Ye(t.fragment,e)])}});oe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ie(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=Ie(i[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new ee("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new ee("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var Fk=(t,e)=>{var n=zt(t.body,e.withColor(t.color),!1);return $.makeFragment(n)},Vk=(t,e)=>{var n=Mn(t.body,e.withColor(t.color)),r=new J.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};oe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ie(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Tt(i)}},htmlBuilder:Fk,mathmlBuilder:Vk});oe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ie(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:Fk,mathmlBuilder:Vk});oe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ie(i,"size").value}},htmlBuilder(t,e){var n=$.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ie(mt(t.size,e)))),n},mathmlBuilder(t,e){var n=new J.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ie(mt(t.size,e)))),n}});var V1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Bk=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ee("Expected a control sequence",t);return e},pG=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Uk=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};oe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(V1[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=V1[r.text]),Ie(e.parseFunction(),"internal");throw new ee("Invalid token after macro prefix",r)}});oe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ee("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ee('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ee('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new ee("Expected a macro definition");o[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},n===V1[n]),{type:"internal",mode:e.mode}}});oe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Bk(e.gullet.popToken());e.gullet.consumeSpaces();var i=pG(e);return Uk(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});oe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Bk(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return Uk(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Zl=function(e,n,r){var i=et.math[e]&&et.math[e].replace,s=by(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},Cy=function(e,n,r,i){var s=r.havingBaseStyle(n),a=$.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},jk=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ie(s),e.height-=s,e.depth+=s},gG=function(e,n,r,i,s,a){var o=$.makeSymbol(e,"Main-Regular",s,i),l=Cy(o,n,i,a);return r&&jk(l,i,n),l},yG=function(e,n,r,i){return $.makeSymbol(e,"Size"+n+"-Regular",r,i)},qk=function(e,n,r,i,s,a){var o=yG(e,n,s,i),l=Cy($.makeSpan(["delimsizing","size"+n],[o],i),ge.TEXT,i,a);return r&&jk(l,i,ge.TEXT),l},Bm=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=$.makeSpan(["delimsizinginner",i],[$.makeSpan([],[$.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},Um=function(e,n,r){var i=zr["Size4-Regular"][e.charCodeAt(0)]?zr["Size4-Regular"][e.charCodeAt(0)][4]:zr["Size1-Regular"][e.charCodeAt(0)][4],s=new zs("inner",bW(e,Math.round(1e3*n))),a=new Ri([s],{width:ie(i),height:ie(n),style:"width:"+ie(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=$.makeSvgSpan([],[a],r);return o.height=n,o.style.height=ie(n),o.style.width=ie(i),{type:"elem",elem:o}},B1=.008,M0={type:"kern",size:-1*B1},vG=["|","\\lvert","\\rvert","\\vert"],wG=["\\|","\\lVert","\\rVert","\\Vert"],Hk=function(e,n,r,i,s,a){var o,l,u,h,d="",f=0;o=u=h=e,l=null;var m="Size1-Regular";e==="\\uparrow"?u=h="":e==="\\Uparrow"?u=h="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",h="\\Downarrow"):vG.includes(e)?(u="",d="vert",f=333):wG.includes(e)?(u="",d="doublevert",f=556):e==="["||e==="\\lbrack"?(o="",u="",h="",m="Size4-Regular",d="lbrack",f=667):e==="]"||e==="\\rbrack"?(o="",u="",h="",m="Size4-Regular",d="rbrack",f=667):e==="\\lfloor"||e===""?(u=o="",h="",m="Size4-Regular",d="lfloor",f=667):e==="\\lceil"||e===""?(o="",u=h="",m="Size4-Regular",d="lceil",f=667):e==="\\rfloor"||e===""?(u=o="",h="",m="Size4-Regular",d="rfloor",f=667):e==="\\rceil"||e===""?(o="",u=h="",m="Size4-Regular",d="rceil",f=667):e==="("||e==="\\lparen"?(o="",u="",h="",m="Size4-Regular",d="lparen",f=875):e===")"||e==="\\rparen"?(o="",u="",h="",m="Size4-Regular",d="rparen",f=875):e==="\\{"||e==="\\lbrace"?(o="",l="",h="",u="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",h="",u="",m="Size4-Regular"):e==="\\lgroup"||e===""?(o="",h="",u="",m="Size4-Regular"):e==="\\rgroup"||e===""?(o="",h="",u="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",h="",u="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",h="",u="",m="Size4-Regular");var y=Zl(o,m,s),w=y.height+y.depth,S=Zl(u,m,s),x=S.height+S.depth,b=Zl(h,m,s),E=b.height+b.depth,U=0,q=1;if(l!==null){var z=Zl(l,m,s);U=z.height+z.depth,q=2}var N=w+E+U,I=Math.max(0,Math.ceil((n-N)/(q*x))),P=N+I*q*x,T=i.fontMetrics().axisHeight;r&&(T*=i.sizeMultiplier);var M=P/2-T,V=[];if(d.length>0){var D=P-w-E,ye=Math.round(P*1e3),me=kW(d,Math.round(D*1e3)),Ue=new zs(d,me),Oe=(f/1e3).toFixed(3)+"em",re=(ye/1e3).toFixed(3)+"em",he=new Ri([Ue],{width:Oe,height:re,viewBox:"0 0 "+f+" "+ye}),O=$.makeSvgSpan([],[he],i);O.height=ye/1e3,O.style.width=Oe,O.style.height=re,V.push({type:"elem",elem:O})}else{if(V.push(Bm(h,m,s)),V.push(M0),l===null){var Ee=P-w-E+2*B1;V.push(Um(u,Ee,i))}else{var ve=(P-w-E-U)/2+2*B1;V.push(Um(u,ve,i)),V.push(M0),V.push(Bm(l,m,s)),V.push(M0),V.push(Um(u,ve,i))}V.push(M0),V.push(Bm(o,m,s))}var B=i.havingBaseStyle(ge.TEXT),tt=$.makeVList({positionType:"bottom",positionData:M,children:V},B);return Cy($.makeSpan(["delimsizing","mult"],[tt],B),ge.TEXT,i,a)},jm=80,qm=.08,Hm=function(e,n,r,i,s){var a=xW(e,i,r),o=new zs(e,a),l=new Ri([o],{width:"400em",height:ie(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return $.makeSvgSpan(["hide-tail"],[l],s)},_G=function(e,n){var r=n.havingBaseSizing(),i=Kk("\\surd",e*r.sizeMultiplier,Gk,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,d;return i.type==="small"?(h=1e3+1e3*a+jm,e<1?s=1:e<1.4&&(s=.7),l=(1+a+qm)/s,u=(1+a)/s,o=Hm("sqrtMain",l,h,a,n),o.style.minWidth="0.853em",d=.833/s):i.type==="large"?(h=(1e3+jm)*wu[i.size],u=(wu[i.size]+a)/s,l=(wu[i.size]+a+qm)/s,o=Hm("sqrtSize"+i.size,l,h,a,n),o.style.minWidth="1.02em",d=1/s):(l=e+a+qm,u=e+a,h=Math.floor(1e3*e+a)+jm,o=Hm("sqrtTall",l,h,a,n),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=ie(l),{span:o,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},$k=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],xG=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Wk=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],wu=[0,1.2,1.8,2.4,3],bG=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),$k.includes(e)||Wk.includes(e))return qk(e,n,!1,r,i,s);if(xG.includes(e))return Hk(e,wu[n],!1,r,i,s);throw new ee("Illegal delimiter: '"+e+"'")},kG=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],EG=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"stack"}],Gk=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],SG=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Kk=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=Zl(e,SG(r[a]),"math"),l=o.height+o.depth;if(r[a].type==="small"){var u=i.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},Yk=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;Wk.includes(e)?o=kG:$k.includes(e)?o=Gk:o=EG;var l=Kk(e,n,o,i);return l.type==="small"?gG(e,l.style,r,i,s,a):l.type==="large"?qk(e,l.size,r,i,s,a):Hk(e,n,r,i,s,a)},TG=function(e,n,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(n-o,r+o),d=Math.max(h/500*l,2*h-u);return Yk(e,d,!0,i,s,a)},wi={sqrtImage:_G,sizedDelim:bG,sizeToMaxHeight:wu,customSizedDelim:Yk,leftRightDelim:TG},o7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},IG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function df(t,e){var n=cf(t);if(n&&IG.includes(n.text))return n;throw n?new ee("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ee("Invalid delimiter type '"+t.type+"'",t)}oe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=df(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:o7[t.funcName].size,mclass:o7[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?$.makeSpan([t.mclass]):wi.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(hr(t.delim,t.mode));var n=new J.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ie(wi.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function l7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}oe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ee("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:df(e[0],t).text,color:n}}});oe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=df(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ie(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{l7(t);for(var n=zt(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=ic(e,["mopen"]):o=wi.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),s)for(var l=1;l<n.length;l++){var u=n[l],h=u.isMiddle;h&&(n[l]=wi.leftRightDelim(h.delim,r,i,h.options,t.mode,[]))}var d;if(t.right===".")d=ic(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;d=wi.leftRightDelim(t.right,r,i,f,t.mode,["mclose"])}return n.push(d),$.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{l7(t);var n=Mn(t.body,e);if(t.left!=="."){var r=new J.MathNode("mo",[hr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new J.MathNode("mo",[hr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Sy(n)}});oe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=df(e[0],t);if(!t.parser.leftrightDepth)throw new ee("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=ic(e,[]);else{n=wi.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?hr("|","text"):hr(t.delim,t.mode),r=new J.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Ry=(t,e)=>{var n=$.wrapFragment(Fe(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=Be.isCharacterBox(t.body);if(r==="sout")s=$.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=mt({number:.6,unit:"pt"},e),u=mt({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var d=n.height+n.depth+l+u;n.style.paddingLeft=ie(d/2+l);var f=Math.floor(1e3*d*i),m=wW(f),y=new Ri([new zs("phase",m)],{width:"400em",height:ie(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});s=$.makeSvgSpan(["hide-tail"],[y],e),s.style.height=ie(d),a=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var w=0,S=0,x=0;/box/.test(r)?(x=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),w=e.fontMetrics().fboxsep+(r==="colorbox"?0:x),S=w):r==="angl"?(x=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),w=4*x,S=Math.max(0,.25-n.depth)):(w=o?.2:0,S=w),s=Ni.encloseSpan(n,r,w,S,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ie(x)):r==="angl"&&x!==.049&&(s.style.borderTopWidth=ie(x),s.style.borderRightWidth=ie(x)),a=n.depth+S,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var b;if(t.backgroundColor)b=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];b=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:E}]},e)}return/cancel/.test(r)&&(b.height=n.height,b.depth=n.depth),/cancel/.test(r)&&!o?$.makeSpan(["mord","cancel-lap"],[b],e):$.makeSpan(["mord"],[b],e)},Py=(t,e)=>{var n=0,r=new J.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ye(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};oe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ie(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:Ry,mathmlBuilder:Py});oe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ie(e[0],"color-token").color,a=Ie(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:Ry,mathmlBuilder:Py});oe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});oe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Ry,mathmlBuilder:Py});oe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Qk={};function Jr(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)Qk[n[l]]=o;s&&(ld[e]=s),a&&(ud[e]=a)}var Xk={};function A(t,e){Xk[t]=e}function u7(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var ff=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ee("{"+t.envName+"} can be used only in display mode.")};function Ny(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Js(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)a=1;else if(a=parseFloat(m),!a||a<0)throw new ee("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var y=[],w=[y],S=[],x=[],b=l!=null?[]:void 0;function E(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function U(){b&&(t.gullet.macros.get("\\df@tag")?(b.push(t.subparse([new Kn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),x.push(u7(t));;){var q=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),q={type:"ordgroup",mode:t.mode,body:q},n&&(q={type:"styling",mode:t.mode,style:n,body:[q]}),y.push(q);var z=t.fetch().text;if(z==="&"){if(d&&y.length===d){if(u||o)throw new ee("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(z==="\\end"){U(),y.length===1&&q.type==="styling"&&q.body[0].body.length===0&&(w.length>1||!h)&&w.pop(),x.length<w.length+1&&x.push([]);break}else if(z==="\\\\"){t.consume();var N=void 0;t.gullet.future().text!==" "&&(N=t.parseSizeGroup(!0)),S.push(N?N.value:null),U(),x.push(u7(t)),y=[],w.push(y),E()}else throw new ee("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:w,cols:s,rowGaps:S,hskipBeforeAndAfter:r,hLinesBeforeRow:x,colSeparationType:o,tags:b,leqno:f}}function My(t){return t.slice(0,1)==="d"?"display":"text"}var Zr=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,f=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(ge.SCRIPT).sizeMultiplier;f=.2778*(m/n.sizeMultiplier)}var y=e.colSeparationType==="CD"?mt({number:3,unit:"ex"},n):12*d,w=3*d,S=e.arraystretch*y,x=.7*S,b=.3*S,E=0;function U(Vi){for(var Cr=0;Cr<Vi.length;++Cr)Cr>0&&(E+=.25),u.push({pos:E,isDashed:Vi[Cr]})}for(U(a[0]),r=0;r<e.body.length;++r){var q=e.body[r],z=x,N=b;o<q.length&&(o=q.length);var I=new Array(q.length);for(i=0;i<q.length;++i){var P=Fe(q[i],n);N<P.depth&&(N=P.depth),z<P.height&&(z=P.height),I[i]=P}var T=e.rowGaps[r],M=0;T&&(M=mt(T,n),M>0&&(M+=b,N<M&&(N=M),M=0)),e.addJot&&(N+=w),I.height=z,I.depth=N,E+=z,I.pos=E,E+=N+M,l[r]=I,U(a[r+1])}var V=E/2+n.fontMetrics().axisHeight,D=e.cols||[],ye=[],me,Ue,Oe=[];if(e.tags&&e.tags.some(Vi=>Vi))for(r=0;r<s;++r){var re=l[r],he=re.pos-V,O=e.tags[r],Ee=void 0;O===!0?Ee=$.makeSpan(["eqn-num"],[],n):O===!1?Ee=$.makeSpan([],[],n):Ee=$.makeSpan([],zt(O,n,!0),n),Ee.depth=re.depth,Ee.height=re.height,Oe.push({type:"elem",elem:Ee,shift:he})}for(i=0,Ue=0;i<o||Ue<D.length;++i,++Ue){for(var ve=D[Ue]||{},B=!0;ve.type==="separator";){if(B||(me=$.makeSpan(["arraycolsep"],[]),me.style.width=ie(n.fontMetrics().doubleRuleSep),ye.push(me)),ve.separator==="|"||ve.separator===":"){var tt=ve.separator==="|"?"solid":"dashed",lt=$.makeSpan(["vertical-separator"],[],n);lt.style.height=ie(E),lt.style.borderRightWidth=ie(h),lt.style.borderRightStyle=tt,lt.style.margin="0 "+ie(-h/2);var je=E-V;je&&(lt.style.verticalAlign=ie(-je)),ye.push(lt)}else throw new ee("Invalid separator type: "+ve.separator);Ue++,ve=D[Ue]||{},B=!1}if(!(i>=o)){var wt=void 0;(i>0||e.hskipBeforeAndAfter)&&(wt=Be.deflt(ve.pregap,f),wt!==0&&(me=$.makeSpan(["arraycolsep"],[]),me.style.width=ie(wt),ye.push(me)));var Ut=[];for(r=0;r<s;++r){var Dn=l[r],Qt=Dn[i];if(Qt){var fr=Dn.pos-V;Qt.depth=Dn.depth,Qt.height=Dn.height,Ut.push({type:"elem",elem:Qt,shift:fr})}}Ut=$.makeVList({positionType:"individualShift",children:Ut},n),Ut=$.makeSpan(["col-align-"+(ve.align||"c")],[Ut]),ye.push(Ut),(i<o-1||e.hskipBeforeAndAfter)&&(wt=Be.deflt(ve.postgap,f),wt!==0&&(me=$.makeSpan(["arraycolsep"],[]),me.style.width=ie(wt),ye.push(me)))}}if(l=$.makeSpan(["mtable"],ye),u.length>0){for(var Zs=$.makeLineSpan("hline",n,h),ea=$.makeLineSpan("hdashline",n,h),ti=[{type:"elem",elem:l,shift:0}];u.length>0;){var ni=u.pop(),zi=ni.pos-V;ni.isDashed?ti.push({type:"elem",elem:ea,shift:zi}):ti.push({type:"elem",elem:Zs,shift:zi})}l=$.makeVList({positionType:"individualShift",children:ti},n)}if(Oe.length===0)return $.makeSpan(["mord"],[l],n);var Fi=$.makeVList({positionType:"individualShift",children:Oe},n);return Fi=$.makeSpan(["tag"],[Fi],n),$.makeFragment([l,Fi])},AG={c:"center ",l:"left ",r:"right "},ei=function(e,n){for(var r=[],i=new J.MathNode("mtd",[],["mtr-glue"]),s=new J.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new J.MathNode("mtd",[Ye(o[u],n)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new J.MathNode("mtr",l))}var h=new J.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",ie(d));var f="",m="";if(e.cols&&e.cols.length>0){var y=e.cols,w="",S=!1,x=0,b=y.length;y[0].type==="separator"&&(f+="top ",x=1),y[y.length-1].type==="separator"&&(f+="bottom ",b-=1);for(var E=x;E<b;E++)y[E].type==="align"?(m+=AG[y[E].align],S&&(w+="none "),S=!0):y[E].type==="separator"&&S&&(w+=y[E].separator==="|"?"solid ":"dashed ",S=!1);h.setAttribute("columnalign",m.trim()),/[sd]/.test(w)&&h.setAttribute("columnlines",w.trim())}if(e.colSeparationType==="align"){for(var U=e.cols||[],q="",z=1;z<U.length;z++)q+=z%2?"0em ":"1em ";h.setAttribute("columnspacing",q.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var N="",I=e.hLinesBeforeRow;f+=I[0].length>0?"left ":"",f+=I[I.length-1].length>0?"right ":"";for(var P=1;P<I.length-1;P++)N+=I[P].length===0?"none ":I[P][0]?"dashed ":"solid ";return/[sd]/.test(N)&&h.setAttribute("rowlines",N.trim()),f!==""&&(h=new J.MathNode("menclose",[h]),h.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(h=new J.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Jk=function(e,n){e.envName.indexOf("ed")===-1&&ff(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Js(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:Ny(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",d=0;d<n[0].body.length;d++){var f=Ie(n[0].body[d],"textord");h+=f.text}o=Number(h),l=o*2}var m=!l;a.body.forEach(function(x){for(var b=1;b<x.length;b+=2){var E=Ie(x[b],"styling"),U=Ie(E.body[0],"ordgroup");U.body.unshift(u)}if(m)l<x.length&&(l=x.length);else{var q=x.length/2;if(o<q)throw new ee("Too many math in a row: "+("expected "+o+", but got "+q),x[0])}});for(var y=0;y<l;++y){var w="r",S=0;y%2===1?w="l":y>0&&m&&(S=1),r[y]={type:"align",align:w,pregap:S,postgap:0}}return a.colSeparationType=m?"align":"alignat",a};Jr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=cf(e[0]),r=n?[e[0]]:Ie(e[0],"ordgroup").body,i=r.map(function(a){var o=Iy(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ee("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Js(t.parser,s,My(t.envName))},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ee("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Js(t.parser,r,My(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Js(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=cf(e[0]),r=n?[e[0]]:Ie(e[0],"ordgroup").body,i=r.map(function(a){var o=Iy(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ee("Unknown column alignment: "+l,a)});if(i.length>1)throw new ee("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Js(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ee("{subarray} can contain only one column");return s},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Js(t.parser,e,My(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Jk,htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&ff(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ny(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Js(t.parser,e,"display")},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Jk,htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){ff(t);var e={autoTag:Ny(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Js(t.parser,e,"display")},htmlBuilder:Zr,mathmlBuilder:ei});Jr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return ff(t),mG(t.parser)},htmlBuilder:Zr,mathmlBuilder:ei});A("\\nonumber","\\gdef\\@eqnsw{0}");A("\\notag","\\nonumber");oe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ee(t.funcName+" valid only within array environment")}});var c7=Qk;oe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new ee("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Ie(i.body[a],"textord").text;if(r==="\\begin"){if(!c7.hasOwnProperty(s))throw new ee("No such environment: "+s,i);var o=c7[s],{args:l,optArgs:u}=n.parseArguments("\\begin{"+s+"}",o),h={mode:n.mode,envName:s,parser:n},d=o.handler(h,l,u);n.expect("\\end",!1);var f=n.nextToken,m=Ie(n.parseFunction(),"environment");if(m.name!==s)throw new ee("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",f);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var Zk=(t,e)=>{var n=t.font,r=e.withFont(n);return Fe(t.body,r)},eE=(t,e)=>{var n=t.font,r=e.withFont(n);return Ye(t.body,r)},h7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};oe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=cd(e[0]),s=r;return s in h7&&(s=h7[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:Zk,mathmlBuilder:eE});oe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Be.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:hf(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});oe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:Zk,mathmlBuilder:eE});var tE=(t,e)=>{var n=e;return t==="display"?n=n.id>=ge.SCRIPT.id?n.text():ge.DISPLAY:t==="text"&&n.size===ge.DISPLAY.size?n=ge.TEXT:t==="script"?n=ge.SCRIPT:t==="scriptscript"&&(n=ge.SCRIPTSCRIPT),n},Dy=(t,e)=>{var n=tE(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=Fe(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var u=Fe(t.denom,s,e),h,d,f;t.hasBarLine?(t.barSize?(d=mt(t.barSize,e),h=$.makeLineSpan("frac-line",e,d)):h=$.makeLineSpan("frac-line",e),d=h.height,f=h.height):(h=null,d=0,f=e.fontMetrics().defaultRuleThickness);var m,y,w;n.size===ge.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,d>0?y=3*f:y=7*f,w=e.fontMetrics().denom1):(d>0?(m=e.fontMetrics().num2,y=f):(m=e.fontMetrics().num3,y=3*f),w=e.fontMetrics().denom2);var S;if(h){var b=e.fontMetrics().axisHeight;m-a.depth-(b+.5*d)<y&&(m+=y-(m-a.depth-(b+.5*d))),b-.5*d-(u.height-w)<y&&(w+=y-(b-.5*d-(u.height-w)));var E=-(b-.5*d);S=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:h,shift:E},{type:"elem",elem:a,shift:-m}]},e)}else{var x=m-a.depth-(u.height-w);x<y&&(m+=.5*(y-x),w+=.5*(y-x)),S=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:a,shift:-m}]},e)}s=e.havingStyle(n),S.height*=s.sizeMultiplier/e.sizeMultiplier,S.depth*=s.sizeMultiplier/e.sizeMultiplier;var U;n.size===ge.DISPLAY.size?U=e.fontMetrics().delim1:n.size===ge.SCRIPTSCRIPT.size?U=e.havingStyle(ge.SCRIPT).fontMetrics().delim2:U=e.fontMetrics().delim2;var q,z;return t.leftDelim==null?q=ic(e,["mopen"]):q=wi.customSizedDelim(t.leftDelim,U,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?z=$.makeSpan([]):t.rightDelim==null?z=ic(e,["mclose"]):z=wi.customSizedDelim(t.rightDelim,U,!0,e.havingStyle(n),t.mode,["mclose"]),$.makeSpan(["mord"].concat(s.sizingClasses(e)),[q,$.makeSpan(["mfrac"],[S]),z],e)},Oy=(t,e)=>{var n=new J.MathNode("mfrac",[Ye(t.numer,e),Ye(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=mt(t.barSize,e);n.setAttribute("linethickness",ie(r))}var i=tE(t.size,e.style);if(i.size!==e.style.size){n=new J.MathNode("mstyle",[n]);var s=i.size===ge.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new J.MathNode("mo",[new J.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),t.rightDelim!=null){var l=new J.MathNode("mo",[new J.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Sy(a)}return n};oe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Dy,mathmlBuilder:Oy});oe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});oe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var d7=["display","text","script","scriptscript"],f7=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};oe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=cd(e[0]),a=s.type==="atom"&&s.family==="open"?f7(s.text):null,o=cd(e[1]),l=o.type==="atom"&&o.family==="close"?f7(o.text):null,u=Ie(e[2],"size"),h,d=null;u.isBlank?h=!0:(d=u.value,h=d.number>0);var f="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var y=Ie(m.body[0],"textord");f=d7[Number(y.text)]}}else m=Ie(m,"textord"),f=d7[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:a,rightDelim:l,size:f}},htmlBuilder:Dy,mathmlBuilder:Oy});oe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ie(e[0],"size").value,token:i}}});oe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=iW(Ie(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Dy,mathmlBuilder:Oy});var nE=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Fe(t.sup,e.havingStyle(n.sup()),e):Fe(t.sub,e.havingStyle(n.sub()),e),i=Ie(t.base,"horizBrace")):i=Ie(t,"horizBrace");var s=Fe(i.base,e.havingBaseStyle(ge.DISPLAY)),a=Ni.svgSpan(i,e),o;if(i.isOver?(o=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=$.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=$.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=$.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return $.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},CG=(t,e)=>{var n=Ni.mathMLnode(t.label);return new J.MathNode(t.isOver?"mover":"munder",[Ye(t.base,e),n])};oe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:nE,mathmlBuilder:CG});oe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ie(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Tt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=zt(t.body,e,!1);return $.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Fs(t.body,e);return n instanceof jn||(n=new jn("mrow",[n])),n.setAttribute("href",t.href),n}});oe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ie(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Tt(o)}}});oe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Tt(e[0])}},htmlBuilder(t,e){var n=zt(t.body,e,!1);return $.makeFragment(n)},mathmlBuilder(t,e){return new J.MathNode("mrow",Mn(t.body,e))}});oe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ie(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),h=0;h<u.length;h++){var d=u[h],f=d.indexOf("=");if(f<0)throw new ee("\\htmlData key/value '"+d+"' missing equals sign");var m=d.slice(0,f),y=d.slice(f+1);l["data-"+m.trim()]=y}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:Tt(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=zt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=$.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Fs(t.body,e)});oe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Tt(e[0]),mathml:Tt(e[1])}},htmlBuilder:(t,e)=>{var n=zt(t.html,e,!1);return $.makeFragment(n)},mathmlBuilder:(t,e)=>Fs(t.mathml,e)});var $m=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ee("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!xk(r))throw new ee("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};oe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var l=Ie(n[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":o=f;break;case"width":i=$m(f);break;case"height":s=$m(f);break;case"totalheight":a=$m(f);break;default:throw new ee("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var m=Ie(e[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=mt(t.height,e),r=0;t.totalheight.number>0&&(r=mt(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=mt(t.width,e));var s={height:ie(n+r)};i>0&&(s.width=ie(i)),r>0&&(s.verticalAlign=ie(-r));var a=new CW(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new J.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=mt(t.height,e),i=0;if(t.totalheight.number>0&&(i=mt(t.totalheight,e)-r,n.setAttribute("valign",ie(-i))),n.setAttribute("height",ie(r+i)),t.width.number>0){var s=mt(t.width,e);n.setAttribute("width",ie(s))}return n.setAttribute("src",t.src),n}});oe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ie(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return $.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=mt(t.dimension,e);return new J.SpaceNode(n)}});oe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=$.makeSpan([],[Fe(t.body,e)]),n=$.makeSpan(["inner"],[n],e)):n=$.makeSpan(["inner"],[Fe(t.body,e)]);var r=$.makeSpan(["fix"],[]),i=$.makeSpan([t.alignment],[n,r],e),s=$.makeSpan(["strut"]);return s.style.height=ie(i.height+i.depth),i.depth&&(s.style.verticalAlign=ie(-i.depth)),i.children.unshift(s),i=$.makeSpan(["thinbox"],[i],e),$.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new J.MathNode("mpadded",[Ye(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});oe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});oe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ee("Mismatched "+t.funcName)}});var m7=(t,e)=>{switch(e.style.size){case ge.DISPLAY.size:return t.display;case ge.TEXT.size:return t.text;case ge.SCRIPT.size:return t.script;case ge.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};oe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Tt(e[0]),text:Tt(e[1]),script:Tt(e[2]),scriptscript:Tt(e[3])}},htmlBuilder:(t,e)=>{var n=m7(t,e),r=zt(n,e,!1);return $.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=m7(t,e);return Fs(n,e)}});var rE=(t,e,n,r,i,s,a)=>{t=$.makeSpan([],[t]);var o=n&&Be.isCharacterBox(n),l,u;if(e){var h=Fe(e,r.havingStyle(i.sup()),r);u={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=Fe(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var f;if(u&&l){var m=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;f=$.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ie(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ie(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var y=t.height-a;f=$.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ie(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var w=t.depth+a;f=$.makeVList({positionType:"bottom",positionData:w,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ie(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var S=[f];if(l&&s!==0&&!o){var x=$.makeSpan(["mspace"],[],r);x.style.marginRight=ie(s),S.unshift(x)}return $.makeSpan(["mop","op-limits"],S,r)},iE=["\\smallint"],pl=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ie(t.base,"op"),i=!0):s=Ie(t,"op");var a=e.style,o=!1;a.size===ge.DISPLAY.size&&s.symbol&&!iE.includes(s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),l=$.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var d=l.italic,f=$.staticSvg(h+"Size"+(o?"2":"1"),e);l=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},e),s.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var m=zt(s.body,e,!0);m.length===1&&m[0]instanceof cr?(l=m[0],l.classes[0]="mop"):l=$.makeSpan(["mop"],m,e)}else{for(var y=[],w=1;w<s.name.length;w++)y.push($.mathsym(s.name[w],s.mode,e));l=$.makeSpan(["mop"],y,e)}var S=0,x=0;return(l instanceof cr||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(S=(l.height-l.depth)/2-e.fontMetrics().axisHeight,x=l.italic),i?rE(l,n,r,e,a,x,S):(S&&(l.style.position="relative",l.style.top=ie(S)),l)},Pc=(t,e)=>{var n;if(t.symbol)n=new jn("mo",[hr(t.name,t.mode)]),iE.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new jn("mo",Mn(t.body,e));else{n=new jn("mi",[new Fr(t.name.slice(1))]);var r=new jn("mo",[hr("","text")]);t.parentIsSupSub?n=new jn("mrow",[n,r]):n=Nk([n,r])}return n},RG={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};oe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=RG[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:pl,mathmlBuilder:Pc});oe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Tt(r)}},htmlBuilder:pl,mathmlBuilder:Pc});var PG={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};oe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:pl,mathmlBuilder:Pc});oe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:pl,mathmlBuilder:Pc});oe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=PG[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:pl,mathmlBuilder:Pc});var sE=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ie(t.base,"operatorname"),i=!0):s=Ie(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=zt(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof cr&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=$.makeSpan(["mop"],l,e)}else a=$.makeSpan(["mop"],[],e);return i?rE(a,n,r,e,e.style,0,0):a},NG=(t,e)=>{for(var n=Mn(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof J.SpaceNode))if(s instanceof J.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof J.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(h=>h.toText()).join("");n=[new J.TextNode(o)]}var l=new J.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new J.MathNode("mo",[hr("","text")]);return t.parentIsSupSub?new J.MathNode("mrow",[l,u]):J.newDocumentFragment([l,u])};oe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Tt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:sE,mathmlBuilder:NG});A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ka({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?$.makeFragment(zt(t.body,e,!1)):$.makeSpan(["mord"],zt(t.body,e,!0),e)},mathmlBuilder(t,e){return Fs(t.body,e,!0)}});oe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Fe(t.body,e.havingCrampedStyle()),r=$.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return $.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new J.MathNode("mo",[new J.TextNode("")]);n.setAttribute("stretchy","true");var r=new J.MathNode("mover",[Ye(t.body,e),n]);return r.setAttribute("accent","true"),r}});oe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Tt(r)}},htmlBuilder:(t,e)=>{var n=zt(t.body,e.withPhantom(),!1);return $.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Mn(t.body,e);return new J.MathNode("mphantom",n)}});oe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=$.makeSpan([],[Fe(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),$.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Mn(Tt(t.body),e),r=new J.MathNode("mphantom",n),i=new J.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});oe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=$.makeSpan(["inner"],[Fe(t.body,e.withPhantom())]),r=$.makeSpan(["fix"],[]);return $.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Mn(Tt(t.body),e),r=new J.MathNode("mphantom",n),i=new J.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});oe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ie(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Fe(t.body,e),r=mt(t.dy,e);return $.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new J.MathNode("mpadded",[Ye(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});oe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});oe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ie(e[0],"size"),a=Ie(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ie(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=$.makeSpan(["mord","rule"],[],e),r=mt(t.width,e),i=mt(t.height,e),s=t.shift?mt(t.shift,e):0;return n.style.borderRightWidth=ie(r),n.style.borderTopWidth=ie(i),n.style.bottom=ie(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=mt(t.width,e),r=mt(t.height,e),i=t.shift?mt(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new J.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ie(n)),a.setAttribute("height",ie(r));var o=new J.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",ie(i)):(o.setAttribute("height",ie(i)),o.setAttribute("depth",ie(-i))),o.setAttribute("voffset",ie(i)),o}});function aE(t,e,n){for(var r=zt(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return $.makeFragment(r)}var p7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],MG=(t,e)=>{var n=e.havingSize(t.size);return aE(t.body,n,e)};oe({type:"sizing",names:p7,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:p7.indexOf(r)+1,body:s}},htmlBuilder:MG,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Mn(t.body,n),i=new J.MathNode("mstyle",r);return i.setAttribute("mathsize",ie(n.sizeMultiplier)),i}});oe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&Ie(n[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=$.makeSpan([],[Fe(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return $.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new J.MathNode("mpadded",[Ye(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});oe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Fe(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=$.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<ge.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=n.height+n.depth+a+i,{span:l,ruleWidth:u,advanceWidth:h}=wi.sqrtImage(o,e),d=l.height-u;d>n.height+n.depth+a&&(a=(a+d-n.height-n.depth)/2);var f=l.height-n.height-a-u;n.style.paddingLeft=ie(h);var m=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var y=e.havingStyle(ge.SCRIPTSCRIPT),w=Fe(t.index,y,e),S=.6*(m.height-m.depth),x=$.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:w}]},e),b=$.makeSpan(["root"],[x]);return $.makeSpan(["mord","sqrt"],[b,m],e)}else return $.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new J.MathNode("mroot",[Ye(n,e),Ye(r,e)]):new J.MathNode("msqrt",[Ye(n,e)])}});var g7={display:ge.DISPLAY,text:ge.TEXT,script:ge.SCRIPT,scriptscript:ge.SCRIPTSCRIPT};oe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=g7[t.style],r=e.havingStyle(n).withFont("");return aE(t.body,r,e)},mathmlBuilder(t,e){var n=g7[t.style],r=e.havingStyle(n),i=Mn(t.body,r),s=new J.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var DG=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ge.DISPLAY.size||r.alwaysHandleSupSub);return i?pl:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===ge.DISPLAY.size||r.limits);return s?sE:null}else{if(r.type==="accent")return Be.isCharacterBox(r.base)?Ay:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?nE:null}else return null}else return null};Ka({type:"supsub",htmlBuilder(t,e){var n=DG(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=Fe(r,e),o,l,u=e.fontMetrics(),h=0,d=0,f=r&&Be.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());o=Fe(i,m,e),f||(h=a.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(s){var y=e.havingStyle(e.style.sub());l=Fe(s,y,e),f||(d=a.depth+y.fontMetrics().subDrop*y.sizeMultiplier/e.sizeMultiplier)}var w;e.style===ge.DISPLAY?w=u.sup1:e.style.cramped?w=u.sup3:w=u.sup2;var S=e.sizeMultiplier,x=ie(.5/u.ptPerEm/S),b=null;if(l){var E=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof cr||E)&&(b=ie(-a.italic))}var U;if(o&&l){h=Math.max(h,w,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var q=u.defaultRuleThickness,z=4*q;if(h-o.depth-(l.height-d)<z){d=z-(h-o.depth)+l.height;var N=.8*u.xHeight-(h-o.depth);N>0&&(h+=N,d-=N)}var I=[{type:"elem",elem:l,shift:d,marginRight:x,marginLeft:b},{type:"elem",elem:o,shift:-h,marginRight:x}];U=$.makeVList({positionType:"individualShift",children:I},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var P=[{type:"elem",elem:l,marginLeft:b,marginRight:x}];U=$.makeVList({positionType:"shift",positionData:d,children:P},e)}else if(o)h=Math.max(h,w,o.depth+.25*u.xHeight),U=$.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:x}]},e);else throw new Error("supsub must have either sup or sub.");var T=z1(a,"right")||"mord";return $.makeSpan([T],[a,$.makeSpan(["msupsub"],[U])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Ye(t.base,e)];t.sub&&s.push(Ye(t.sub,e)),t.sup&&s.push(Ye(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===ge.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===ge.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ge.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ge.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===ge.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===ge.DISPLAY)?a="mover":a="msup"}return new J.MathNode(a,s)}});Ka({type:"atom",htmlBuilder(t,e){return $.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new J.MathNode("mo",[hr(t.text,t.mode)]);if(t.family==="bin"){var r=Ty(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var oE={mi:"italic",mn:"normal",mtext:"normal"};Ka({type:"mathord",htmlBuilder(t,e){return $.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new J.MathNode("mi",[hr(t.text,t.mode,e)]),r=Ty(t,e)||"italic";return r!==oE[n.type]&&n.setAttribute("mathvariant",r),n}});Ka({type:"textord",htmlBuilder(t,e){return $.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=hr(t.text,t.mode,e),r=Ty(t,e)||"normal",i;return t.mode==="text"?i=new J.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new J.MathNode("mn",[n]):t.text==="\\prime"?i=new J.MathNode("mo",[n]):i=new J.MathNode("mi",[n]),r!==oE[i.type]&&i.setAttribute("mathvariant",r),i}});var Wm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Gm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ka({type:"spacing",htmlBuilder(t,e){if(Gm.hasOwnProperty(t.text)){var n=Gm[t.text].className||"";if(t.mode==="text"){var r=$.makeOrd(t,e,"textord");return r.classes.push(n),r}else return $.makeSpan(["mspace",n],[$.mathsym(t.text,t.mode,e)],e)}else{if(Wm.hasOwnProperty(t.text))return $.makeSpan(["mspace",Wm[t.text]],[],e);throw new ee('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Gm.hasOwnProperty(t.text))n=new J.MathNode("mtext",[new J.TextNode("")]);else{if(Wm.hasOwnProperty(t.text))return new J.MathNode("mspace");throw new ee('Unknown type of space "'+t.text+'"')}return n}});var y7=()=>{var t=new J.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ka({type:"tag",mathmlBuilder(t,e){var n=new J.MathNode("mtable",[new J.MathNode("mtr",[y7(),new J.MathNode("mtd",[Fs(t.body,e)]),y7(),new J.MathNode("mtd",[Fs(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var v7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},w7={"\\textbf":"textbf","\\textmd":"textmd"},OG={"\\textit":"textit","\\textup":"textup"},_7=(t,e)=>{var n=t.font;if(n){if(v7[n])return e.withTextFontFamily(v7[n]);if(w7[n])return e.withTextFontWeight(w7[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(OG[n])};oe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Tt(i),font:r}},htmlBuilder(t,e){var n=_7(t,e),r=zt(t.body,n,!0);return $.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=_7(t,e);return Fs(t.body,n)}});oe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Fe(t.body,e),r=$.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=$.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return $.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new J.MathNode("mo",[new J.TextNode("")]);n.setAttribute("stretchy","true");var r=new J.MathNode("munder",[Ye(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});oe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Fe(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return $.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new J.MathNode("mpadded",[Ye(t.body,e)],["vcenter"])}});oe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ee("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=x7(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push($.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return $.makeSpan(["mord","text"].concat(i.sizingClasses(e)),$.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new J.TextNode(x7(t)),r=new J.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var x7=t=>t.body.replace(/ /g,t.star?"":""),cs=Rk,lE=`[ \r
	]`,LG="\\\\[a-zA-Z@]+",zG="\\\\[^\uD800-\uDFFF]",FG="("+LG+")"+lE+"*",VG=`\\\\(
|[ \r	]+
?)[ \r	]*`,U1="[-]",BG=new RegExp(U1+"+$"),UG="("+lE+"+)|"+(VG+"|")+"([!-\\[\\]---]"+(U1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(U1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+FG)+("|"+zG+")");class b7{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(UG,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Kn("EOF",new Sn(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ee("Unexpected character: '"+e[n]+"'",new Kn(e[n],new Sn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Kn(i,new Sn(this,n,this.tokenRegex.lastIndex))}}class jG{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ee("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var qG=Xk;A("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});A("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});A("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});A("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});A("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");A("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var k7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ee("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=k7[e.text],r==null||r>=n)throw new ee("Invalid base-"+n+" digit "+e.text);for(var i;(i=k7[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var Ly=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new ee("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new ee("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!n)throw new ee("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ee("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&r||t.macros.set(s,{tokens:i,numArgs:o}),""};A("\\newcommand",t=>Ly(t,!1,!0,!1));A("\\renewcommand",t=>Ly(t,!0,!1,!1));A("\\providecommand",t=>Ly(t,!0,!0,!0));A("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});A("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});A("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),cs[n],et.math[n],et.text[n]),""});A("\\bgroup","{");A("\\egroup","}");A("~","\\nobreakspace");A("\\lq","`");A("\\rq","'");A("\\aa","\\r a");A("\\AA","\\r A");A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");A("","\\mathscr{B}");A("","\\mathscr{E}");A("","\\mathscr{F}");A("","\\mathscr{H}");A("","\\mathscr{I}");A("","\\mathscr{L}");A("","\\mathscr{M}");A("","\\mathscr{R}");A("","\\mathfrak{C}");A("","\\mathfrak{H}");A("","\\mathfrak{Z}");A("\\Bbbk","\\Bbb{k}");A("","\\cdotp");A("\\llap","\\mathllap{\\textrm{#1}}");A("\\rlap","\\mathrlap{\\textrm{#1}}");A("\\clap","\\mathclap{\\textrm{#1}}");A("\\mathstrut","\\vphantom{(}");A("\\underbar","\\underline{\\text{#1}}");A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");A("\\ne","\\neq");A("","\\neq");A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");A("","\\notin");A("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");A("","\\perp");A("","\\mathclose{!\\mkern-0.8mu!}");A("","\\notni");A("","\\ulcorner");A("","\\urcorner");A("","\\llcorner");A("","\\lrcorner");A("","\\copyright");A("","\\textregistered");A("","\\textregistered");A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');A("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");A("","\\vdots");A("\\varGamma","\\mathit{\\Gamma}");A("\\varDelta","\\mathit{\\Delta}");A("\\varTheta","\\mathit{\\Theta}");A("\\varLambda","\\mathit{\\Lambda}");A("\\varXi","\\mathit{\\Xi}");A("\\varPi","\\mathit{\\Pi}");A("\\varSigma","\\mathit{\\Sigma}");A("\\varUpsilon","\\mathit{\\Upsilon}");A("\\varPhi","\\mathit{\\Phi}");A("\\varPsi","\\mathit{\\Psi}");A("\\varOmega","\\mathit{\\Omega}");A("\\substack","\\begin{subarray}{c}#1\\end{subarray}");A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");A("\\boxed","\\fbox{$\\displaystyle{#1}$}");A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");A("\\implies","\\DOTSB\\;\\Longrightarrow\\;");A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");A("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");A("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var E7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in E7?e=E7[n]:(n.slice(0,4)==="\\not"||n in et.math&&["bin","rel"].includes(et.math[n].group))&&(e="\\dotsb"),e});var zy={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(t){var e=t.future().text;return e in zy?"\\ldots\\,":"\\ldots"});A("\\dotsc",function(t){var e=t.future().text;return e in zy&&e!==","?"\\ldots\\,":"\\ldots"});A("\\cdots",function(t){var e=t.future().text;return e in zy?"\\@cdots\\,":"\\@cdots"});A("\\dotsb","\\cdots");A("\\dotsm","\\cdots");A("\\dotsi","\\!\\cdots");A("\\dotsx","\\ldots\\,");A("\\DOTSI","\\relax");A("\\DOTSB","\\relax");A("\\DOTSX","\\relax");A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");A("\\,","\\tmspace+{3mu}{.1667em}");A("\\thinspace","\\,");A("\\>","\\mskip{4mu}");A("\\:","\\tmspace+{4mu}{.2222em}");A("\\medspace","\\:");A("\\;","\\tmspace+{5mu}{.2777em}");A("\\thickspace","\\;");A("\\!","\\tmspace-{3mu}{.1667em}");A("\\negthinspace","\\!");A("\\negmedspace","\\tmspace-{4mu}{.2222em}");A("\\negthickspace","\\tmspace-{5mu}{.277em}");A("\\enspace","\\kern.5em ");A("\\enskip","\\hskip.5em\\relax");A("\\quad","\\hskip1em\\relax");A("\\qquad","\\hskip2em\\relax");A("\\tag","\\@ifstar\\tag@literal\\tag@paren");A("\\tag@paren","\\tag@literal{({#1})}");A("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ee("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");A("\\newline","\\\\\\relax");A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var uE=ie(zr["Main-Regular"][84][1]-.7*zr["Main-Regular"][65][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+uE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+uE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");A("\\hspace","\\@ifstar\\@hspacer\\@hspace");A("\\@hspace","\\hskip #1\\relax");A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");A("\\ordinarycolon",":");A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');A("","\\dblcolon");A("","\\eqcolon");A("","\\coloneqq");A("","\\eqqcolon");A("","\\Coloneqq");A("\\ratio","\\vcentcolon");A("\\coloncolon","\\dblcolon");A("\\colonequals","\\coloneqq");A("\\coloncolonequals","\\Coloneqq");A("\\equalscolon","\\eqqcolon");A("\\equalscoloncolon","\\Eqqcolon");A("\\colonminus","\\coloneq");A("\\coloncolonminus","\\Coloneq");A("\\minuscolon","\\eqcolon");A("\\minuscoloncolon","\\Eqcolon");A("\\coloncolonapprox","\\Colonapprox");A("\\coloncolonsim","\\Colonsim");A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");A("\\ngeqq","\\html@mathml{\\@ngeqq}{}");A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");A("\\nleqq","\\html@mathml{\\@nleqq}{}");A("\\nleqslant","\\html@mathml{\\@nleqslant}{}");A("\\nshortmid","\\html@mathml{\\@nshortmid}{}");A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");A("\\imath","\\html@mathml{\\@imath}{}");A("\\jmath","\\html@mathml{\\@jmath}{}");A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");A("","\\llbracket");A("","\\rrbracket");A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");A("","\\lBrace");A("","\\rBrace");A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");A("","\\minuso");A("\\darr","\\downarrow");A("\\dArr","\\Downarrow");A("\\Darr","\\Downarrow");A("\\lang","\\langle");A("\\rang","\\rangle");A("\\uarr","\\uparrow");A("\\uArr","\\Uparrow");A("\\Uarr","\\Uparrow");A("\\N","\\mathbb{N}");A("\\R","\\mathbb{R}");A("\\Z","\\mathbb{Z}");A("\\alef","\\aleph");A("\\alefsym","\\aleph");A("\\Alpha","\\mathrm{A}");A("\\Beta","\\mathrm{B}");A("\\bull","\\bullet");A("\\Chi","\\mathrm{X}");A("\\clubs","\\clubsuit");A("\\cnums","\\mathbb{C}");A("\\Complex","\\mathbb{C}");A("\\Dagger","\\ddagger");A("\\diamonds","\\diamondsuit");A("\\empty","\\emptyset");A("\\Epsilon","\\mathrm{E}");A("\\Eta","\\mathrm{H}");A("\\exist","\\exists");A("\\harr","\\leftrightarrow");A("\\hArr","\\Leftrightarrow");A("\\Harr","\\Leftrightarrow");A("\\hearts","\\heartsuit");A("\\image","\\Im");A("\\infin","\\infty");A("\\Iota","\\mathrm{I}");A("\\isin","\\in");A("\\Kappa","\\mathrm{K}");A("\\larr","\\leftarrow");A("\\lArr","\\Leftarrow");A("\\Larr","\\Leftarrow");A("\\lrarr","\\leftrightarrow");A("\\lrArr","\\Leftrightarrow");A("\\Lrarr","\\Leftrightarrow");A("\\Mu","\\mathrm{M}");A("\\natnums","\\mathbb{N}");A("\\Nu","\\mathrm{N}");A("\\Omicron","\\mathrm{O}");A("\\plusmn","\\pm");A("\\rarr","\\rightarrow");A("\\rArr","\\Rightarrow");A("\\Rarr","\\Rightarrow");A("\\real","\\Re");A("\\reals","\\mathbb{R}");A("\\Reals","\\mathbb{R}");A("\\Rho","\\mathrm{P}");A("\\sdot","\\cdot");A("\\sect","\\S");A("\\spades","\\spadesuit");A("\\sub","\\subset");A("\\sube","\\subseteq");A("\\supe","\\supseteq");A("\\Tau","\\mathrm{T}");A("\\thetasym","\\vartheta");A("\\weierp","\\wp");A("\\Zeta","\\mathrm{Z}");A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");A("\\bra","\\mathinner{\\langle{#1}|}");A("\\ket","\\mathinner{|{#1}\\rangle}");A("\\braket","\\mathinner{\\langle{#1}\\rangle}");A("\\Bra","\\left\\langle#1\\right|");A("\\Ket","\\left|#1\\right\\rangle");var cE=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>f=>{t&&(f.macros.set("|",a),i.length&&f.macros.set("\\|",o));var m=d;if(!d&&i.length){var y=f.future();y.text==="|"&&(f.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...s,...u,...n]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};A("\\bra@ket",cE(!1));A("\\bra@set",cE(!0));A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");A("\\angln","{\\angl n}");A("\\blue","\\textcolor{##6495ed}{#1}");A("\\orange","\\textcolor{##ffa500}{#1}");A("\\pink","\\textcolor{##ff00af}{#1}");A("\\red","\\textcolor{##df0030}{#1}");A("\\green","\\textcolor{##28ae7b}{#1}");A("\\gray","\\textcolor{gray}{#1}");A("\\purple","\\textcolor{##9d38bd}{#1}");A("\\blueA","\\textcolor{##ccfaff}{#1}");A("\\blueB","\\textcolor{##80f6ff}{#1}");A("\\blueC","\\textcolor{##63d9ea}{#1}");A("\\blueD","\\textcolor{##11accd}{#1}");A("\\blueE","\\textcolor{##0c7f99}{#1}");A("\\tealA","\\textcolor{##94fff5}{#1}");A("\\tealB","\\textcolor{##26edd5}{#1}");A("\\tealC","\\textcolor{##01d1c1}{#1}");A("\\tealD","\\textcolor{##01a995}{#1}");A("\\tealE","\\textcolor{##208170}{#1}");A("\\greenA","\\textcolor{##b6ffb0}{#1}");A("\\greenB","\\textcolor{##8af281}{#1}");A("\\greenC","\\textcolor{##74cf70}{#1}");A("\\greenD","\\textcolor{##1fab54}{#1}");A("\\greenE","\\textcolor{##0d923f}{#1}");A("\\goldA","\\textcolor{##ffd0a9}{#1}");A("\\goldB","\\textcolor{##ffbb71}{#1}");A("\\goldC","\\textcolor{##ff9c39}{#1}");A("\\goldD","\\textcolor{##e07d10}{#1}");A("\\goldE","\\textcolor{##a75a05}{#1}");A("\\redA","\\textcolor{##fca9a9}{#1}");A("\\redB","\\textcolor{##ff8482}{#1}");A("\\redC","\\textcolor{##f9685d}{#1}");A("\\redD","\\textcolor{##e84d39}{#1}");A("\\redE","\\textcolor{##bc2612}{#1}");A("\\maroonA","\\textcolor{##ffbde0}{#1}");A("\\maroonB","\\textcolor{##ff92c6}{#1}");A("\\maroonC","\\textcolor{##ed5fa6}{#1}");A("\\maroonD","\\textcolor{##ca337c}{#1}");A("\\maroonE","\\textcolor{##9e034e}{#1}");A("\\purpleA","\\textcolor{##ddd7ff}{#1}");A("\\purpleB","\\textcolor{##c6b9fc}{#1}");A("\\purpleC","\\textcolor{##aa87ff}{#1}");A("\\purpleD","\\textcolor{##7854ab}{#1}");A("\\purpleE","\\textcolor{##543b78}{#1}");A("\\mintA","\\textcolor{##f5f9e8}{#1}");A("\\mintB","\\textcolor{##edf2df}{#1}");A("\\mintC","\\textcolor{##e0e5cc}{#1}");A("\\grayA","\\textcolor{##f6f7f7}{#1}");A("\\grayB","\\textcolor{##f0f1f2}{#1}");A("\\grayC","\\textcolor{##e3e5e6}{#1}");A("\\grayD","\\textcolor{##d6d8da}{#1}");A("\\grayE","\\textcolor{##babec2}{#1}");A("\\grayF","\\textcolor{##888d93}{#1}");A("\\grayG","\\textcolor{##626569}{#1}");A("\\grayH","\\textcolor{##3b3e40}{#1}");A("\\grayI","\\textcolor{##21242c}{#1}");A("\\kaBlue","\\textcolor{##314453}{#1}");A("\\kaGreen","\\textcolor{##71B307}{#1}");var hE={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class HG{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new jG(qG,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new b7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Kn("EOF",r.loc)),this.pushTokens(i),new Kn("",Sn.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new ee("Extra }",s)}else if(s.text==="EOF")throw new ee("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ee("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new ee("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(n&&n[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ee("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ee("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new ee("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new ee("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Kn(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new b7(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:s};return h}return i}isDefined(e){return this.macros.has(e)||cs.hasOwnProperty(e)||et.math.hasOwnProperty(e)||et.text.hasOwnProperty(e)||hE.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:cs.hasOwnProperty(e)&&!cs[e].primitive}}var S7=/^[]/,D0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Km={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},T7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class mf{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new HG(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ee("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Kn("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(mf.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&cs[i.text]&&cs[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new ee("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,o=e.slice(0,n),l=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[n],a],[]):u=this.callFunction(r,[s,a],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new ee("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ee("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ee("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new ee("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ee("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(D0[s.text]){var u=S7.test(s.text),h=[];for(h.push(new Kn(D0[s.text])),this.consume();;){var d=this.fetch().text;if(!D0[d]||S7.test(d)!==u)break;h.unshift(new Kn(D0[d])),this.consume()}var f=this.subparse(h);u?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=cs[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ee("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ee("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ee("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=cs[e];if(o&&o.handler)return o.handler(a,n,r);throw new ee("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var o=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)i.push(u);else throw new ee("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ee("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new ee("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ee("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new ee("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ee("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ee("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!xk(s))throw new ee("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Sn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!hE.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ee("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Sn.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Sn.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Sn.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ee(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}T7.hasOwnProperty(n[0])&&!et[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=T7[n[0]]+n.slice(1));var s=BG.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var a;if(et[this.mode][n]){this.settings.strict&&this.mode==="math"&&L1.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=et[this.mode][n].group,l=Sn.range(e),u;if(NW.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};a=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(_k(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Sn.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var f=s[0][d];if(!Km[f])throw new ee("Unknown accent ' "+f+"'",e);var m=Km[f][this.mode]||Km[f].text;if(!m)throw new ee("Accent "+f+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Sn.range(e),label:m,isStretchy:!1,isShifty:!0,base:a}}return a}}mf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Fy=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new mf(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ee("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Kn("\\df@tag")])}]}return i},dE=function(e,n,r){n.textContent="";var i=Vy(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),dE=function(){throw new ee("KaTeX doesn't work in quirks mode.")});var $G=function(e,n){var r=Vy(e,n).toMarkup();return r},WG=function(e,n){var r=new _y(n);return Fy(e,r)},fE=function(e,n,r){if(r.throwOnError||!(e instanceof ee))throw e;var i=$.makeSpan(["katex-error"],[new cr(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Vy=function(e,n){var r=new _y(n);try{var i=Fy(e,r);return tG(i,e,r)}catch(s){return fE(s,e,r)}},GG=function(e,n){var r=new _y(n);try{var i=Fy(e,r);return nG(i,e,r)}catch(s){return fE(s,e,r)}},KG="0.16.27",YG={Span:Rc,Anchor:ky,SymbolNode:cr,SvgNode:Ri,PathNode:zs,LineNode:O1},I7={version:KG,render:dE,renderToString:$G,ParseError:ee,SETTINGS_SCHEMA:ah,__parse:WG,__renderToDomTree:Vy,__renderToHTMLTree:GG,__setFontMetrics:EW,__defineSymbol:p,__defineFunction:oe,__defineMacro:A,__domTree:YG};const QG={};function mE(t){const e=this,n=t||QG,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Q$(n)),s.push(j$()),a.push(q$(n))}const A7=/[#.]/g;function XG(t,e){const n=t||"",r={};let i=0,s,a;for(;i<n.length;){A7.lastIndex=i;const o=A7.exec(n),l=n.slice(i,o?o.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:r,children:[]}}function pE(t,e,n){const r=n?tK(n):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const u=a;o.unshift(u)}else{l=XG(s,e);const u=l.tagName.toLowerCase(),h=r?r.get(u):void 0;if(l.tagName=h||u,JG(a))o.unshift(a);else for(const[d,f]of Object.entries(a))ZG(t,l.properties,d,f)}for(const u of o)j1(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function JG(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function ZG(t,e,n,r){const i=gb(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=e5(r):i.commaSeparated?s=Y6(r):i.commaOrSpaceSeparated?s=e5(Y6(r).join(" ")):s=C7(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?eK(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(C7(i,i.property,o));s=a}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function j1(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)j1(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?j1(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function C7(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||ec(n)===ec(e)))return!0}return n}function eK(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function tK(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const nK=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],rK=pE(yb,"div"),iK=pE(tf,"g",nK),Ym={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function sK(t,e){return gE(t,{})||{type:"root",children:[]}}function gE(t,e){const n=aK(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function aK(t,e){switch(t.nodeType){case 1:return cK(t,e);case 3:return lK(t);case 8:return uK(t);case 9:return R7(t,e);case 10:return oK();case 11:return R7(t,e);default:return}}function R7(t,e){return{type:"root",children:yE(t,e)}}function oK(){return{type:"doctype"}}function lK(t){return{type:"text",value:t.nodeValue||""}}function uK(t){return{type:"comment",value:t.nodeValue||""}}function cK(t,e){const n=t.namespaceURI,r=n===Ym.svg?iK:rK,i=n===Ym.html?t.tagName.toLowerCase():t.tagName,s=n===Ym.html&&i==="template"?t.content:t,a=t.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=t.getAttribute(a[l])||"";return r(i,o,yE(s,e))}function yE(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const s=gE(n[i],e);s!==void 0&&r.push(s)}return r}new DOMParser;function hK(t,e){const n=dK(t);return sK(n)}function dK(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const P7=function(t,e,n){const r=Ic(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},Ya=function(t){if(t==null)return pK;if(typeof t=="string")return mK(t);if(typeof t=="object")return fK(t);if(typeof t=="function")return By(t);throw new Error("Expected function, string, or array as `test`")};function fK(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ya(t[n]);return By(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function mK(t){return By(e);function e(n){return n.tagName===t}}function By(t){return e;function e(n,r,i){return!!(gK(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pK(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function gK(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const N7=/\n/g,M7=/[\t ]+/g,q1=Ya("br"),D7=Ya(EK),yK=Ya("p"),O7=Ya("tr"),vK=Ya(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",kK,SK]),vE=Ya(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function wK(t,e){const n=e||{},r="children"in t?t.children:[],i=vE(t),s=xE(t,{whitespace:n.whitespace||"normal"}),a=[];(t.type==="text"||t.type==="comment")&&a.push(..._E(t,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)a.push(...wE(r[o],t,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<r.length-1?q1(r[o+1]):i}));const l=[];let u;for(o=-1;++o<a.length;){const h=a[o];typeof h=="number"?u!==void 0&&h>u&&(u=h):h&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(h))}return l.join("")}function wE(t,e,n){return t.type==="element"?_K(t,e,n):t.type==="text"?n.whitespace==="normal"?_E(t,n):xK(t):[]}function _K(t,e,n){const r=xE(t,n),i=t.children||[];let s=-1,a=[];if(vK(t))return a;let o,l;for(q1(t)||O7(t)&&P7(e,t,O7)?l=`
`:yK(t)?(o=2,l=2):vE(t)&&(o=1,l=1);++s<i.length;)a=a.concat(wE(i[s],t,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<i.length-1?q1(i[s+1]):l}));return D7(t)&&P7(e,t,D7)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function _E(t,e){const n=String(t.value),r=[],i=[];let s=0;for(;s<=n.length;){N7.lastIndex=s;const l=N7.exec(n),u=l&&"index"in l?l.index:n.length;r.push(bK(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),s=u+1}let a=-1,o;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),o=void 0):r[a]?(typeof o=="number"&&i.push(o),i.push(r[a]),o=0):(a===0||a===r.length-1)&&i.push(0);return i}function xK(t){return[String(t.value)]}function bK(t,e,n){const r=[];let i=0,s;for(;i<t.length;){M7.lastIndex=i;const a=M7.exec(t);s=a?a.index:t.length,!i&&!s&&a&&!e&&r.push(""),i!==s&&r.push(t.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function xE(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function kK(t){return!!(t.properties||{}).hidden}function EK(t){return t.tagName==="td"||t.tagName==="th"}function SK(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const TK={},IK=[];function bE(t){const e=t||TK;return function(n,r){my(n,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:IK,o=a.includes("language-math"),l=a.includes("math-display"),u=a.includes("math-inline");let h=l;if(!o&&!l&&!u)return;let d=s[s.length-1],f=i;if(i.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(f=d,d=s[s.length-2],h=!0),!d)return;const m=wK(f,{whitespace:"pre"});let y;try{y=I7.renderToString(m,{...e,displayMode:h,throwOnError:!0})}catch(S){const x=S,b=x.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:x,place:i.position,ruleId:b,source:"rehype-katex"});try{y=I7.renderToString(m,{...e,displayMode:h,strict:"ignore",throwOnError:!1})}catch{y=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(S)},children:[{type:"text",value:m}]}]}}typeof y=="string"&&(y=hK(y).children);const w=d.children.indexOf(f);return d.children.splice(w,1,...y),Hb})}}const kE=W.forwardRef(function({label:e,hint:n,className:r,...i},s){return C.jsxs("label",{className:"block",children:[e&&C.jsx("div",{className:"text-sm font-medium mb-1",children:e}),C.jsx("textarea",{ref:s,className:kc("w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm min-h-[120px]","focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 ring-offset-white",r),...i}),n&&C.jsx("div",{className:"text-xs text-slate-500 mt-1",children:n})]})});function Uy(t,e){if(t.status!=="running")return t.durationSec;const n=t.startedAt,r=n?n.toMillis():e,i=Math.max(0,(e-r)/1e3);return Math.max(0,Math.round(t.durationSec-i))}async function AK(t,e){e.status!=="running"&&await Ar(t,e.id,{status:"running",startedAt:Ai()})}async function CK(t,e){if(e.status!=="running")return;const n=Uy(e,Date.now());await Ar(t,e.id,{status:"paused",durationSec:n,startedAt:null})}async function RK(t,e){e.status==="paused"&&await Ar(t,e.id,{status:"running",startedAt:Ai()})}async function PK(t,e,n){await Ar(t,e,{status:"idle",durationSec:n,startedAt:null})}async function NK(t,e){if(e.status!=="running")return;Uy(e,Date.now())<=0&&await Ar(t,e.id,{status:"done"})}function MK({labId:t,item:e,itemsById:n,onOpenFolder:r}){return e?C.jsxs(Zu,{title:C.jsx("div",{className:"flex items-center gap-2",children:e.name}),subtitle:C.jsx(DK,{item:e,itemsById:n,onOpenFolder:r}),children:[e.type==="folder"&&C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"text-sm text-slate-600",children:"This is a folder. Doubleclick it in the list to open."}),C.jsx(it,{variant:"secondary",leftIcon:C.jsx(cz,{size:16}),onClick:()=>r(e.id),children:"Open folder"})]}),e.type==="note"&&C.jsx(OK,{labId:t,item:e}),e.type==="protocol"&&C.jsx(LK,{labId:t,item:e}),e.type==="timer"&&C.jsx(zK,{labId:t,item:e}),e.type==="file"&&C.jsx(FK,{item:e})]}):C.jsx(Zu,{title:"Details",subtitle:"Select an item",children:C.jsx("div",{className:"text-sm text-slate-500",children:"Pick an item from the list to view or edit it here."})})}function DK({item:t,itemsById:e,onOpenFolder:n}){const r=t.parentId?e[t.parentId]:null;return C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs text-slate-500",children:t.type}),C.jsx("span",{className:"text-xs text-slate-400",children:""}),C.jsx("button",{className:"text-xs text-slate-600 hover:underline underline-offset-4",onClick:()=>n(r?r.id:null),children:r?r.name:"Home"})]})}function OK({labId:t,item:e}){const{push:n}=dr(),[r,i]=W.useState("edit"),[s,a]=W.useState(e.content??""),o=W.useRef(null);return W.useEffect(()=>{a(e.content??"")},[e.id]),W.useEffect(()=>(o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(async()=>{try{await Ar(t,e.id,{content:s})}catch(l){n({title:"Save failed",message:(l==null?void 0:l.message)??"Please try again."})}},500),()=>{o.current&&window.clearTimeout(o.current)}),[s,t,e.id,n]),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{className:"px-3 py-1 rounded-xl text-sm border "+(r==="edit"?"border-slate-900 bg-slate-50":"border-slate-200 hover:bg-slate-50"),onClick:()=>i("edit"),children:"Edit"}),C.jsx("button",{className:"px-3 py-1 rounded-xl text-sm border "+(r==="preview"?"border-slate-900 bg-slate-50":"border-slate-200 hover:bg-slate-50"),onClick:()=>i("preview"),children:"Preview"})]}),r==="edit"?C.jsx(kE,{value:s,onChange:l=>a(l.target.value),placeholder:"Write Markdown (tables via GFM, math via $...$)",className:"min-h-[320px]"}):C.jsx("div",{className:"prose prose-slate max-w-none",children:C.jsx(Gb,{remarkPlugins:[vk,mE],rehypePlugins:[bE],children:s||"_(empty)_"})})]})}function LK({labId:t,item:e}){const{push:n}=dr(),[r,i]=W.useState(e.raw??""),s=W.useRef(null);W.useEffect(()=>{i(e.raw??"")},[e.id]),W.useEffect(()=>(s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(async()=>{try{await Ar(t,e.id,{raw:r})}catch(u){n({title:"Save failed",message:(u==null?void 0:u.message)??"Please try again."})}},600),()=>{s.current&&window.clearTimeout(s.current)}),[r,t,e.id,n]);async function a(){try{const u=await navigator.clipboard.readText();if(!u.trim()){n({title:"Clipboard empty",message:"Copy some protocol text first."});return}await JF(t,e.id,u),n({title:"Protocol parsed",message:"Checklist generated from pasted text."})}catch(u){n({title:"Paste failed",message:(u==null?void 0:u.message)??"Browser blocked clipboard access."})}}async function o(u,h){const d=(e.steps??[]).map(f=>f.id===u?{...f,...h}:f);await Ar(t,e.id,{steps:d})}const l=(e.steps??[]).filter(u=>u.checked).length;return C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsx(it,{variant:"secondary",leftIcon:C.jsx(az,{size:16}),onClick:a,children:"Paste  Checklist"}),C.jsx("div",{className:"text-xs text-slate-500",children:"Parses bullets/numbered lines into checkable steps. Tables & formulas stay in the raw view."})]}),C.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-3",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{className:"text-sm font-semibold",children:"Checklist"}),C.jsxs("div",{className:"text-xs text-slate-500",children:[l,"/",(e.steps??[]).length," done"]})]}),C.jsx("div",{className:"mt-2 space-y-2",children:(e.steps??[]).length===0?C.jsx("div",{className:"text-sm text-slate-500",children:"No steps yet. Use Paste  Checklist."}):e.steps.map(u=>C.jsx("div",{className:"rounded-2xl bg-white border border-slate-200 p-3",children:C.jsxs("label",{className:"flex items-start gap-2",children:[C.jsx("input",{type:"checkbox",checked:u.checked,onChange:h=>o(u.id,{checked:h.target.checked}),className:"mt-1"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("input",{className:"w-full text-sm font-medium outline-none",value:u.text,onChange:h=>o(u.id,{text:h.target.value})}),C.jsx("input",{className:"w-full text-sm text-slate-600 mt-1 outline-none",placeholder:"Note (optional)",value:u.note??"",onChange:h=>o(u.id,{note:h.target.value})})]})]})},u.id))})]}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-semibold mb-2",children:"Raw protocol (Markdown)"}),C.jsx(kE,{value:r,onChange:u=>i(u.target.value),className:"min-h-[220px]"}),C.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Supports tables (GFM) and formulas like $E = mc^2$."})]}),r.trim()&&C.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3",children:[C.jsx("div",{className:"text-sm font-semibold mb-2",children:"Preview"}),C.jsx("div",{className:"prose prose-slate max-w-none",children:C.jsx(Gb,{remarkPlugins:[vk,mE],rehypePlugins:[bE],children:r})})]})]})}function zK({labId:t,item:e}){const{push:n}=dr(),[r,i]=W.useState(0),[s,a]=W.useState(Math.floor(e.durationSec/60)),[o,l]=W.useState(e.durationSec%60);W.useEffect(()=>{a(Math.floor(e.durationSec/60)),l(e.durationSec%60)},[e.id,e.durationSec]),W.useEffect(()=>{const y=window.setInterval(()=>i(w=>w+1),1e3);return()=>window.clearInterval(y)},[]),W.useEffect(()=>{NK(t,e).catch(()=>{})},[r,t,e]);const u=Uy(e,Date.now()),h=Math.max(1,e.status==="idle"?s*60+o:e.durationSec),d=Math.min(1,Math.max(0,u/h));function f(y){const w=Math.floor(y/60),S=y%60;return`${String(w).padStart(2,"0")}:${String(S).padStart(2,"0")}`}async function m(){const y=Math.max(1,s*60+o);await Ar(t,e.id,{durationSec:y,status:"idle",startedAt:null}),n({title:"Timer set",message:f(y)})}return C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[C.jsx("div",{className:"text-xs text-slate-500",children:"Remaining"}),C.jsx("div",{className:"text-3xl font-semibold tabular-nums",children:f(u)}),C.jsx("div",{className:"mt-3 h-2 rounded-full bg-white border border-slate-200 overflow-hidden",children:C.jsx("div",{className:"h-full bg-slate-900",style:{width:`${d*100}%`}})}),C.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.status!=="running"?C.jsx(it,{variant:"primary",leftIcon:C.jsx(L6,{size:16}),onClick:()=>AK(t,e).catch(y=>n({title:"Start failed",message:String(y)})),children:"Start"}):C.jsx(it,{variant:"secondary",leftIcon:C.jsx(gz,{size:16}),onClick:()=>CK(t,e).catch(y=>n({title:"Pause failed",message:String(y)})),children:"Pause"}),e.status==="paused"&&C.jsx(it,{variant:"primary",leftIcon:C.jsx(L6,{size:16}),onClick:()=>RK(t,e).catch(y=>n({title:"Resume failed",message:String(y)})),children:"Resume"}),C.jsx(it,{variant:"secondary",leftIcon:C.jsx(vz,{size:16}),onClick:()=>PK(t,e.id,Math.max(1,s*60+o)).catch(y=>n({title:"Reset failed",message:String(y)})),children:"Reset"})]})]}),C.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3",children:[C.jsx("div",{className:"text-sm font-semibold mb-2",children:"Duration"}),C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsx(Ci,{label:"Minutes",type:"number",min:0,value:s,onChange:y=>a(Math.max(0,Number(y.target.value)))}),C.jsx(Ci,{label:"Seconds",type:"number",min:0,max:59,value:o,onChange:y=>l(Math.min(59,Math.max(0,Number(y.target.value))))})]}),C.jsx("div",{className:"mt-2",children:C.jsx(it,{variant:"secondary",onClick:()=>m().catch(y=>n({title:"Save failed",message:String(y)})),children:"Save duration"})}),C.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"When you pause, the remaining time is synced to Firebase so multiple users/devices stay consistent."})]})]})}function FK({item:t}){var n;const e=(n=t.mimeType)==null?void 0:n.startsWith("image/");return C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"text-sm text-slate-600",children:C.jsxs("a",{href:t.downloadUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 underline underline-offset-4",children:["Open file ",C.jsx(oz,{size:14})]})}),e?C.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-2",children:C.jsx("img",{src:t.downloadUrl,alt:t.name,className:"w-full rounded-xl object-contain max-h-[420px]"})}):C.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"Preview is available for images. For other file types, use Open file."}),C.jsxs("div",{className:"text-xs text-slate-500",children:[t.mimeType,"  ",Math.round(t.size/1024)," KB"]})]})}function VK({labId:t,focusItemId:e,onFocusConsumed:n}){const{push:r}=dr(),[i,s]=W.useState(null),[a,o]=W.useState([]),[l,u]=W.useState([]),[h,d]=W.useState(null),f=W.useMemo(()=>{const w={};for(const S of l)w[S.id]=S;return w},[l]),m=h?f[h]??null:null;W.useEffect(()=>{const w=GF(t,i,o);return()=>w()},[t,i]),W.useEffect(()=>{const w=KF(t,u);return()=>w()},[t]),W.useEffect(()=>{if(!e)return;const w=f[e];w&&(d(w.id),s(w.parentId),n())},[e,f,n]),W.useEffect(()=>{d(null)},[i]);async function y(w){if(w.type==="folder"){s(w.id);return}d(w.id)}return C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"flex flex-wrap items-center gap-2",children:C.jsx(UF,{currentFolderId:i,itemsById:f,onNavigate:w=>s(w)})}),C.jsx(nV,{labId:t,currentFolderId:i,selectedItem:m,onCreated:w=>{d(w)}}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-3",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx(qF,{items:a,selectedId:h,onSelect:w=>d(w),onOpen:y}),C.jsx("div",{className:"text-xs text-slate-500",children:"Drag-and-drop move is planned. For now, use folders and manual organization."})]}),C.jsx(MK,{labId:t,item:m,itemsById:f,onOpenFolder:w=>s(w)})]})]})}function BK(){const{labId:t}=XI(),[e]=SA(),n=e.get("open"),{lab:r,loading:i}=BF(t),{push:s}=dr(),[a,o]=W.useState(null);return W.useEffect(()=>{n&&o(n)},[n]),t?i?C.jsx("div",{className:"text-sm text-slate-500",children:"Loading lab"}):r?C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"text-sm text-slate-500",children:"Lab"}),C.jsx("div",{className:"text-2xl font-semibold",children:r.name}),C.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[r.type==="shared"?"Shared lab":"Personal lab"," ",r.isPublic?" Public in lobby":""]})]}),C.jsx(Vu,{to:"/labs",children:C.jsx(it,{variant:"secondary",leftIcon:C.jsx(D6,{size:16}),children:"Lobby"})})]}),C.jsx(VK,{labId:t,focusItemId:a,onFocusConsumed:()=>o(null)})]}):C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"text-sm text-slate-500",children:"Lab not found."}),C.jsx(Vu,{to:"/labs",children:C.jsx(it,{variant:"secondary",leftIcon:C.jsx(D6,{size:16}),children:"Back"})})]}):null}function UK(){const{user:t,loading:e}=Qs();return e?C.jsx("div",{className:"min-h-screen grid place-items-center",children:C.jsx("div",{className:"text-sm text-slate-500",children:"Loading"})}):C.jsxs(fA,{children:[C.jsx(ca,{path:"/login",element:t?C.jsx(no,{to:"/labs",replace:!0}):C.jsx(zF,{})}),C.jsx(ca,{path:"/signup",element:t?C.jsx(no,{to:"/labs",replace:!0}):C.jsx(FF,{})}),C.jsx(ca,{path:"/",element:C.jsx(no,{to:t?"/labs":"/login",replace:!0})}),C.jsx(ca,{path:"/labs",element:t?C.jsx(G6,{children:C.jsx(VF,{})}):C.jsx(no,{to:"/login",replace:!0})}),C.jsx(ca,{path:"/lab/:labId/*",element:t?C.jsx(G6,{children:C.jsx(BK,{})}):C.jsx(no,{to:"/login",replace:!0})}),C.jsx(ca,{path:"*",element:C.jsx(no,{to:"/",replace:!0})})]})}Qm.createRoot(document.getElementById("root")).render(C.jsx(Y1.StrictMode,{children:C.jsx(xA,{children:C.jsx(xz,{children:C.jsx(tz,{children:C.jsx(Tz,{children:C.jsx(UK,{})})})})})}));
